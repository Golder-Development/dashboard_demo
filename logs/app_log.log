2025/02/28 11:58:24 AM INFO:Logging is set up correctly!
2025/02/28 11:58:24 AM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 11:58:25 AM INFO:get_git_version executed successfully
2025/02/28 11:58:25 AM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 11:58:25 AM INFO:get_git_version executed successfully
2025/02/28 11:58:25 AM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 11:58:26 AM INFO:get_git_version executed successfully
2025/02/28 11:58:26 AM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:Setting up the package
2025/02/28 11:58:26 AM INFO:Setting up the package
2025/02/28 11:58:26 AM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 11:58:26 AM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 11:58:26 AM INFO:get_git_version executed successfully
2025/02/28 11:58:26 AM INFO:Version: v2.103
2025/02/28 11:58:26 AM INFO:get_git_version executed successfully
2025/02/28 11:58:26 AM INFO:Calling initialize_session_state with args=()
2025/02/28 11:58:26 AM INFO:Version: v2.103
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 11:58:26 AM INFO:Calling initialize_session_state with args=()
2025/02/28 11:58:26 AM INFO:Initialized BASE_DIR to H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized BASE_DIR to H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized filenames to {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized filenames to {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized PLACEHOLDER_DATE to 1900-01-01 00:00:00
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized PLACEHOLDER_DATE to 1900-01-01 00:00:00
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized PLACEHOLDER_ID to 1000001
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized PLACEHOLDER_ID to 1000001
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized thresholds to {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized thresholds to {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized data_remappings to {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized data_remappings to {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized filter_def to {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized filter_def to {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized security to {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized security to {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized directories to {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized directories to {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 11:58:26 AM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'},)
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'},)
2025/02/28 11:58:26 AM INFO:ensure_directories_exist executed successfully
2025/02/28 11:58:26 AM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'},)
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 11:58:26 AM INFO:Initialized reference_dir to H:\VScode\dashboard_demo\reference_files
2025/02/28 11:58:26 AM INFO:ensure_directories_exist executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'},)
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 11:58:26 AM INFO:Initialized data_dir to H:\VScode\dashboard_demo\data
2025/02/28 11:58:26 AM INFO:Initialized reference_dir to H:\VScode\dashboard_demo\reference_files
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 11:58:26 AM INFO:Initialized output_dir to H:\VScode\dashboard_demo\output
2025/02/28 11:58:26 AM INFO:Initialized data_dir to H:\VScode\dashboard_demo\data
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 11:58:26 AM INFO:Initialized logs_dir to H:\VScode\dashboard_demo\logs
2025/02/28 11:58:26 AM INFO:Initialized output_dir to H:\VScode\dashboard_demo\output
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 11:58:26 AM INFO:Initialized components_dir to H:\VScode\dashboard_demo\components
2025/02/28 11:58:26 AM INFO:Initialized logs_dir to H:\VScode\dashboard_demo\logs
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 11:58:26 AM INFO:Initialized app_pages_dir to H:\VScode\dashboard_demo\app_pages
2025/02/28 11:58:26 AM INFO:Initialized components_dir to H:\VScode\dashboard_demo\components
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 11:58:26 AM INFO:Initialized utils_dir to H:\VScode\dashboard_demo\utils
2025/02/28 11:58:26 AM INFO:Initialized app_pages_dir to H:\VScode\dashboard_demo\app_pages
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('BASE_DIR', None)
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 11:58:26 AM INFO:BASE_DIR already initialized
2025/02/28 11:58:26 AM INFO:Initialized utils_dir to H:\VScode\dashboard_demo\utils
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:initialize_directory_references executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('BASE_DIR', None)
2025/02/28 11:58:26 AM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 11:58:26 AM INFO:BASE_DIR already initialized
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Initialized Donor_dedupe_cleaned_fname to H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 11:58:26 AM INFO:initialize_directory_references executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 11:58:26 AM INFO:Initialized ListofPoliticalPeople_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 11:58:26 AM INFO:Initialized Donor_dedupe_cleaned_fname to H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 11:58:26 AM INFO:Initialized mppartymemb_fname to H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 11:58:26 AM INFO:Initialized ListofPoliticalPeople_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 11:58:26 AM INFO:Initialized donor_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 11:58:26 AM INFO:Initialized mppartymemb_fname to H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 11:58:26 AM INFO:Initialized politician_party_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 11:58:26 AM INFO:Initialized donor_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 11:58:26 AM INFO:Initialized regentity_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 11:58:26 AM INFO:Initialized politician_party_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 11:58:26 AM INFO:Initialized potential_donor_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 11:58:26 AM INFO:Initialized regentity_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 11:58:26 AM INFO:Initialized potential_regulatedentity_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 11:58:26 AM INFO:Initialized potential_donor_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 11:58:26 AM INFO:Initialized original_data_fname to H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 11:58:26 AM INFO:Initialized potential_regulatedentity_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 11:58:26 AM INFO:Initialized CREDENTIALS_FILE to H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 11:58:26 AM INFO:Initialized original_data_fname to H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 11:58:26 AM INFO:Initialized TEXT_FILE to H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 11:58:26 AM INFO:Initialized CREDENTIALS_FILE to H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 11:58:26 AM INFO:Initialized cleaned_data_fname to H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 11:58:26 AM INFO:Initialized TEXT_FILE to H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 11:58:26 AM INFO:Initialized cleaned_donations_fname to H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 11:58:26 AM INFO:Initialized cleaned_data_fname to H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 11:58:26 AM INFO:Initialized cleaned_donorlist_fname to H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 11:58:26 AM INFO:Initialized cleaned_donations_fname to H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 11:58:26 AM INFO:Initialized cleaned_regentity_fname to H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 11:58:26 AM INFO:Initialized cleaned_donorlist_fname to H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 11:58:26 AM INFO:Initialized party_summary_fname to H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 11:58:26 AM INFO:Initialized cleaned_regentity_fname to H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:initialize_filenames executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 11:58:26 AM INFO:Session_state variables initialized
2025/02/28 11:58:26 AM INFO:Initialized party_summary_fname to H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 11:58:26 AM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 11:58:26 AM INFO:initialize_filenames executed successfully
2025/02/28 11:58:26 AM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 11:58:26 AM INFO:Session_state variables initialized
2025/02/28 11:58:26 AM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 11:58:26 AM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 11:58:26 AM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 11:58:26 AM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 11:58:26 AM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 11:58:26 AM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 11:58:26 AM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 11:58:26 AM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 11:58:26 AM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 11:58:26 AM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 11:58:26 AM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 11:58:26 AM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 11:58:26 AM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 11:58:26 AM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 11:58:26 AM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 11:58:26 AM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 11:58:26 AM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 11:58:26 AM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 11:58:26 AM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 11:58:26 AM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 11:58:26 AM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 11:58:26 AM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 11:58:26 AM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 11:58:26 AM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 11:58:26 AM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 11:58:26 AM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 11:58:26 AM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 11:58:26 AM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 11:58:26 AM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 11:58:26 AM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 11:58:26 AM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 11:58:26 AM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 11:58:26 AM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 11:58:26 AM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 11:58:26 AM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 11:58:26 AM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 11:58:26 AM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 11:58:26 AM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 11:58:26 AM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 11:58:26 AM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 11:58:26 AM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 11:58:26 AM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 11:58:26 AM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 11:58:26 AM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 11:58:26 AM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 11:58:26 AM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 11:58:26 AM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 11:58:26 AM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 11:58:26 AM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 11:58:26 AM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 11:58:26 AM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 11:58:26 AM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 11:58:26 AM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 11:58:26 AM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 11:58:26 AM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 11:58:26 AM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 11:58:26 AM INFO:Session state Setup complete
2025/02/28 11:58:26 AM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 11:58:26 AM INFO:initialize_session_state executed successfully
2025/02/28 11:58:26 AM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 11:58:26 AM INFO:Package setup complete
2025/02/28 11:58:26 AM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 11:58:26 AM INFO:Session state Setup complete
2025/02/28 11:58:26 AM INFO:Calling pagesetup with args=()
2025/02/28 11:58:26 AM INFO:initialize_session_state executed successfully
2025/02/28 11:58:26 AM INFO:Package setup complete
2025/02/28 11:58:26 AM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 11:58:26 AM INFO:Calling pagesetup with args=()
2025/02/28 11:58:26 AM INFO:get_git_version executed successfully
2025/02/28 11:58:26 AM INFO:Calling get_git_version with args=()
2025/02/28 11:58:26 AM INFO:get_git_version executed successfully
2025/02/28 11:58:26 AM INFO:App Version: v2.115
2025/02/28 11:58:26 AM INFO:Switched to page: Introduction
2025/02/28 11:58:26 AM INFO:pagesetup executed successfully
2025/02/28 11:58:26 AM INFO:Calling firstload with args=()
2025/02/28 11:58:26 AM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000002A311B229E0>)
2025/02/28 11:58:26 AM INFO:Calling get_raw_data with args=()
2025/02/28 11:58:26 AM INFO:Calling load_raw_data with args=()
2025/02/28 11:58:26 AM INFO:BASE_DIR = H:\VScode\dashboard_demo
2025/02/28 11:58:26 AM INFO:directories = {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 11:58:26 AM INFO:filenames = {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 11:58:26 AM ERROR:ec_donations_fname = Not in session state
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('ec_donations_fname', None)
2025/02/28 11:58:26 AM INFO:Initialized ec_donations_fname to None
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'},)
2025/02/28 11:58:26 AM INFO:ensure_directories_exist executed successfully
2025/02/28 11:58:26 AM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'},)
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 11:58:26 AM INFO:reference_dir already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 11:58:26 AM INFO:data_dir already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 11:58:26 AM INFO:output_dir already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 11:58:26 AM INFO:logs_dir already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 11:58:26 AM INFO:components_dir already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 11:58:26 AM INFO:app_pages_dir already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 11:58:26 AM INFO:utils_dir already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('BASE_DIR', None)
2025/02/28 11:58:26 AM INFO:BASE_DIR already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:initialize_directory_references executed successfully
2025/02/28 11:58:26 AM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 11:58:26 AM INFO:Donor_dedupe_cleaned_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 11:58:26 AM INFO:ListofPoliticalPeople_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 11:58:26 AM INFO:mppartymemb_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 11:58:26 AM INFO:donor_map_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 11:58:26 AM INFO:politician_party_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 11:58:26 AM INFO:regentity_map_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 11:58:26 AM INFO:potential_donor_duplicates_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 11:58:26 AM INFO:potential_regulatedentity_duplicates_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 11:58:26 AM INFO:original_data_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 11:58:26 AM INFO:CREDENTIALS_FILE already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 11:58:26 AM INFO:TEXT_FILE already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 11:58:26 AM INFO:cleaned_data_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 11:58:26 AM INFO:cleaned_donations_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 11:58:26 AM INFO:cleaned_donorlist_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 11:58:26 AM INFO:cleaned_regentity_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 11:58:26 AM INFO:party_summary_fname already initialized
2025/02/28 11:58:26 AM INFO:init_state_var executed successfully
2025/02/28 11:58:26 AM INFO:initialize_filenames executed successfully
2025/02/28 11:58:26 AM ERROR:Error in session state variables
2025/02/28 11:58:26 AM INFO:Calling validate_file_existence with args=(None,)
2025/02/28 11:58:26 AM ERROR:Error in validate_file_existence: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:26 AM ERROR:Error in load_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:26 AM ERROR:Error in get_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:26 AM ERROR:Error in load_data_to_session: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:26 AM ERROR:Error in firstload: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 55, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:27 AM INFO:Calling get_git_version with args=()
2025/02/28 11:58:27 AM INFO:get_git_version executed successfully
2025/02/28 11:58:27 AM INFO:App Version: v2.115
2025/02/28 11:58:27 AM INFO:Switched to page: Introduction
2025/02/28 11:58:27 AM INFO:pagesetup executed successfully
2025/02/28 11:58:27 AM INFO:Calling firstload with args=()
2025/02/28 11:58:27 AM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000002A311B229E0>)
2025/02/28 11:58:27 AM INFO:Calling get_raw_data with args=()
2025/02/28 11:58:27 AM INFO:Calling load_raw_data with args=()
2025/02/28 11:58:27 AM INFO:BASE_DIR = H:\VScode\dashboard_demo
2025/02/28 11:58:27 AM INFO:directories = {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 11:58:27 AM INFO:filenames = {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 11:58:27 AM ERROR:ec_donations_fname = Not in session state
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('ec_donations_fname', None)
2025/02/28 11:58:27 AM INFO:Initialized ec_donations_fname to None
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'},)
2025/02/28 11:58:27 AM INFO:ensure_directories_exist executed successfully
2025/02/28 11:58:27 AM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'},)
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 11:58:27 AM INFO:reference_dir already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 11:58:27 AM INFO:data_dir already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 11:58:27 AM INFO:output_dir already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 11:58:27 AM INFO:logs_dir already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 11:58:27 AM INFO:components_dir already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 11:58:27 AM INFO:app_pages_dir already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 11:58:27 AM INFO:utils_dir already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('BASE_DIR', None)
2025/02/28 11:58:27 AM INFO:BASE_DIR already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:initialize_directory_references executed successfully
2025/02/28 11:58:27 AM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 11:58:27 AM INFO:Donor_dedupe_cleaned_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 11:58:27 AM INFO:ListofPoliticalPeople_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 11:58:27 AM INFO:mppartymemb_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 11:58:27 AM INFO:donor_map_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 11:58:27 AM INFO:politician_party_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 11:58:27 AM INFO:regentity_map_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 11:58:27 AM INFO:potential_donor_duplicates_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 11:58:27 AM INFO:potential_regulatedentity_duplicates_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 11:58:27 AM INFO:original_data_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 11:58:27 AM INFO:CREDENTIALS_FILE already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 11:58:27 AM INFO:TEXT_FILE already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 11:58:27 AM INFO:cleaned_data_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 11:58:27 AM INFO:cleaned_donations_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 11:58:27 AM INFO:cleaned_donorlist_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 11:58:27 AM INFO:cleaned_regentity_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 11:58:27 AM INFO:party_summary_fname already initialized
2025/02/28 11:58:27 AM INFO:init_state_var executed successfully
2025/02/28 11:58:27 AM INFO:initialize_filenames executed successfully
2025/02/28 11:58:27 AM ERROR:Error in session state variables
2025/02/28 11:58:27 AM INFO:Calling validate_file_existence with args=(None,)
2025/02/28 11:58:27 AM ERROR:Error in validate_file_existence: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:27 AM ERROR:Error in load_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:27 AM ERROR:Error in get_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:27 AM ERROR:Error in load_data_to_session: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 11:58:27 AM ERROR:Error in firstload: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 55, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:05:28 PM INFO:Logging is set up correctly!
2025/02/28 12:05:28 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:05:28 PM INFO:get_git_version executed successfully
2025/02/28 12:05:29 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:05:29 PM INFO:get_git_version executed successfully
2025/02/28 12:05:29 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:05:29 PM INFO:get_git_version executed successfully
2025/02/28 12:05:29 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:05:29 PM INFO:Setting up the package
2025/02/28 12:05:29 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:05:29 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:05:29 PM INFO:get_git_version executed successfully
2025/02/28 12:05:29 PM INFO:Version: v2.103
2025/02/28 12:05:29 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:05:29 PM INFO:Initialized BASE_DIR to H:\VScode\dashboard_demo
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:05:29 PM INFO:Initialized filenames to {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:05:29 PM INFO:Initialized PLACEHOLDER_DATE to 1900-01-01 00:00:00
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:05:29 PM INFO:Initialized PLACEHOLDER_ID to 1000001
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:05:29 PM INFO:Initialized thresholds to {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:05:29 PM INFO:Initialized data_remappings to {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:05:29 PM INFO:Initialized filter_def to {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:05:29 PM INFO:Initialized security to {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'})
2025/02/28 12:05:29 PM INFO:Initialized directories to {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:05:29 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:05:29 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:05:29 PM INFO:Initialized reference_dir to H:\VScode\dashboard_demo\reference_files
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:05:29 PM INFO:Initialized data_dir to H:\VScode\dashboard_demo\data
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:05:29 PM INFO:Initialized output_dir to H:\VScode\dashboard_demo\output
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:05:29 PM INFO:Initialized logs_dir to H:\VScode\dashboard_demo\logs
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:05:29 PM INFO:Initialized components_dir to H:\VScode\dashboard_demo\components
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:05:29 PM INFO:Initialized app_pages_dir to H:\VScode\dashboard_demo\app_pages
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:05:29 PM INFO:Initialized utils_dir to H:\VScode\dashboard_demo\utils
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:05:29 PM INFO:BASE_DIR already initialized
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:05:29 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:05:29 PM INFO:Initialized Donor_dedupe_cleaned_fname to H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:05:29 PM INFO:Initialized ListofPoliticalPeople_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:05:29 PM INFO:Initialized mppartymemb_fname to H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:05:29 PM INFO:Initialized donor_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:05:29 PM INFO:Initialized politician_party_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:05:29 PM INFO:Initialized regentity_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:05:29 PM INFO:Initialized potential_donor_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:05:29 PM INFO:Initialized potential_regulatedentity_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:05:29 PM INFO:Initialized original_data_fname to H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:05:29 PM INFO:Initialized CREDENTIALS_FILE to H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:05:29 PM INFO:Initialized TEXT_FILE to H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:05:29 PM INFO:Initialized cleaned_data_fname to H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:05:29 PM INFO:Initialized cleaned_donations_fname to H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:05:29 PM INFO:Initialized cleaned_donorlist_fname to H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:05:29 PM INFO:Initialized cleaned_regentity_fname to H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:05:29 PM INFO:Initialized party_summary_fname to H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:05:29 PM INFO:init_state_var executed successfully
2025/02/28 12:05:29 PM INFO:initialize_filenames executed successfully
2025/02/28 12:05:29 PM INFO:Session_state variables initialized
2025/02/28 12:05:29 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:05:29 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:05:29 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:05:29 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:05:29 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:05:29 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:05:29 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:05:29 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:05:29 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:05:29 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:05:29 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:05:29 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:05:29 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:05:29 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:05:29 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:05:29 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:05:29 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:05:29 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:05:29 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:05:29 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:05:29 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:05:29 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:05:29 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:05:29 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:05:29 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:05:29 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:05:29 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:05:29 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:05:29 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:05:29 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:05:29 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:05:29 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:05:29 PM INFO:Session state Setup complete
2025/02/28 12:05:29 PM INFO:initialize_session_state executed successfully
2025/02/28 12:05:29 PM INFO:Package setup complete
2025/02/28 12:05:29 PM INFO:Calling pagesetup with args=()
2025/02/28 12:05:29 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:05:29 PM INFO:get_git_version executed successfully
2025/02/28 12:05:30 PM INFO:Calling get_git_version with args=()
2025/02/28 12:05:30 PM INFO:get_git_version executed successfully
2025/02/28 12:05:30 PM INFO:App Version: v2.115
2025/02/28 12:05:30 PM INFO:Switched to page: Introduction
2025/02/28 12:05:30 PM INFO:pagesetup executed successfully
2025/02/28 12:05:30 PM INFO:Calling firstload with args=()
2025/02/28 12:05:30 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000001D514AE2830>)
2025/02/28 12:05:30 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:05:30 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:05:30 PM INFO:BASE_DIR = H:\VScode\dashboard_demo
2025/02/28 12:05:30 PM INFO:directories = {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:05:30 PM INFO:filenames = {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:05:30 PM ERROR:ec_donations_fname = Not in session state
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('ec_donations_fname', None)
2025/02/28 12:05:30 PM INFO:Initialized ec_donations_fname to None
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:05:30 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:05:30 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:05:30 PM INFO:reference_dir already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:05:30 PM INFO:data_dir already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:05:30 PM INFO:output_dir already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:05:30 PM INFO:logs_dir already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:05:30 PM INFO:components_dir already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:05:30 PM INFO:app_pages_dir already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:05:30 PM INFO:utils_dir already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:05:30 PM INFO:BASE_DIR already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:05:30 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:05:30 PM INFO:Donor_dedupe_cleaned_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:05:30 PM INFO:ListofPoliticalPeople_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:05:30 PM INFO:mppartymemb_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:05:30 PM INFO:donor_map_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:05:30 PM INFO:politician_party_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:05:30 PM INFO:regentity_map_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:05:30 PM INFO:potential_donor_duplicates_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:05:30 PM INFO:potential_regulatedentity_duplicates_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:05:30 PM INFO:original_data_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:05:30 PM INFO:CREDENTIALS_FILE already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:05:30 PM INFO:TEXT_FILE already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:05:30 PM INFO:cleaned_data_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:05:30 PM INFO:cleaned_donations_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:05:30 PM INFO:cleaned_donorlist_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:05:30 PM INFO:cleaned_regentity_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:05:30 PM INFO:party_summary_fname already initialized
2025/02/28 12:05:30 PM INFO:init_state_var executed successfully
2025/02/28 12:05:30 PM INFO:initialize_filenames executed successfully
2025/02/28 12:05:30 PM ERROR:Error in session state variables
2025/02/28 12:05:30 PM INFO:Calling validate_file_existence with args=(None,)
2025/02/28 12:05:30 PM ERROR:Error in validate_file_existence: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:05:30 PM ERROR:Error in load_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:05:30 PM ERROR:Error in get_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:05:30 PM ERROR:Error in load_data_to_session: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:05:30 PM ERROR:Error in firstload: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 55, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:10:17 PM INFO:Logging is set up correctly!
2025/02/28 12:10:17 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:10:17 PM INFO:get_git_version executed successfully
2025/02/28 12:10:18 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:10:18 PM INFO:get_git_version executed successfully
2025/02/28 12:10:18 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:10:19 PM INFO:get_git_version executed successfully
2025/02/28 12:10:19 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:10:19 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:10:19 PM INFO:Setting up the package
2025/02/28 12:10:19 PM INFO:Setting up the package
2025/02/28 12:10:19 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:10:19 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:10:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:10:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:10:19 PM INFO:get_git_version executed successfully
2025/02/28 12:10:19 PM INFO:get_git_version executed successfully
2025/02/28 12:10:19 PM INFO:Version: v2.103
2025/02/28 12:10:19 PM INFO:Version: v2.103
2025/02/28 12:10:19 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:10:19 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:10:19 PM INFO:Initialized BASE_DIR to H:\VScode\dashboard_demo
2025/02/28 12:10:19 PM INFO:Initialized BASE_DIR to H:\VScode\dashboard_demo
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:10:19 PM INFO:Initialized filenames to {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:10:19 PM INFO:Initialized filenames to {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:10:19 PM INFO:Initialized PLACEHOLDER_DATE to 1900-01-01 00:00:00
2025/02/28 12:10:19 PM INFO:Initialized PLACEHOLDER_DATE to 1900-01-01 00:00:00
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:10:19 PM INFO:Initialized PLACEHOLDER_ID to 1000001
2025/02/28 12:10:19 PM INFO:Initialized PLACEHOLDER_ID to 1000001
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:10:19 PM INFO:Initialized thresholds to {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:10:19 PM INFO:Initialized thresholds to {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:10:19 PM INFO:Initialized data_remappings to {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:10:19 PM INFO:Initialized data_remappings to {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:10:19 PM INFO:Initialized filter_def to {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:10:19 PM INFO:Initialized filter_def to {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:10:19 PM INFO:Initialized security to {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:10:19 PM INFO:Initialized security to {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'})
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'})
2025/02/28 12:10:19 PM INFO:Initialized directories to {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:10:19 PM INFO:Initialized directories to {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:10:19 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:10:19 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:10:19 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:10:19 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:10:19 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:10:19 PM INFO:Initialized reference_dir to H:\VScode\dashboard_demo\reference_files
2025/02/28 12:10:19 PM INFO:Initialized reference_dir to H:\VScode\dashboard_demo\reference_files
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:10:19 PM INFO:Initialized data_dir to H:\VScode\dashboard_demo\data
2025/02/28 12:10:19 PM INFO:Initialized data_dir to H:\VScode\dashboard_demo\data
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:10:19 PM INFO:Initialized output_dir to H:\VScode\dashboard_demo\output
2025/02/28 12:10:19 PM INFO:Initialized output_dir to H:\VScode\dashboard_demo\output
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:10:19 PM INFO:Initialized logs_dir to H:\VScode\dashboard_demo\logs
2025/02/28 12:10:19 PM INFO:Initialized logs_dir to H:\VScode\dashboard_demo\logs
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:10:19 PM INFO:Initialized components_dir to H:\VScode\dashboard_demo\components
2025/02/28 12:10:19 PM INFO:Initialized components_dir to H:\VScode\dashboard_demo\components
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:10:19 PM INFO:Initialized app_pages_dir to H:\VScode\dashboard_demo\app_pages
2025/02/28 12:10:19 PM INFO:Initialized app_pages_dir to H:\VScode\dashboard_demo\app_pages
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:10:19 PM INFO:Initialized utils_dir to H:\VScode\dashboard_demo\utils
2025/02/28 12:10:19 PM INFO:Initialized utils_dir to H:\VScode\dashboard_demo\utils
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:10:19 PM INFO:BASE_DIR already initialized
2025/02/28 12:10:19 PM INFO:BASE_DIR already initialized
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:10:19 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:10:19 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:10:19 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:10:19 PM INFO:Initialized Donor_dedupe_cleaned_fname to H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:10:19 PM INFO:Initialized Donor_dedupe_cleaned_fname to H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:10:19 PM INFO:Initialized ListofPoliticalPeople_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:10:19 PM INFO:Initialized ListofPoliticalPeople_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:10:19 PM INFO:Initialized mppartymemb_fname to H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:10:19 PM INFO:Initialized mppartymemb_fname to H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:10:19 PM INFO:Initialized donor_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:10:19 PM INFO:Initialized donor_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:10:19 PM INFO:Initialized politician_party_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:10:19 PM INFO:Initialized politician_party_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:10:19 PM INFO:Initialized regentity_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:10:19 PM INFO:Initialized regentity_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:10:19 PM INFO:Initialized potential_donor_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:10:19 PM INFO:Initialized potential_donor_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:10:19 PM INFO:Initialized potential_regulatedentity_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:10:19 PM INFO:Initialized potential_regulatedentity_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:10:19 PM INFO:Initialized original_data_fname to H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:10:19 PM INFO:Initialized original_data_fname to H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:10:19 PM INFO:Initialized CREDENTIALS_FILE to H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:10:19 PM INFO:Initialized CREDENTIALS_FILE to H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:10:19 PM INFO:Initialized TEXT_FILE to H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:10:19 PM INFO:Initialized TEXT_FILE to H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:10:19 PM INFO:Initialized cleaned_data_fname to H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:10:19 PM INFO:Initialized cleaned_data_fname to H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:10:19 PM INFO:Initialized cleaned_donations_fname to H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:10:19 PM INFO:Initialized cleaned_donations_fname to H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:10:19 PM INFO:Initialized cleaned_donorlist_fname to H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:10:19 PM INFO:Initialized cleaned_donorlist_fname to H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:10:19 PM INFO:Initialized cleaned_regentity_fname to H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:10:19 PM INFO:Initialized cleaned_regentity_fname to H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:10:19 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:10:19 PM INFO:Initialized party_summary_fname to H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:10:19 PM INFO:Initialized party_summary_fname to H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:init_state_var executed successfully
2025/02/28 12:10:19 PM INFO:initialize_filenames executed successfully
2025/02/28 12:10:19 PM INFO:initialize_filenames executed successfully
2025/02/28 12:10:19 PM INFO:Session_state variables initialized
2025/02/28 12:10:19 PM INFO:Session_state variables initialized
2025/02/28 12:10:19 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:10:19 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:10:19 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:10:19 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:10:19 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:10:19 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:10:19 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:10:19 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:10:19 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:10:19 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:10:19 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:10:19 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:10:19 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:10:19 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:10:19 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:10:19 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:10:19 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:10:19 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:10:19 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:10:19 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:10:19 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:10:19 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:10:19 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:10:19 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:10:19 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:10:19 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:10:19 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:10:19 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:10:19 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:10:19 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:10:19 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:10:19 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:10:19 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:10:19 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:10:19 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:10:19 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:10:19 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:10:19 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:10:19 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:10:19 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:10:19 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:10:19 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:10:19 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:10:19 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:10:19 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:10:19 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:10:19 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:10:19 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:10:19 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:10:19 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:10:19 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:10:19 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:10:19 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:10:19 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:10:19 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:10:19 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:10:19 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:10:19 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:10:19 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:10:19 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:10:19 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:10:19 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:10:19 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:10:19 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:10:19 PM INFO:Session state Setup complete
2025/02/28 12:10:19 PM INFO:Session state Setup complete
2025/02/28 12:10:19 PM INFO:initialize_session_state executed successfully
2025/02/28 12:10:19 PM INFO:initialize_session_state executed successfully
2025/02/28 12:10:19 PM INFO:Package setup complete
2025/02/28 12:10:19 PM INFO:Package setup complete
2025/02/28 12:10:19 PM INFO:Calling pagesetup with args=()
2025/02/28 12:10:19 PM INFO:Calling pagesetup with args=()
2025/02/28 12:10:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:10:19 PM INFO:get_git_version executed successfully
2025/02/28 12:10:19 PM INFO:Calling get_git_version with args=()
2025/02/28 12:10:20 PM INFO:get_git_version executed successfully
2025/02/28 12:10:20 PM INFO:App Version: v2.115
2025/02/28 12:10:20 PM INFO:Switched to page: Introduction
2025/02/28 12:10:20 PM INFO:pagesetup executed successfully
2025/02/28 12:10:20 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:10:20 PM INFO:BASE_DIR = H:\VScode\dashboard_demo
2025/02/28 12:10:20 PM INFO:directories = {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:10:20 PM INFO:filenames = {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:10:20 PM ERROR:ec_donations_fname = Not in session state
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('ec_donations_fname', None)
2025/02/28 12:10:20 PM INFO:Initialized ec_donations_fname to None
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:10:20 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:10:20 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:10:20 PM INFO:reference_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:10:20 PM INFO:data_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:10:20 PM INFO:output_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:10:20 PM INFO:logs_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:10:20 PM INFO:components_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:10:20 PM INFO:app_pages_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:10:20 PM INFO:utils_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:10:20 PM INFO:BASE_DIR already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:10:20 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:10:20 PM INFO:Donor_dedupe_cleaned_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:10:20 PM INFO:ListofPoliticalPeople_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:10:20 PM INFO:mppartymemb_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:10:20 PM INFO:donor_map_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:10:20 PM INFO:politician_party_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:10:20 PM INFO:regentity_map_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:10:20 PM INFO:potential_donor_duplicates_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:10:20 PM INFO:potential_regulatedentity_duplicates_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:10:20 PM INFO:original_data_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:10:20 PM INFO:CREDENTIALS_FILE already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:10:20 PM INFO:TEXT_FILE already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:10:20 PM INFO:cleaned_data_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:10:20 PM INFO:cleaned_donations_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:10:20 PM INFO:cleaned_donorlist_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:10:20 PM INFO:cleaned_regentity_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:10:20 PM INFO:party_summary_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:initialize_filenames executed successfully
2025/02/28 12:10:20 PM ERROR:Error in session state variables
2025/02/28 12:10:20 PM INFO:Calling validate_file_existence with args=(None,)
2025/02/28 12:10:20 PM ERROR:Error in validate_file_existence: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:10:20 PM ERROR:Error in load_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:10:20 PM INFO:Calling get_git_version with args=()
2025/02/28 12:10:20 PM INFO:get_git_version executed successfully
2025/02/28 12:10:20 PM INFO:App Version: v2.115
2025/02/28 12:10:20 PM INFO:Switched to page: Introduction
2025/02/28 12:10:20 PM INFO:pagesetup executed successfully
2025/02/28 12:10:20 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:10:20 PM INFO:BASE_DIR = H:\VScode\dashboard_demo
2025/02/28 12:10:20 PM INFO:directories = {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:10:20 PM INFO:filenames = {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:10:20 PM ERROR:ec_donations_fname = Not in session state
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('ec_donations_fname', None)
2025/02/28 12:10:20 PM INFO:Initialized ec_donations_fname to None
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:10:20 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:10:20 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:10:20 PM INFO:reference_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:10:20 PM INFO:data_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:10:20 PM INFO:output_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:10:20 PM INFO:logs_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:10:20 PM INFO:components_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:10:20 PM INFO:app_pages_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:10:20 PM INFO:utils_dir already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:10:20 PM INFO:BASE_DIR already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:10:20 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:10:20 PM INFO:Donor_dedupe_cleaned_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:10:20 PM INFO:ListofPoliticalPeople_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:10:20 PM INFO:mppartymemb_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:10:20 PM INFO:donor_map_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:10:20 PM INFO:politician_party_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:10:20 PM INFO:regentity_map_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:10:20 PM INFO:potential_donor_duplicates_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:10:20 PM INFO:potential_regulatedentity_duplicates_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:10:20 PM INFO:original_data_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:10:20 PM INFO:CREDENTIALS_FILE already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:10:20 PM INFO:TEXT_FILE already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:10:20 PM INFO:cleaned_data_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:10:20 PM INFO:cleaned_donations_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:10:20 PM INFO:cleaned_donorlist_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:10:20 PM INFO:cleaned_regentity_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:10:20 PM INFO:party_summary_fname already initialized
2025/02/28 12:10:20 PM INFO:init_state_var executed successfully
2025/02/28 12:10:20 PM INFO:initialize_filenames executed successfully
2025/02/28 12:10:20 PM ERROR:Error in session state variables
2025/02/28 12:10:20 PM INFO:Calling validate_file_existence with args=(None,)
2025/02/28 12:10:20 PM ERROR:Error in validate_file_existence: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:10:20 PM ERROR:Error in load_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:14:18 PM INFO:Logging is set up correctly!
2025/02/28 12:14:18 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:14:18 PM INFO:get_git_version executed successfully
2025/02/28 12:14:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:14:19 PM INFO:get_git_version executed successfully
2025/02/28 12:14:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:14:19 PM INFO:get_git_version executed successfully
2025/02/28 12:14:19 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:14:19 PM INFO:Setting up the package
2025/02/28 12:14:19 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:14:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:14:19 PM INFO:get_git_version executed successfully
2025/02/28 12:14:19 PM INFO:Version: v2.103
2025/02/28 12:14:19 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:14:19 PM INFO:Initialized BASE_DIR to H:\VScode\dashboard_demo
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:14:19 PM INFO:Initialized filenames to {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:14:19 PM INFO:Initialized PLACEHOLDER_DATE to 1900-01-01 00:00:00
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:14:19 PM INFO:Initialized PLACEHOLDER_ID to 1000001
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:14:19 PM INFO:Initialized thresholds to {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:14:19 PM INFO:Initialized data_remappings to {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:14:19 PM INFO:Initialized filter_def to {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:14:19 PM INFO:Initialized security to {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'})
2025/02/28 12:14:19 PM INFO:Initialized directories to {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:14:19 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:14:19 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:14:19 PM INFO:Initialized reference_dir to H:\VScode\dashboard_demo\reference_files
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:14:19 PM INFO:Initialized data_dir to H:\VScode\dashboard_demo\data
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:14:19 PM INFO:Initialized output_dir to H:\VScode\dashboard_demo\output
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:14:19 PM INFO:Initialized logs_dir to H:\VScode\dashboard_demo\logs
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:14:19 PM INFO:Initialized components_dir to H:\VScode\dashboard_demo\components
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:14:19 PM INFO:Initialized app_pages_dir to H:\VScode\dashboard_demo\app_pages
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:14:19 PM INFO:Initialized utils_dir to H:\VScode\dashboard_demo\utils
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:14:19 PM INFO:BASE_DIR already initialized
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:14:19 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:14:19 PM INFO:Initialized Donor_dedupe_cleaned_fname to H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:14:19 PM INFO:Initialized ListofPoliticalPeople_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:14:19 PM INFO:Initialized mppartymemb_fname to H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:14:19 PM INFO:Initialized donor_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:14:19 PM INFO:Initialized politician_party_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:14:19 PM INFO:Initialized regentity_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:14:19 PM INFO:Initialized potential_donor_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:14:19 PM INFO:Initialized potential_regulatedentity_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:14:19 PM INFO:Initialized original_data_fname to H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:14:19 PM INFO:Initialized CREDENTIALS_FILE to H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:14:19 PM INFO:Initialized TEXT_FILE to H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:14:19 PM INFO:Initialized cleaned_data_fname to H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:14:19 PM INFO:Initialized cleaned_donations_fname to H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:14:19 PM INFO:Initialized cleaned_donorlist_fname to H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:14:19 PM INFO:Initialized cleaned_regentity_fname to H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:14:19 PM INFO:Initialized party_summary_fname to H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:14:19 PM INFO:init_state_var executed successfully
2025/02/28 12:14:19 PM INFO:initialize_filenames executed successfully
2025/02/28 12:14:19 PM INFO:Session_state variables initialized
2025/02/28 12:14:19 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:14:19 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:14:19 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:14:19 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:14:19 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:14:19 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:14:19 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:14:19 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:14:19 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:14:19 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:14:19 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:14:19 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:14:19 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:14:19 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:14:19 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:14:19 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:14:19 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:14:19 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:14:19 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:14:19 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:14:19 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:14:19 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:14:19 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:14:19 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:14:19 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:14:19 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:14:19 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:14:19 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:14:19 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:14:19 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:14:19 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:14:19 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:14:19 PM INFO:Session state Setup complete
2025/02/28 12:14:19 PM INFO:initialize_session_state executed successfully
2025/02/28 12:14:19 PM INFO:Package setup complete
2025/02/28 12:14:19 PM INFO:Calling pagesetup with args=()
2025/02/28 12:14:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:14:19 PM INFO:get_git_version executed successfully
2025/02/28 12:14:21 PM INFO:Calling get_git_version with args=()
2025/02/28 12:14:21 PM INFO:get_git_version executed successfully
2025/02/28 12:14:21 PM INFO:App Version: v2.115
2025/02/28 12:14:21 PM INFO:Switched to page: Introduction
2025/02/28 12:14:21 PM INFO:pagesetup executed successfully
2025/02/28 12:14:40 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:15:31 PM INFO:BASE_DIR = H:\VScode\dashboard_demo
2025/02/28 12:15:46 PM INFO:directories = {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:16:29 PM INFO:filenames = {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:16:34 PM ERROR:ec_donations_fname = Not in session state
2025/02/28 12:16:48 PM INFO:Calling init_state_var with args=('ec_donations_fname', None)
2025/02/28 12:16:53 PM INFO:Initialized ec_donations_fname to None
2025/02/28 12:17:07 PM INFO:init_state_var executed successfully
2025/02/28 12:17:33 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:24:45 PM INFO:Logging is set up correctly!
2025/02/28 12:24:45 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:24:45 PM INFO:get_git_version executed successfully
2025/02/28 12:24:46 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:24:46 PM INFO:get_git_version executed successfully
2025/02/28 12:24:46 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:24:47 PM INFO:get_git_version executed successfully
2025/02/28 12:24:47 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:24:47 PM INFO:Setting up the package
2025/02/28 12:24:47 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:24:47 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:24:47 PM INFO:get_git_version executed successfully
2025/02/28 12:24:47 PM INFO:Version: v2.103
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:24:47 PM INFO:Initialized BASE_DIR to H:\VScode\dashboard_demo
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:24:47 PM INFO:Initialized filenames to {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:24:47 PM INFO:Initialized PLACEHOLDER_DATE to 1900-01-01 00:00:00
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:24:47 PM INFO:Initialized PLACEHOLDER_ID to 1000001
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:24:47 PM INFO:Initialized thresholds to {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:24:47 PM INFO:Initialized data_remappings to {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:24:47 PM INFO:Initialized filter_def to {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:24:47 PM INFO:Initialized security to {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'})
2025/02/28 12:24:47 PM INFO:Initialized directories to {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:24:47 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:24:47 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:24:47 PM INFO:Initialized data_dir to H:\VScode\dashboard_demo\data
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:24:47 PM INFO:Initialized output_dir to H:\VScode\dashboard_demo\output
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:24:47 PM INFO:Initialized logs_dir to H:\VScode\dashboard_demo\logs
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:24:47 PM INFO:Initialized reference_dir to H:\VScode\dashboard_demo\reference_files
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:24:47 PM INFO:Initialized components_dir to H:\VScode\dashboard_demo\components
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:24:47 PM INFO:Initialized app_pages_dir to H:\VScode\dashboard_demo\app_pages
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:24:47 PM INFO:Initialized utils_dir to H:\VScode\dashboard_demo\utils
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:24:47 PM INFO:BASE_DIR already initialized
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:24:47 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:24:47 PM INFO:Initialized Donor_dedupe_cleaned_fname to H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:24:47 PM INFO:Initialized ListofPoliticalPeople_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:24:47 PM INFO:Initialized mppartymemb_fname to H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:24:47 PM INFO:Initialized donor_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:24:47 PM INFO:Initialized politician_party_fname to H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:24:47 PM INFO:Initialized regentity_map_fname to H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:24:47 PM INFO:Initialized potential_donor_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:24:47 PM INFO:Initialized potential_regulatedentity_duplicates_fname to H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:24:47 PM INFO:Initialized original_data_fname to H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:24:47 PM INFO:Initialized CREDENTIALS_FILE to H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:24:47 PM INFO:Initialized TEXT_FILE to H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:24:47 PM INFO:Initialized cleaned_data_fname to H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:24:47 PM INFO:Initialized cleaned_donations_fname to H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:24:47 PM INFO:Initialized cleaned_donorlist_fname to H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:24:47 PM INFO:Initialized cleaned_regentity_fname to H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:24:47 PM INFO:Initialized party_summary_fname to H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:24:47 PM INFO:init_state_var executed successfully
2025/02/28 12:24:47 PM INFO:initialize_filenames executed successfully
2025/02/28 12:24:47 PM INFO:Session_state variables initialized
2025/02/28 12:24:47 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:24:47 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:24:47 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:24:47 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:24:47 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:24:47 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:24:47 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:24:47 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:24:47 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:24:47 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:24:47 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:24:47 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:24:47 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:24:47 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:24:47 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:24:47 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:24:47 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:24:47 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:24:47 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:24:47 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\Donations_accepted_by_political_parties.csv
2025/02/28 12:24:47 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:24:47 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:24:47 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:24:47 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:24:47 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:24:47 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:24:47 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:24:47 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:24:47 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:24:47 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:24:47 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:24:47 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:24:47 PM INFO:Session state Setup complete
2025/02/28 12:24:47 PM INFO:Package setup complete
2025/02/28 12:24:47 PM INFO:Calling pagesetup with args=()
2025/02/28 12:24:47 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:24:47 PM INFO:get_git_version executed successfully
2025/02/28 12:24:48 PM INFO:Calling get_git_version with args=()
2025/02/28 12:24:48 PM INFO:get_git_version executed successfully
2025/02/28 12:24:48 PM INFO:App Version: v2.115
2025/02/28 12:24:48 PM INFO:Switched to page: Introduction
2025/02/28 12:24:48 PM INFO:pagesetup executed successfully
2025/02/28 12:24:48 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:24:48 PM INFO:BASE_DIR = H:\VScode\dashboard_demo
2025/02/28 12:24:48 PM INFO:directories = {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}
2025/02/28 12:24:48 PM INFO:filenames = {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:24:48 PM ERROR:ec_donations_fname = Not in session state
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('ec_donations_fname', None)
2025/02/28 12:24:48 PM INFO:Initialized ec_donations_fname to None
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling ensure_directories_exist with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:24:48 PM INFO:ensure_directories_exist executed successfully
2025/02/28 12:24:48 PM INFO:Calling initialize_directory_references with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'},)
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:24:48 PM INFO:data_dir already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:24:48 PM INFO:output_dir already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:24:48 PM INFO:logs_dir already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:24:48 PM INFO:reference_dir already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:24:48 PM INFO:components_dir already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:24:48 PM INFO:app_pages_dir already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:24:48 PM INFO:utils_dir already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:24:48 PM INFO:BASE_DIR already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:initialize_directory_references executed successfully
2025/02/28 12:24:48 PM INFO:Calling initialize_filenames with args=({'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils', 'BASE_DIR': 'H:\\VScode\\dashboard_demo'}, {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'Donations_accepted_by_political_parties.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:24:48 PM INFO:Donor_dedupe_cleaned_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:24:48 PM INFO:ListofPoliticalPeople_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:24:48 PM INFO:mppartymemb_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:24:48 PM INFO:donor_map_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:24:48 PM INFO:politician_party_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:24:48 PM INFO:regentity_map_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:24:48 PM INFO:potential_donor_duplicates_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:24:48 PM INFO:potential_regulatedentity_duplicates_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:24:48 PM INFO:original_data_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:24:48 PM INFO:CREDENTIALS_FILE already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:24:48 PM INFO:TEXT_FILE already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:24:48 PM INFO:cleaned_data_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:24:48 PM INFO:cleaned_donations_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:24:48 PM INFO:cleaned_donorlist_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:24:48 PM INFO:cleaned_regentity_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:24:48 PM INFO:party_summary_fname already initialized
2025/02/28 12:24:48 PM INFO:init_state_var executed successfully
2025/02/28 12:24:48 PM INFO:initialize_filenames executed successfully
2025/02/28 12:24:48 PM ERROR:Error in session state variables
2025/02/28 12:24:48 PM INFO:Calling validate_file_existence with args=(None,)
2025/02/28 12:24:48 PM ERROR:Error in validate_file_existence: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:24:48 PM ERROR:Error in load_raw_data: stat: path should be string, bytes, os.PathLike or integer, not NoneType
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 47, in load_raw_data
    validate_file_existence(originaldatafilepath)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\utils\global_variables.py", line 23, in validate_file_existence
    if not os.path.isfile(originaldatafilepath):
  File "H:\python310\lib\genericpath.py", line 30, in isfile
    st = os.stat(path)
TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType
2025/02/28 12:28:25 PM INFO:Logging is set up correctly!
2025/02/28 12:28:25 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:28:25 PM INFO:get_git_version executed successfully
2025/02/28 12:28:26 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:28:26 PM INFO:get_git_version executed successfully
2025/02/28 12:28:26 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:28:26 PM INFO:get_git_version executed successfully
2025/02/28 12:28:26 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:28:26 PM INFO:Setting up the package
2025/02/28 12:28:26 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:28:26 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:28:26 PM INFO:get_git_version executed successfully
2025/02/28 12:28:26 PM INFO:Version: v2.104
2025/02/28 12:28:26 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Calling init_state_var with args=('Donations_accepted_by_political_parties.csv', 'H:\\VScode\\dashboard_demo\\ec_donations_fname')
2025/02/28 12:28:26 PM INFO:init_state_var executed successfully
2025/02/28 12:28:26 PM INFO:Session_state variables initialized
2025/02/28 12:28:26 PM INFO:Donations_accepted_by_political_parties.csv: H:\VScode\dashboard_demo\ec_donations_fname
2025/02/28 12:28:26 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:28:26 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:28:26 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:28:26 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:28:26 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:28:26 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:28:26 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:28:26 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:28:26 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:28:26 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:28:26 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:28:26 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:28:26 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:28:26 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:28:26 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:28:26 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:28:26 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:28:26 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:28:26 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:28:26 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:28:26 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:28:26 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:28:26 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:28:26 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:28:26 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:28:26 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:28:26 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:28:26 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:28:26 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:28:26 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:28:26 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:28:26 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:28:26 PM INFO:Session state Setup complete
2025/02/28 12:28:26 PM INFO:initialize_session_state executed successfully
2025/02/28 12:28:26 PM INFO:Package setup complete
2025/02/28 12:28:26 PM INFO:Calling pagesetup with args=()
2025/02/28 12:28:26 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:28:27 PM INFO:get_git_version executed successfully
2025/02/28 12:28:27 PM INFO:Calling get_git_version with args=()
2025/02/28 12:28:28 PM INFO:get_git_version executed successfully
2025/02/28 12:28:28 PM INFO:App Version: v2.116
2025/02/28 12:28:28 PM INFO:Switched to page: Introduction
2025/02/28 12:28:28 PM INFO:pagesetup executed successfully
2025/02/28 12:28:28 PM INFO:Calling firstload with args=()
2025/02/28 12:28:28 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x0000016D47825D80>)
2025/02/28 12:28:28 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:28:28 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:28:28 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Calling init_state_var with args=('Donations_accepted_by_political_parties.csv', 'H:\\VScode\\dashboard_demo\\ec_donations_fname')
2025/02/28 12:28:28 PM INFO:init_state_var executed successfully
2025/02/28 12:28:28 PM INFO:Session_state variables initialized
2025/02/28 12:28:28 PM INFO:Donations_accepted_by_political_parties.csv: H:\VScode\dashboard_demo\ec_donations_fname
2025/02/28 12:28:28 PM INFO:menu_selection: {'title': 'Introduction', 'function': <function introduction_body at 0x0000016D478ACB80>}
2025/02/28 12:28:28 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:28:28 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:28:28 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:28:28 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:28:28 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:28:28 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:28:28 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:28:28 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:28:28 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:28:28 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:28:28 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:28:28 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:28:28 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:28:28 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:28:28 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:28:28 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:28:28 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:28:28 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:28:28 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:28:28 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:28:28 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:28:28 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:28:28 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:28:28 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:28:28 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:28:28 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:28:28 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:28:28 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:28:28 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:28:28 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:28:28 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:28:28 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:28:28 PM INFO:Session state Setup complete
2025/02/28 12:28:28 PM INFO:initialize_session_state executed successfully
2025/02/28 12:28:28 PM INFO:load_raw_data executed successfully
2025/02/28 12:28:28 PM INFO:get_raw_data executed successfully
2025/02/28 12:28:28 PM INFO:load_data_to_session executed successfully
2025/02/28 12:28:28 PM INFO:Calling load_data_to_session with args=('data_clean', <function get_cleaned_data at 0x0000016D478264D0>)
2025/02/28 12:28:28 PM INFO:Calling get_cleaned_data with args=()
2025/02/28 12:28:28 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:28:28 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:28:28 PM INFO:get_cleaned_data executed successfully
2025/02/28 12:28:28 PM INFO:load_data_to_session executed successfully
2025/02/28 12:28:28 PM INFO:Calling load_data_to_session with args=('data_party_sum', <function get_party_summary_data at 0x0000016D478263B0>)
2025/02/28 12:28:28 PM INFO:Calling get_party_summary_data with args=()
2025/02/28 12:28:28 PM INFO:Calling load_entity_summary_data with args=()
2025/02/28 12:28:28 PM INFO:load_entity_summary_data executed successfully
2025/02/28 12:28:28 PM INFO:get_party_summary_data executed successfully
2025/02/28 12:28:28 PM INFO:load_data_to_session executed successfully
2025/02/28 12:28:28 PM INFO:Calling load_data_to_session with args=('data_donor', <function get_donor_data at 0x0000016D478265F0>)
2025/02/28 12:28:28 PM INFO:Calling get_donor_data with args=()
2025/02/28 12:28:28 PM INFO:Calling load_donorList_data with args=()
2025/02/28 12:28:28 PM INFO:load_donorList_data executed successfully
2025/02/28 12:28:28 PM INFO:get_donor_data executed successfully
2025/02/28 12:28:28 PM INFO:load_data_to_session executed successfully
2025/02/28 12:28:28 PM INFO:Calling load_data_to_session with args=('data_regentity', <function get_regentity_data at 0x0000016D47826710>)
2025/02/28 12:28:28 PM INFO:Calling get_regentity_data with args=()
2025/02/28 12:28:28 PM INFO:Calling load_regulated_entity_data with args=()
2025/02/28 12:28:28 PM INFO:load_regulated_entity_data executed successfully
2025/02/28 12:28:28 PM INFO:get_regentity_data executed successfully
2025/02/28 12:28:28 PM INFO:load_data_to_session executed successfully
2025/02/28 12:28:28 PM INFO:firstload executed successfully
2025/02/28 12:30:19 PM INFO:Logging is set up correctly!
2025/02/28 12:30:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:30:19 PM INFO:get_git_version executed successfully
2025/02/28 12:30:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:30:20 PM INFO:get_git_version executed successfully
2025/02/28 12:30:20 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:30:20 PM INFO:get_git_version executed successfully
2025/02/28 12:30:20 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:30:20 PM INFO:Setting up the package
2025/02/28 12:30:20 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:30:20 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:30:20 PM INFO:get_git_version executed successfully
2025/02/28 12:30:20 PM INFO:Version: v2.104
2025/02/28 12:30:20 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}})
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Calling init_state_var with args=('Donations_accepted_by_political_parties.csv', 'H:\\VScode\\dashboard_demo\\ec_donations_fname')
2025/02/28 12:30:20 PM INFO:init_state_var executed successfully
2025/02/28 12:30:20 PM INFO:Session_state variables initialized
2025/02/28 12:30:20 PM INFO:Donations_accepted_by_political_parties.csv: H:\VScode\dashboard_demo\ec_donations_fname
2025/02/28 12:30:20 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:30:20 PM INFO:menu_selection: {'title': 'Introduction', 'function': <function introduction_body at 0x0000016D478ACB80>}
2025/02/28 12:30:20 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:30:20 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:30:20 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:30:20 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:30:20 PM INFO:data_regentity: None
2025/02/28 12:30:20 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:30:20 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:30:20 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:30:20 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:30:20 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:30:20 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:30:20 PM INFO:data_party_sum: None
2025/02/28 12:30:20 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:30:20 PM INFO:raw_data: None
2025/02/28 12:30:20 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:30:20 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:30:20 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'Donations_accepted_by_political_parties.csv', 'ec_donations_fname'}}
2025/02/28 12:30:20 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:30:20 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:30:20 PM INFO:data_clean: None
2025/02/28 12:30:20 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:30:20 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:30:20 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:30:20 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:30:20 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:30:20 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:30:20 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:30:20 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:30:20 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:30:20 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:30:20 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:30:20 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:30:20 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:30:20 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:30:20 PM INFO:data_donor: None
2025/02/28 12:30:20 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:30:20 PM INFO:Session state Setup complete
2025/02/28 12:30:20 PM INFO:initialize_session_state executed successfully
2025/02/28 12:30:20 PM INFO:Package setup complete
2025/02/28 12:30:20 PM INFO:Calling pagesetup with args=()
2025/02/28 12:30:20 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:30:20 PM INFO:get_git_version executed successfully
2025/02/28 12:30:20 PM INFO:Calling get_git_version with args=()
2025/02/28 12:30:20 PM INFO:get_git_version executed successfully
2025/02/28 12:30:20 PM INFO:App Version: v2.116
2025/02/28 12:30:20 PM INFO:Switched to page: Introduction
2025/02/28 12:30:20 PM INFO:pagesetup executed successfully
2025/02/28 12:30:20 PM INFO:Calling firstload with args=()
2025/02/28 12:30:20 PM INFO:firstload executed successfully
2025/02/28 12:30:32 PM INFO:Logging is set up correctly!
2025/02/28 12:30:32 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:30:33 PM INFO:get_git_version executed successfully
2025/02/28 12:30:33 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:30:33 PM INFO:get_git_version executed successfully
2025/02/28 12:30:33 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:30:34 PM INFO:get_git_version executed successfully
2025/02/28 12:30:34 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:30:34 PM INFO:Setting up the package
2025/02/28 12:30:34 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:30:34 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:30:34 PM INFO:get_git_version executed successfully
2025/02/28 12:30:34 PM INFO:Version: v2.104
2025/02/28 12:30:34 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:30:34 PM INFO:init_state_var executed successfully
2025/02/28 12:30:34 PM INFO:Session_state variables initialized
2025/02/28 12:30:34 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:30:34 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:30:34 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:30:34 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:30:34 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:30:34 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:30:34 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:30:34 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:30:34 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:30:34 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:30:34 PM INFO:ec_donations_fname: H:\VScode\dashboard_demo\Donations_accepted_by_political_parties.csv
2025/02/28 12:30:34 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:30:34 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:30:34 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:30:34 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:30:34 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:30:34 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:30:34 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:30:34 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:30:34 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:30:34 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:30:34 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:30:34 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:30:34 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:30:34 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:30:34 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:30:34 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:30:34 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:30:34 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:30:34 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:30:34 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:30:34 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:30:34 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:30:34 PM INFO:Session state Setup complete
2025/02/28 12:30:34 PM INFO:initialize_session_state executed successfully
2025/02/28 12:30:34 PM INFO:Package setup complete
2025/02/28 12:30:34 PM INFO:Calling pagesetup with args=()
2025/02/28 12:30:34 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:30:34 PM INFO:get_git_version executed successfully
2025/02/28 12:30:35 PM INFO:Calling get_git_version with args=()
2025/02/28 12:30:35 PM INFO:get_git_version executed successfully
2025/02/28 12:30:35 PM INFO:App Version: v2.116
2025/02/28 12:30:35 PM INFO:Switched to page: Introduction
2025/02/28 12:30:35 PM INFO:pagesetup executed successfully
2025/02/28 12:30:35 PM INFO:Calling firstload with args=()
2025/02/28 12:30:35 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x0000022F7B5C6290>)
2025/02/28 12:30:35 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:30:35 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:30:35 PM INFO:Calling raw_data_cleanup with args=(           ECRef              RegulatedEntityName    RegulatedEntityType        Value AcceptedDate  ... AccountingUnitId  DonorId CampaigningName   RegisterName IsIrishSource
index                                                                                               ...                                                                       
0      NC0408174                   Mr Andy Street        Regulated Donee    1,876.56   02/09/2019  ...              NaN  86310.0             NaN  Great Britain         False
1      NC0408173                   Mr Andy Street        Regulated Donee    2,700.00   02/09/2019  ...              NaN  86310.0             NaN  Great Britain         False
2      NC0408177                   Mr Andy Street        Regulated Donee    4,852.58   30/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
3      NC0408176                   Mr Andy Street        Regulated Donee    2,500.00   30/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
4      NC0408170                   Mr Andy Street        Regulated Donee    4,524.05   29/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
...          ...                              ...                    ...          ...          ...  ...              ...      ...             ...            ...           ...
65273   C0242478               Vote Leave Limited  Permitted Participant   10,000.00          NaN  ...              NaN  74198.0             NaN            NaN         False
65274   C0242461               Vote Leave Limited  Permitted Participant  100,000.00          NaN  ...              NaN  74184.0             NaN            NaN         False
65275   C0243560               Vote Leave Limited  Permitted Participant   40,000.00          NaN  ...              NaN  74576.0             NaN            NaN         False
65276   C0319710  Conservative and Unionist Party        Political Party   50,000.00          NaN  ...              NaN  34241.0             NaN  Great Britain         False
65277   C0319727  Conservative and Unionist Party        Political Party   15,000.00          NaN  ...              NaN  74743.0             NaN  Great Britain         False

[65278 rows x 29 columns],)
2025/02/28 12:30:37 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:30:37 PM INFO:map_filename: regentity_map_fname
2025/02/28 12:30:37 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:30:37 PM INFO:Dedupe by file
2025/02/28 12:30:37 PM INFO:Dedupe by file, shape: (65279, 34)
2025/02/28 12:30:37 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:30:37 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:30:37 PM INFO:map_filename: donor_map_fname
2025/02/28 12:30:37 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:30:37 PM INFO:Dedupe by file
2025/02/28 12:30:37 PM INFO:Dedupe by file, shape: (66011, 40)
2025/02/28 12:30:37 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:30:37 PM INFO:Data cleanup completed, shape: (63939, 40)
2025/02/28 12:30:37 PM INFO:raw_data_cleanup executed successfully
2025/02/28 12:30:38 PM INFO:load_raw_data executed successfully
2025/02/28 12:30:39 PM INFO:get_raw_data executed successfully
2025/02/28 12:30:39 PM INFO:load_data_to_session executed successfully
2025/02/28 12:30:39 PM INFO:Calling load_data_to_session with args=('data_clean', <function get_cleaned_data at 0x0000022F7B5C6950>)
2025/02/28 12:30:39 PM INFO:Calling get_cleaned_data with args=()
2025/02/28 12:30:39 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:30:43 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:30:43 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:30:43 PM INFO:get_cleaned_data executed successfully
2025/02/28 12:30:43 PM INFO:load_data_to_session executed successfully
2025/02/28 12:30:43 PM INFO:Calling load_data_to_session with args=('data_party_sum', <function get_party_summary_data at 0x0000022F7B5C68C0>)
2025/02/28 12:30:43 PM INFO:Calling get_party_summary_data with args=()
2025/02/28 12:30:43 PM INFO:Calling load_entity_summary_data with args=()
2025/02/28 12:30:44 PM INFO:load_entity_summary_data executed successfully
2025/02/28 12:30:44 PM INFO:get_party_summary_data executed successfully
2025/02/28 12:30:44 PM INFO:load_data_to_session executed successfully
2025/02/28 12:30:44 PM INFO:Calling load_data_to_session with args=('data_donor', <function get_donor_data at 0x0000022F7B5C6B00>)
2025/02/28 12:30:44 PM INFO:Calling get_donor_data with args=()
2025/02/28 12:30:44 PM INFO:Calling load_donorList_data with args=()
2025/02/28 12:30:44 PM INFO:load_donorList_data executed successfully
2025/02/28 12:30:44 PM INFO:get_donor_data executed successfully
2025/02/28 12:30:44 PM INFO:load_data_to_session executed successfully
2025/02/28 12:30:44 PM INFO:Calling load_data_to_session with args=('data_regentity', <function get_regentity_data at 0x0000022F7B5C6C20>)
2025/02/28 12:30:44 PM INFO:Calling get_regentity_data with args=()
2025/02/28 12:30:44 PM INFO:Calling load_regulated_entity_data with args=()
2025/02/28 12:30:44 PM INFO:load_regulated_entity_data executed successfully
2025/02/28 12:30:44 PM INFO:get_regentity_data executed successfully
2025/02/28 12:30:44 PM INFO:load_data_to_session executed successfully
2025/02/28 12:30:44 PM INFO:firstload executed successfully
2025/02/28 12:30:46 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:30:46 PM INFO:Setting up the package
2025/02/28 12:30:46 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:30:46 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:30:47 PM INFO:get_git_version executed successfully
2025/02/28 12:30:47 PM INFO:Version: v2.104
2025/02/28 12:30:47 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:30:47 PM INFO:init_state_var executed successfully
2025/02/28 12:30:47 PM INFO:Session_state variables initialized
2025/02/28 12:30:47 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:30:47 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:30:47 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:30:47 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:30:47 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:30:47 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:30:47 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:30:47 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:30:47 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:30:47 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:30:47 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:30:47 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:30:47 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:30:47 PM INFO:ec_donations_fname: H:\VScode\dashboard_demo\Donations_accepted_by_political_parties.csv
2025/02/28 12:30:47 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:30:47 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:30:47 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:30:47 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:30:47 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:30:47 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:30:47 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:30:47 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:30:47 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:30:47 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:30:47 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:30:47 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:30:47 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:30:47 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:30:47 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:30:47 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:30:47 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:30:47 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:30:47 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:30:47 PM INFO:menu_selection: {'title': 'Head Line Figures', 'function': <function hlf_body at 0x0000022F7B659240>}
2025/02/28 12:30:47 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:30:47 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:30:47 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:30:47 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:30:47 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:30:47 PM INFO:Session state Setup complete
2025/02/28 12:30:47 PM INFO:initialize_session_state executed successfully
2025/02/28 12:30:47 PM INFO:Package setup complete
2025/02/28 12:30:47 PM INFO:Calling pagesetup with args=()
2025/02/28 12:30:47 PM INFO:Calling get_git_version with args=()
2025/02/28 12:30:47 PM INFO:get_git_version executed successfully
2025/02/28 12:30:47 PM INFO:App Version: v2.116
2025/02/28 12:30:47 PM INFO:Switched to page: Head Line Figures
2025/02/28 12:30:47 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:30:48 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:30:48 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef                OriginalRegulatedEntityName RegulatedEntityType    Value  ...                  RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
65348   U0034053                               Labour Party     Political Party   400.00  ...                              NaN             1                1                1
65336  TV0036256                           Yes Campaign Ltd         Third Party   668.00  ...                              NaN             1                1                1
65449  TV0036257  British Declaration Of Independence [The]         Third Party  1500.00  ...                              NaN             1                1                1
65649  TV0036260        Campaign For An Independent Britain         Third Party  1450.00  ...                              NaN             1                1                1
65919  TV0036259                                 Charter 88         Third Party  1500.00  ...                              NaN             1                1                1
...          ...                                        ...                 ...      ...  ...                              ...           ...              ...              ...
2176    V0403814                       Mr Damian Collins Mp     Regulated Donee  5000.00  ...                     Small Entity             1                1                1
2188    V0403838                           Jess Phillips Mp     Regulated Donee  1787.62  ...  Conservative And Unionist Party             1                1                1
2615    V0408118                            Preet Kaur Gill     Regulated Donee  2682.55  ...                Liberal Democrats             1                1                1
5887    V0403834                              Mr Afzal Khan     Regulated Donee  1800.00  ...                Liberal Democrats             1                1                1
5889    V0403400                       Ms Yasmin Qureshi Mp     Regulated Donee  1800.00  ...  Conservative And Unionist Party             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:30:48 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:30:48 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:30:48 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:30:48 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:30:48 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:30:48 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 12:30:48 PM INFO:plot_pie_chart executed successfully
2025/02/28 12:30:48 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 12:30:48 PM INFO:plot_pie_chart executed successfully
2025/02/28 12:30:48 PM INFO:pagesetup executed successfully
2025/02/28 12:30:48 PM INFO:Calling firstload with args=()
2025/02/28 12:30:48 PM INFO:firstload executed successfully
2025/02/28 12:31:09 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:31:09 PM INFO:Setting up the package
2025/02/28 12:31:09 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:31:09 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:31:09 PM INFO:get_git_version executed successfully
2025/02/28 12:31:09 PM INFO:Version: v2.104
2025/02/28 12:31:09 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:31:09 PM INFO:init_state_var executed successfully
2025/02/28 12:31:09 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:31:10 PM INFO:init_state_var executed successfully
2025/02/28 12:31:10 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:31:10 PM INFO:init_state_var executed successfully
2025/02/28 12:31:10 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:31:10 PM INFO:init_state_var executed successfully
2025/02/28 12:31:10 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:31:10 PM INFO:init_state_var executed successfully
2025/02/28 12:31:10 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:31:10 PM INFO:init_state_var executed successfully
2025/02/28 12:31:10 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:31:10 PM INFO:init_state_var executed successfully
2025/02/28 12:31:10 PM INFO:Session_state variables initialized
2025/02/28 12:31:10 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:31:10 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:31:10 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:31:10 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:31:10 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:31:10 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:31:10 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:31:10 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:31:10 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:31:10 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:31:10 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:31:10 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:31:10 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:31:10 PM INFO:ec_donations_fname: H:\VScode\dashboard_demo\Donations_accepted_by_political_parties.csv
2025/02/28 12:31:10 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:31:10 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:31:10 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:31:10 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:31:10 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:31:10 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:31:10 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:31:10 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:31:10 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:31:10 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:31:10 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:31:10 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:31:10 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:31:10 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:31:10 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:31:10 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:31:10 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:31:10 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:31:10 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:31:10 PM INFO:menu_selection: {'title': 'Donors Head Lines', 'function': <function donorsheadlinespage_body at 0x0000022F7B85C820>}
2025/02/28 12:31:10 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:31:10 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:31:10 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:31:10 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:31:10 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:31:10 PM INFO:Session state Setup complete
2025/02/28 12:31:10 PM INFO:initialize_session_state executed successfully
2025/02/28 12:31:10 PM INFO:Package setup complete
2025/02/28 12:31:10 PM INFO:Calling pagesetup with args=()
2025/02/28 12:31:10 PM INFO:Calling get_git_version with args=()
2025/02/28 12:31:10 PM INFO:get_git_version executed successfully
2025/02/28 12:31:10 PM INFO:App Version: v2.116
2025/02/28 12:31:10 PM INFO:Switched to page: Donors Head Lines
2025/02/28 12:31:10 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:31:11 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:31:11 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:31:12 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:31:12 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:31:12 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:31:12 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:31:12 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:31:12 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:31:12 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:31:13 PM INFO:pagesetup executed successfully
2025/02/28 12:31:13 PM INFO:Calling firstload with args=()
2025/02/28 12:31:13 PM INFO:firstload executed successfully
2025/02/28 12:31:14 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:31:14 PM INFO:Setting up the package
2025/02/28 12:31:14 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:31:14 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:31:14 PM INFO:get_git_version executed successfully
2025/02/28 12:31:14 PM INFO:Version: v2.104
2025/02/28 12:31:14 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:31:14 PM INFO:init_state_var executed successfully
2025/02/28 12:31:14 PM INFO:Session_state variables initialized
2025/02/28 12:31:14 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:31:14 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:31:14 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:31:14 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:31:14 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:31:14 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:31:14 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:31:14 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:31:14 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:31:14 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:31:14 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:31:14 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:31:14 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:31:14 PM INFO:ec_donations_fname: H:\VScode\dashboard_demo\Donations_accepted_by_political_parties.csv
2025/02/28 12:31:14 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:31:14 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:31:14 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:31:14 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:31:14 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:31:14 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:31:14 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:31:14 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:31:14 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:31:14 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:31:14 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:31:14 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:31:14 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:31:14 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:31:14 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:31:14 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:31:14 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:31:14 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:31:14 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:31:14 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x0000022F7B85C280>}
2025/02/28 12:31:14 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:31:14 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:31:14 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:31:14 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:31:14 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:31:14 PM INFO:Session state Setup complete
2025/02/28 12:31:14 PM INFO:initialize_session_state executed successfully
2025/02/28 12:31:14 PM INFO:Package setup complete
2025/02/28 12:31:14 PM INFO:Calling pagesetup with args=()
2025/02/28 12:31:14 PM INFO:Calling get_git_version with args=()
2025/02/28 12:31:14 PM INFO:get_git_version executed successfully
2025/02/28 12:31:14 PM INFO:App Version: v2.116
2025/02/28 12:31:14 PM INFO:Switched to page: Cash Donations
2025/02/28 12:31:14 PM INFO:Calling cash_donations_page with args=()
2025/02/28 12:31:14 PM INFO:Calling load_and_filter_data with args=(None, 'filtered_keytarget_label')
2025/02/28 12:31:14 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:31:17 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:31:17 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:31:17 PM INFO:load_and_filter_data executed successfully
2025/02/28 12:31:18 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:31:18 PM INFO:display_summary_statistics executed successfully
2025/02/28 12:31:18 PM INFO:Calling topline_summary_block with args=('Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 12:31:18 PM INFO:topline_summary_block executed successfully
2025/02/28 12:31:18 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 12:31:18 PM INFO:display_textual_insights executed successfully
2025/02/28 12:31:18 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:31:18 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:31:18 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:31:18 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:31:18 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:31:18 PM INFO:display_visualizations executed successfully
2025/02/28 12:31:18 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:31:18 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:31:18 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:31:18 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:31:18 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:31:19 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:31:19 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:31:19 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:31:19 PM INFO:cash_donations_page executed successfully
2025/02/28 12:31:19 PM INFO:pagesetup executed successfully
2025/02/28 12:31:19 PM INFO:Calling firstload with args=()
2025/02/28 12:31:19 PM INFO:firstload executed successfully
2025/02/28 12:31:42 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:31:42 PM INFO:Setting up the package
2025/02/28 12:31:42 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:31:42 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:31:42 PM INFO:get_git_version executed successfully
2025/02/28 12:31:42 PM INFO:Version: v2.104
2025/02/28 12:31:42 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:31:42 PM INFO:init_state_var executed successfully
2025/02/28 12:31:42 PM INFO:Session_state variables initialized
2025/02/28 12:31:42 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:31:42 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:31:42 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:31:42 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:31:42 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname', 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:31:42 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:31:42 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:31:42 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:31:42 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:31:42 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:31:42 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:31:42 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:31:42 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:31:42 PM INFO:ec_donations_fname: H:\VScode\dashboard_demo\Donations_accepted_by_political_parties.csv
2025/02/28 12:31:42 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:31:42 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:31:42 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:31:42 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:31:42 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:31:42 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:31:42 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:31:42 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:31:42 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:31:42 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:31:42 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:31:42 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:31:42 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:31:42 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:31:42 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:31:42 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:31:42 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:31:42 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:31:42 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:31:42 PM INFO:menu_selection: {'title': 'Bequeths', 'function': <function mod_bequeths_page at 0x0000022F7B85D480>}
2025/02/28 12:31:42 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:31:42 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:31:42 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:31:42 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:31:42 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:31:42 PM INFO:Session state Setup complete
2025/02/28 12:31:42 PM INFO:initialize_session_state executed successfully
2025/02/28 12:31:42 PM INFO:Package setup complete
2025/02/28 12:31:42 PM INFO:Calling pagesetup with args=()
2025/02/28 12:31:42 PM INFO:Calling get_git_version with args=()
2025/02/28 12:31:42 PM INFO:get_git_version executed successfully
2025/02/28 12:31:42 PM INFO:App Version: v2.116
2025/02/28 12:31:42 PM INFO:Switched to page: Bequeths
2025/02/28 12:31:42 PM INFO:Calling display_data_page with args=('Bequests_ftr', 'Bequest')
2025/02/28 12:31:42 PM INFO:Calling load_and_filter_data with args=('Bequests_ftr', 'filtered_keytarget_label')
2025/02/28 12:31:42 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:31:45 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:31:45 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:31:45 PM INFO:load_and_filter_data executed successfully
2025/02/28 12:31:45 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Bequest', 'filtered_keytarget_label')
2025/02/28 12:31:46 PM INFO:display_summary_statistics executed successfully
2025/02/28 12:31:46 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Bequest', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 0.5)
2025/02/28 12:31:46 PM INFO:display_textual_insights executed successfully
2025/02/28 12:31:46 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Bequest', 'filtered_keytarget_label')
2025/02/28 12:31:46 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:31:46 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:31:46 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:31:46 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:31:46 PM INFO:display_visualizations executed successfully
2025/02/28 12:31:46 PM INFO:display_data_page executed successfully
2025/02/28 12:31:46 PM INFO:pagesetup executed successfully
2025/02/28 12:31:46 PM INFO:Calling firstload with args=()
2025/02/28 12:31:46 PM INFO:firstload executed successfully
2025/02/28 12:39:52 PM INFO:Logging is set up correctly!
2025/02/28 12:39:52 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:39:52 PM INFO:get_git_version executed successfully
2025/02/28 12:39:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:39:53 PM INFO:get_git_version executed successfully
2025/02/28 12:39:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:39:53 PM INFO:get_git_version executed successfully
2025/02/28 12:39:53 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:39:53 PM INFO:Setting up the package
2025/02/28 12:39:53 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:39:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:39:53 PM INFO:get_git_version executed successfully
2025/02/28 12:39:53 PM INFO:Version: v2.104
2025/02/28 12:39:53 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', ' \\Donations_accepted_by_political_parties.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:39:53 PM INFO:init_state_var executed successfully
2025/02/28 12:39:53 PM INFO:Session_state variables initialized
2025/02/28 12:39:53 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:39:53 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:39:53 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:39:53 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:39:53 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:39:53 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:39:53 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:39:53 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:39:53 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:39:53 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:39:53 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:39:53 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:39:53 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:39:53 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:39:53 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:39:53 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:39:53 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:39:53 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:39:53 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:39:53 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:39:53 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:39:53 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:39:53 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:39:53 PM INFO:ec_donations_fname:  \Donations_accepted_by_political_parties.csv
2025/02/28 12:39:53 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:39:53 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:39:53 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:39:53 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:39:53 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:39:53 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:39:53 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:39:53 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:39:53 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:39:53 PM INFO:Session state Setup complete
2025/02/28 12:39:53 PM INFO:initialize_session_state executed successfully
2025/02/28 12:39:53 PM INFO:Package setup complete
2025/02/28 12:39:53 PM INFO:Calling pagesetup with args=()
2025/02/28 12:39:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:39:53 PM INFO:get_git_version executed successfully
2025/02/28 12:39:54 PM INFO:Calling get_git_version with args=()
2025/02/28 12:39:54 PM INFO:get_git_version executed successfully
2025/02/28 12:39:54 PM INFO:App Version: v2.116
2025/02/28 12:39:54 PM INFO:Switched to page: Introduction
2025/02/28 12:39:54 PM INFO:pagesetup executed successfully
2025/02/28 12:39:54 PM INFO:Calling firstload with args=()
2025/02/28 12:39:54 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x0000024B0E3CE680>)
2025/02/28 12:39:54 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:39:54 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:39:54 PM ERROR:Error in load_raw_data: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:39:54 PM ERROR:Error in get_raw_data: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:39:54 PM ERROR:Error in load_data_to_session: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:39:54 PM ERROR:Error in firstload: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 55, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:42:43 PM INFO:Logging is set up correctly!
2025/02/28 12:42:43 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:42:43 PM INFO:get_git_version executed successfully
2025/02/28 12:42:44 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:42:44 PM INFO:get_git_version executed successfully
2025/02/28 12:42:44 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:42:44 PM INFO:get_git_version executed successfully
2025/02/28 12:42:44 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:42:44 PM INFO:Setting up the package
2025/02/28 12:42:44 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:42:44 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:42:44 PM INFO:get_git_version executed successfully
2025/02/28 12:42:44 PM INFO:Version: v2.104
2025/02/28 12:42:44 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('ec_donations_fname', ' \\Donations_accepted_by_political_parties.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:42:44 PM INFO:init_state_var executed successfully
2025/02/28 12:42:44 PM INFO:Session_state variables initialized
2025/02/28 12:42:44 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:42:44 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:42:44 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:42:44 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:42:44 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:42:44 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:42:44 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:42:44 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:42:44 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:42:44 PM INFO:ec_donations_fname:  \Donations_accepted_by_political_parties.csv
2025/02/28 12:42:44 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:42:44 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:42:44 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:42:44 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:42:44 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:42:44 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:42:44 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:42:44 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:42:44 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:42:44 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:42:44 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:42:44 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:42:44 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:42:44 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:42:44 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:42:44 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:42:44 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:42:44 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:42:44 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:42:44 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:42:44 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:42:44 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:42:44 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:42:44 PM INFO:Session state Setup complete
2025/02/28 12:42:44 PM INFO:initialize_session_state executed successfully
2025/02/28 12:42:44 PM INFO:Package setup complete
2025/02/28 12:42:44 PM INFO:Calling pagesetup with args=()
2025/02/28 12:42:44 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:42:44 PM INFO:get_git_version executed successfully
2025/02/28 12:42:45 PM INFO:Calling get_git_version with args=()
2025/02/28 12:42:45 PM INFO:get_git_version executed successfully
2025/02/28 12:42:45 PM INFO:App Version: v2.116
2025/02/28 12:42:45 PM INFO:Switched to page: Introduction
2025/02/28 12:42:45 PM INFO:pagesetup executed successfully
2025/02/28 12:42:45 PM INFO:Calling firstload with args=()
2025/02/28 12:42:45 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x0000020462379D80>)
2025/02/28 12:42:45 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:42:45 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:42:45 PM ERROR:Error in load_raw_data: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:42:45 PM ERROR:Error in get_raw_data: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:42:46 PM ERROR:Error in load_data_to_session: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:42:46 PM ERROR:Error in firstload: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 55, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:45:52 PM INFO:Logging is set up correctly!
2025/02/28 12:45:52 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:45:52 PM INFO:get_git_version executed successfully
2025/02/28 12:45:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:45:53 PM INFO:get_git_version executed successfully
2025/02/28 12:45:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:45:53 PM INFO:get_git_version executed successfully
2025/02/28 12:45:53 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:45:53 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:45:53 PM INFO:Setting up the package
2025/02/28 12:45:53 PM INFO:Setting up the package
2025/02/28 12:45:53 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:45:53 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:45:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:45:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:45:53 PM INFO:get_git_version executed successfully
2025/02/28 12:45:53 PM INFO:get_git_version executed successfully
2025/02/28 12:45:53 PM INFO:Version: v2.104
2025/02/28 12:45:53 PM INFO:Version: v2.104
2025/02/28 12:45:53 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:45:53 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', ' \\Donations_accepted_by_political_parties.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', ' \\Donations_accepted_by_political_parties.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:45:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:init_state_var executed successfully
2025/02/28 12:45:53 PM INFO:Session_state variables initialized
2025/02/28 12:45:53 PM INFO:Session_state variables initialized
2025/02/28 12:45:53 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:45:53 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:45:53 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:45:53 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:45:53 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:45:53 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:45:53 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:45:53 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:45:53 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:45:53 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:45:53 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:45:53 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:45:53 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:45:53 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:45:53 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:45:53 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:45:53 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:45:53 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:45:53 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:45:53 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:45:53 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:45:53 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:45:53 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:45:53 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:45:53 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:45:53 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:45:53 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:45:53 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:45:53 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:45:53 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:45:53 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:45:53 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:45:53 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:45:53 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:45:53 PM INFO:ec_donations_fname:  \Donations_accepted_by_political_parties.csv
2025/02/28 12:45:53 PM INFO:ec_donations_fname:  \Donations_accepted_by_political_parties.csv
2025/02/28 12:45:53 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:45:53 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:45:53 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:45:53 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:45:53 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:45:53 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:45:53 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:45:53 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:45:53 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:45:53 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:45:53 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:45:53 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:45:53 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:45:53 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:45:53 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:45:53 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:45:53 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:45:53 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:45:53 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:45:53 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:45:53 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:45:53 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:45:53 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:45:53 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:45:53 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:45:53 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:45:53 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:45:53 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:45:53 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:45:53 PM INFO:Session state Setup complete
2025/02/28 12:45:53 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:45:53 PM INFO:initialize_session_state executed successfully
2025/02/28 12:45:53 PM INFO:Session state Setup complete
2025/02/28 12:45:53 PM INFO:Package setup complete
2025/02/28 12:45:53 PM INFO:initialize_session_state executed successfully
2025/02/28 12:45:53 PM INFO:Package setup complete
2025/02/28 12:45:53 PM INFO:Calling pagesetup with args=()
2025/02/28 12:45:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:45:53 PM INFO:Calling pagesetup with args=()
2025/02/28 12:45:54 PM INFO:get_git_version executed successfully
2025/02/28 12:45:54 PM INFO:Calling get_git_version with args=()
2025/02/28 12:45:54 PM INFO:get_git_version executed successfully
2025/02/28 12:45:54 PM INFO:App Version: v2.116
2025/02/28 12:45:54 PM INFO:Switched to page: Introduction
2025/02/28 12:45:54 PM INFO:pagesetup executed successfully
2025/02/28 12:45:54 PM INFO:Calling firstload with args=()
2025/02/28 12:45:54 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000002041CCFADD0>)
2025/02/28 12:45:54 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:45:54 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:45:54 PM ERROR:Error in load_raw_data: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:45:54 PM ERROR:Error in get_raw_data: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:45:54 PM ERROR:Error in load_data_to_session: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:45:54 PM ERROR:Error in firstload: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 55, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:45:55 PM INFO:Calling get_git_version with args=()
2025/02/28 12:45:55 PM INFO:get_git_version executed successfully
2025/02/28 12:45:55 PM INFO:App Version: v2.116
2025/02/28 12:45:55 PM INFO:Switched to page: Introduction
2025/02/28 12:45:55 PM INFO:pagesetup executed successfully
2025/02/28 12:45:55 PM INFO:Calling firstload with args=()
2025/02/28 12:45:55 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000002041CCFADD0>)
2025/02/28 12:45:55 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:45:55 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:45:55 PM ERROR:Error in load_raw_data: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:45:55 PM ERROR:Error in get_raw_data: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:45:55 PM ERROR:Error in load_data_to_session: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:45:55 PM ERROR:Error in firstload: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 55, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 50, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 12, in get_raw_data
    return load_raw_data(output_csv=True, dedupe_donors=True, dedupe_regentity=True)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 21, in load_raw_data
    loaddata_df = pd.read_csv(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\parsers\readers.py", line 1880, in _make_engine
    self.handles = get_handle(
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\pandas\io\common.py", line 873, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: ' \\Donations_accepted_by_political_parties.csv'
2025/02/28 12:47:01 PM INFO:Logging is set up correctly!
2025/02/28 12:47:01 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:47:02 PM INFO:get_git_version executed successfully
2025/02/28 12:47:02 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:47:02 PM INFO:get_git_version executed successfully
2025/02/28 12:47:02 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:47:03 PM INFO:get_git_version executed successfully
2025/02/28 12:47:03 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:Setting up the package
2025/02/28 12:47:03 PM INFO:Setting up the package
2025/02/28 12:47:03 PM INFO:Setting up the package
2025/02/28 12:47:03 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:47:03 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:47:03 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:47:03 PM INFO:get_git_version executed successfully
2025/02/28 12:47:03 PM INFO:Version: v2.104
2025/02/28 12:47:03 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:47:03 PM INFO:get_git_version executed successfully
2025/02/28 12:47:03 PM INFO:get_git_version executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Version: v2.104
2025/02/28 12:47:03 PM INFO:Version: v2.104
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:47:03 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:47:03 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:Session_state variables initialized
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:47:03 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:47:03 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:47:03 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:47:03 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:03 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:init_state_var executed successfully
2025/02/28 12:47:03 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:47:03 PM INFO:Session_state variables initialized
2025/02/28 12:47:03 PM INFO:Session_state variables initialized
2025/02/28 12:47:03 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:47:03 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:47:03 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:47:03 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:47:03 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:47:03 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:47:03 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:47:03 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:47:03 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:47:03 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:47:03 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:47:03 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:47:03 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:47:03 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:47:03 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:47:03 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:47:03 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:47:03 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:47:03 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:47:03 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:47:03 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:47:03 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:47:03 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:47:03 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:47:03 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:47:03 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:47:03 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:47:03 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:47:03 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:47:03 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:47:03 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:47:03 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:47:03 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:47:03 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:47:03 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:47:03 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:47:03 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:47:03 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:47:03 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:47:03 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:47:03 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:47:03 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:47:03 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:47:03 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:47:03 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:47:03 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:47:03 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:47:03 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:47:03 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:47:03 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:47:03 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:47:03 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:47:03 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:47:03 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:47:03 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:47:03 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:47:03 PM INFO:Session state Setup complete
2025/02/28 12:47:03 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:47:03 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:47:03 PM INFO:initialize_session_state executed successfully
2025/02/28 12:47:03 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:47:03 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:47:03 PM INFO:Package setup complete
2025/02/28 12:47:03 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:47:03 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:47:03 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:47:03 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:47:03 PM INFO:Calling pagesetup with args=()
2025/02/28 12:47:03 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:47:03 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:47:03 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:47:03 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:47:03 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:47:03 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:47:03 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:47:03 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:47:03 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:47:03 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:47:03 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:47:03 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:47:03 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:47:03 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:47:03 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:47:03 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:47:03 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:47:03 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:47:03 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:47:03 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:47:03 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:47:03 PM INFO:Session state Setup complete
2025/02/28 12:47:03 PM INFO:Session state Setup complete
2025/02/28 12:47:03 PM INFO:initialize_session_state executed successfully
2025/02/28 12:47:03 PM INFO:initialize_session_state executed successfully
2025/02/28 12:47:03 PM INFO:Package setup complete
2025/02/28 12:47:03 PM INFO:Package setup complete
2025/02/28 12:47:03 PM INFO:Calling pagesetup with args=()
2025/02/28 12:47:03 PM INFO:Calling pagesetup with args=()
2025/02/28 12:47:03 PM INFO:get_git_version executed successfully
2025/02/28 12:47:03 PM INFO:Calling get_git_version with args=()
2025/02/28 12:47:03 PM INFO:Calling get_git_version with args=()
2025/02/28 12:47:04 PM INFO:get_git_version executed successfully
2025/02/28 12:47:04 PM INFO:App Version: v2.116
2025/02/28 12:47:04 PM INFO:Switched to page: Introduction
2025/02/28 12:47:04 PM INFO:pagesetup executed successfully
2025/02/28 12:47:04 PM INFO:get_git_version executed successfully
2025/02/28 12:47:04 PM INFO:App Version: v2.116
2025/02/28 12:47:04 PM INFO:Calling firstload with args=()
2025/02/28 12:47:04 PM INFO:Switched to page: Introduction
2025/02/28 12:47:04 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x0000026E22E6F0A0>)
2025/02/28 12:47:04 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:47:04 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:47:04 PM INFO:pagesetup executed successfully
2025/02/28 12:47:04 PM INFO:Calling firstload with args=()
2025/02/28 12:47:04 PM INFO:Calling raw_data_cleanup with args=(           ECRef              RegulatedEntityName  ...   RegisterName IsIrishSource
index                                              ...                             
0      NC0408174                   Mr Andy Street  ...  Great Britain         False
1      NC0408173                   Mr Andy Street  ...  Great Britain         False
2      NC0408177                   Mr Andy Street  ...  Great Britain         False
3      NC0408176                   Mr Andy Street  ...  Great Britain         False
4      NC0408170                   Mr Andy Street  ...  Great Britain         False
...          ...                              ...  ...            ...           ...
65273   C0242478               Vote Leave Limited  ...            NaN         False
65274   C0242461               Vote Leave Limited  ...            NaN         False
65275   C0243560               Vote Leave Limited  ...            NaN         False
65276   C0319710  Conservative and Unionist Party  ...  Great Britain         False
65277   C0319727  Conservative and Unionist Party  ...  Great Britain         False

[65278 rows x 29 columns],)
2025/02/28 12:47:05 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:47:05 PM INFO:map_filename: regentity_map_fname
2025/02/28 12:47:05 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:47:05 PM INFO:Dedupe by file
2025/02/28 12:47:06 PM INFO:Dedupe by file, shape: (65279, 34)
2025/02/28 12:47:06 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:47:06 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:47:06 PM INFO:map_filename: donor_map_fname
2025/02/28 12:47:06 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:47:06 PM INFO:Dedupe by file
2025/02/28 12:47:06 PM INFO:Dedupe by file, shape: (66011, 40)
2025/02/28 12:47:06 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:47:06 PM INFO:Data cleanup completed, shape: (63939, 40)
2025/02/28 12:47:06 PM INFO:raw_data_cleanup executed successfully
2025/02/28 12:47:07 PM INFO:load_raw_data executed successfully
2025/02/28 12:47:08 PM INFO:get_raw_data executed successfully
2025/02/28 12:47:08 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:08 PM INFO:Calling load_data_to_session with args=('data_clean', <function get_cleaned_data at 0x0000026E22E6F7F0>)
2025/02/28 12:47:08 PM INFO:Calling get_cleaned_data with args=()
2025/02/28 12:47:08 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:47:08 PM INFO:Calling get_git_version with args=()
2025/02/28 12:47:08 PM INFO:get_git_version executed successfully
2025/02/28 12:47:08 PM INFO:App Version: v2.116
2025/02/28 12:47:08 PM INFO:Switched to page: Introduction
2025/02/28 12:47:08 PM INFO:pagesetup executed successfully
2025/02/28 12:47:09 PM INFO:Calling firstload with args=()
2025/02/28 12:47:12 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:47:12 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:47:12 PM INFO:get_cleaned_data executed successfully
2025/02/28 12:47:12 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:12 PM INFO:Calling load_data_to_session with args=('data_party_sum', <function get_party_summary_data at 0x0000026E22E6F6D0>)
2025/02/28 12:47:12 PM INFO:Calling get_party_summary_data with args=()
2025/02/28 12:47:12 PM INFO:Calling load_entity_summary_data with args=()
2025/02/28 12:47:12 PM INFO:load_entity_summary_data executed successfully
2025/02/28 12:47:12 PM INFO:get_party_summary_data executed successfully
2025/02/28 12:47:12 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:12 PM INFO:Calling load_data_to_session with args=('data_donor', <function get_donor_data at 0x0000026E22E6F910>)
2025/02/28 12:47:12 PM INFO:Calling get_donor_data with args=()
2025/02/28 12:47:12 PM INFO:Calling load_donorList_data with args=()
2025/02/28 12:47:13 PM INFO:load_donorList_data executed successfully
2025/02/28 12:47:13 PM INFO:get_donor_data executed successfully
2025/02/28 12:47:13 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:13 PM INFO:Calling load_data_to_session with args=('data_regentity', <function get_regentity_data at 0x0000026E22E6FA30>)
2025/02/28 12:47:13 PM INFO:Calling get_regentity_data with args=()
2025/02/28 12:47:13 PM INFO:Calling load_regulated_entity_data with args=()
2025/02/28 12:47:13 PM INFO:load_regulated_entity_data executed successfully
2025/02/28 12:47:13 PM INFO:get_regentity_data executed successfully
2025/02/28 12:47:13 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:13 PM INFO:firstload executed successfully
2025/02/28 12:47:13 PM INFO:firstload executed successfully
2025/02/28 12:47:13 PM INFO:firstload executed successfully
2025/02/28 12:47:37 PM INFO:Logging is set up correctly!
2025/02/28 12:47:37 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:47:37 PM INFO:get_git_version executed successfully
2025/02/28 12:47:38 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:47:38 PM INFO:get_git_version executed successfully
2025/02/28 12:47:38 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:47:38 PM INFO:get_git_version executed successfully
2025/02/28 12:47:38 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:47:38 PM INFO:Setting up the package
2025/02/28 12:47:38 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:47:38 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:47:38 PM INFO:get_git_version executed successfully
2025/02/28 12:47:38 PM INFO:Version: v2.104
2025/02/28 12:47:38 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:38 PM INFO:init_state_var executed successfully
2025/02/28 12:47:38 PM INFO:Session_state variables initialized
2025/02/28 12:47:38 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:47:38 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:47:38 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:47:38 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:47:38 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:47:38 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:47:38 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:47:38 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:47:38 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:47:38 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:47:38 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:47:38 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:47:38 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:47:38 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:47:38 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:47:38 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:47:38 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:47:38 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:47:38 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:47:38 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:47:38 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:47:38 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:47:38 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:47:38 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:47:38 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:47:38 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:47:38 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:47:38 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:47:38 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:47:38 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:47:38 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:47:38 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:47:38 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:47:38 PM INFO:Session state Setup complete
2025/02/28 12:47:38 PM INFO:initialize_session_state executed successfully
2025/02/28 12:47:38 PM INFO:Package setup complete
2025/02/28 12:47:38 PM INFO:Calling pagesetup with args=()
2025/02/28 12:47:38 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:47:38 PM INFO:get_git_version executed successfully
2025/02/28 12:47:39 PM INFO:Calling get_git_version with args=()
2025/02/28 12:47:39 PM INFO:get_git_version executed successfully
2025/02/28 12:47:39 PM INFO:App Version: v2.116
2025/02/28 12:47:39 PM INFO:Switched to page: Introduction
2025/02/28 12:47:39 PM INFO:pagesetup executed successfully
2025/02/28 12:47:39 PM INFO:Calling firstload with args=()
2025/02/28 12:47:39 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000001D824A0AC20>)
2025/02/28 12:47:39 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:47:39 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:47:40 PM INFO:Calling raw_data_cleanup with args=(           ECRef              RegulatedEntityName  ...   RegisterName IsIrishSource
index                                              ...                             
0      NC0408174                   Mr Andy Street  ...  Great Britain         False
1      NC0408173                   Mr Andy Street  ...  Great Britain         False
2      NC0408177                   Mr Andy Street  ...  Great Britain         False
3      NC0408176                   Mr Andy Street  ...  Great Britain         False
4      NC0408170                   Mr Andy Street  ...  Great Britain         False
...          ...                              ...  ...            ...           ...
65273   C0242478               Vote Leave Limited  ...            NaN         False
65274   C0242461               Vote Leave Limited  ...            NaN         False
65275   C0243560               Vote Leave Limited  ...            NaN         False
65276   C0319710  Conservative and Unionist Party  ...  Great Britain         False
65277   C0319727  Conservative and Unionist Party  ...  Great Britain         False

[65278 rows x 29 columns],)
2025/02/28 12:47:41 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:47:41 PM INFO:map_filename: regentity_map_fname
2025/02/28 12:47:41 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:47:41 PM INFO:Dedupe by file
2025/02/28 12:47:41 PM INFO:Dedupe by file, shape: (65279, 34)
2025/02/28 12:47:41 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:47:41 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:47:41 PM INFO:map_filename: donor_map_fname
2025/02/28 12:47:41 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:47:41 PM INFO:Dedupe by file
2025/02/28 12:47:41 PM INFO:Dedupe by file, shape: (66011, 40)
2025/02/28 12:47:41 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:47:41 PM INFO:Data cleanup completed, shape: (63939, 40)
2025/02/28 12:47:41 PM INFO:raw_data_cleanup executed successfully
2025/02/28 12:47:43 PM INFO:load_raw_data executed successfully
2025/02/28 12:47:43 PM INFO:get_raw_data executed successfully
2025/02/28 12:47:43 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:43 PM INFO:Calling load_data_to_session with args=('data_clean', <function get_cleaned_data at 0x000001D824A0B370>)
2025/02/28 12:47:43 PM INFO:Calling get_cleaned_data with args=()
2025/02/28 12:47:43 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:47:48 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:47:48 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:47:48 PM INFO:get_cleaned_data executed successfully
2025/02/28 12:47:48 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:48 PM INFO:Calling load_data_to_session with args=('data_party_sum', <function get_party_summary_data at 0x000001D824A0B250>)
2025/02/28 12:47:48 PM INFO:Calling get_party_summary_data with args=()
2025/02/28 12:47:48 PM INFO:Calling load_entity_summary_data with args=()
2025/02/28 12:47:49 PM INFO:load_entity_summary_data executed successfully
2025/02/28 12:47:49 PM INFO:get_party_summary_data executed successfully
2025/02/28 12:47:49 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:49 PM INFO:Calling load_data_to_session with args=('data_donor', <function get_donor_data at 0x000001D824A0B490>)
2025/02/28 12:47:49 PM INFO:Calling get_donor_data with args=()
2025/02/28 12:47:49 PM INFO:Calling load_donorList_data with args=()
2025/02/28 12:47:49 PM INFO:load_donorList_data executed successfully
2025/02/28 12:47:49 PM INFO:get_donor_data executed successfully
2025/02/28 12:47:49 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:49 PM INFO:Calling load_data_to_session with args=('data_regentity', <function get_regentity_data at 0x000001D824A0B5B0>)
2025/02/28 12:47:49 PM INFO:Calling get_regentity_data with args=()
2025/02/28 12:47:49 PM INFO:Calling load_regulated_entity_data with args=()
2025/02/28 12:47:49 PM INFO:load_regulated_entity_data executed successfully
2025/02/28 12:47:49 PM INFO:get_regentity_data executed successfully
2025/02/28 12:47:49 PM INFO:load_data_to_session executed successfully
2025/02/28 12:47:49 PM INFO:firstload executed successfully
2025/02/28 12:47:59 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:47:59 PM INFO:Setting up the package
2025/02/28 12:47:59 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:47:59 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:47:59 PM INFO:get_git_version executed successfully
2025/02/28 12:47:59 PM INFO:Version: v2.104
2025/02/28 12:47:59 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:47:59 PM INFO:init_state_var executed successfully
2025/02/28 12:47:59 PM INFO:Session_state variables initialized
2025/02/28 12:47:59 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:47:59 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:47:59 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:47:59 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:47:59 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:47:59 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:47:59 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:47:59 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:47:59 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:47:59 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:47:59 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:47:59 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:47:59 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:47:59 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:47:59 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:47:59 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:47:59 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:47:59 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:47:59 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:47:59 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:47:59 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:47:59 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:47:59 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:47:59 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:47:59 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:47:59 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:47:59 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:47:59 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:47:59 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:47:59 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:47:59 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:47:59 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:47:59 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 12:47:59 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:47:59 PM INFO:menu_selection: {'title': 'Head Line Figures', 'function': <function hlf_body at 0x000001D824AA1BD0>}
2025/02/28 12:47:59 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:47:59 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:47:59 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:47:59 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:47:59 PM INFO:Session state Setup complete
2025/02/28 12:47:59 PM INFO:initialize_session_state executed successfully
2025/02/28 12:47:59 PM INFO:Package setup complete
2025/02/28 12:47:59 PM INFO:Calling pagesetup with args=()
2025/02/28 12:47:59 PM INFO:Calling get_git_version with args=()
2025/02/28 12:48:00 PM INFO:get_git_version executed successfully
2025/02/28 12:48:00 PM INFO:App Version: v2.116
2025/02/28 12:48:00 PM INFO:Switched to page: Head Line Figures
2025/02/28 12:48:00 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:00 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:00 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef                OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
65348   U0034053                               Labour Party  ...                1                 1
65336  TV0036256                           Yes Campaign Ltd  ...                1                 1
65449  TV0036257  British Declaration Of Independence [The]  ...                1                 1
65649  TV0036260        Campaign For An Independent Britain  ...                1                 1
65919  TV0036259                                 Charter 88  ...                1                 1
...          ...                                        ...  ...              ...               ...
2176    V0403814                       Mr Damian Collins Mp  ...                1                 1
2188    V0403838                           Jess Phillips Mp  ...                1                 1
2615    V0408118                            Preet Kaur Gill  ...                1                 1
5887    V0403834                              Mr Afzal Khan  ...                1                 1
5889    V0403400                       Ms Yasmin Qureshi Mp  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:01 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:01 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:01 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:01 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:01 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:01 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 12:48:01 PM INFO:plot_pie_chart executed successfully
2025/02/28 12:48:01 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 12:48:01 PM INFO:plot_pie_chart executed successfully
2025/02/28 12:48:01 PM INFO:pagesetup executed successfully
2025/02/28 12:48:01 PM INFO:Calling firstload with args=()
2025/02/28 12:48:01 PM INFO:firstload executed successfully
2025/02/28 12:48:14 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:48:14 PM INFO:Setting up the package
2025/02/28 12:48:14 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:48:14 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:48:14 PM INFO:get_git_version executed successfully
2025/02/28 12:48:14 PM INFO:Version: v2.104
2025/02/28 12:48:14 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:48:14 PM INFO:init_state_var executed successfully
2025/02/28 12:48:14 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:48:15 PM INFO:init_state_var executed successfully
2025/02/28 12:48:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:15 PM INFO:init_state_var executed successfully
2025/02/28 12:48:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:15 PM INFO:init_state_var executed successfully
2025/02/28 12:48:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:15 PM INFO:init_state_var executed successfully
2025/02/28 12:48:15 PM INFO:Session_state variables initialized
2025/02/28 12:48:15 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:48:15 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:48:15 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:48:15 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:48:15 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:48:15 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:48:15 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:48:15 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:48:15 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:48:15 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:48:15 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:48:15 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:48:15 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:48:15 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:48:15 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:48:15 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:48:15 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:48:15 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:48:15 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:48:15 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:48:15 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:48:15 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:48:15 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:48:15 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:48:15 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:48:15 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:48:15 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:48:15 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:48:15 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:48:15 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:48:15 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:48:15 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:48:15 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 12:48:15 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:48:15 PM INFO:menu_selection: {'title': 'Donors Head Lines', 'function': <function donorsheadlinespage_body at 0x000001D824C9D1B0>}
2025/02/28 12:48:15 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:48:15 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:48:15 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:48:15 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:48:15 PM INFO:Session state Setup complete
2025/02/28 12:48:15 PM INFO:initialize_session_state executed successfully
2025/02/28 12:48:15 PM INFO:Package setup complete
2025/02/28 12:48:15 PM INFO:Calling pagesetup with args=()
2025/02/28 12:48:15 PM INFO:Calling get_git_version with args=()
2025/02/28 12:48:15 PM INFO:get_git_version executed successfully
2025/02/28 12:48:15 PM INFO:App Version: v2.116
2025/02/28 12:48:15 PM INFO:Switched to page: Donors Head Lines
2025/02/28 12:48:15 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:48:16 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:48:16 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:48:16 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:48:16 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:48:16 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:48:16 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:48:17 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:48:17 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:48:17 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:48:17 PM INFO:pagesetup executed successfully
2025/02/28 12:48:17 PM INFO:Calling firstload with args=()
2025/02/28 12:48:17 PM INFO:firstload executed successfully
2025/02/28 12:48:19 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:48:19 PM INFO:Setting up the package
2025/02/28 12:48:19 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:48:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:48:19 PM INFO:get_git_version executed successfully
2025/02/28 12:48:19 PM INFO:Version: v2.104
2025/02/28 12:48:19 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:19 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:48:19 PM INFO:init_state_var executed successfully
2025/02/28 12:48:20 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:48:20 PM INFO:init_state_var executed successfully
2025/02/28 12:48:20 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:48:20 PM INFO:init_state_var executed successfully
2025/02/28 12:48:20 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:48:20 PM INFO:init_state_var executed successfully
2025/02/28 12:48:20 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:48:20 PM INFO:init_state_var executed successfully
2025/02/28 12:48:20 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:20 PM INFO:init_state_var executed successfully
2025/02/28 12:48:20 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:20 PM INFO:init_state_var executed successfully
2025/02/28 12:48:20 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:20 PM INFO:init_state_var executed successfully
2025/02/28 12:48:20 PM INFO:Session_state variables initialized
2025/02/28 12:48:20 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:48:20 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:48:20 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:48:20 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:48:20 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:48:20 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:48:20 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:48:20 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:48:20 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:48:20 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:48:20 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:48:20 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:48:20 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:48:20 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:48:20 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:48:20 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:48:20 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:48:20 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:48:20 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:48:20 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:48:20 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:48:20 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:48:20 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:48:20 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:48:20 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:48:20 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:48:20 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:48:20 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:48:20 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:48:20 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:48:20 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:48:20 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:48:20 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 12:48:20 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:48:20 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x000001D824C9CC10>}
2025/02/28 12:48:20 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:48:20 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:48:20 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:48:20 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:48:20 PM INFO:Session state Setup complete
2025/02/28 12:48:20 PM INFO:initialize_session_state executed successfully
2025/02/28 12:48:20 PM INFO:Package setup complete
2025/02/28 12:48:20 PM INFO:Calling pagesetup with args=()
2025/02/28 12:48:20 PM INFO:Calling get_git_version with args=()
2025/02/28 12:48:20 PM INFO:get_git_version executed successfully
2025/02/28 12:48:20 PM INFO:App Version: v2.116
2025/02/28 12:48:20 PM INFO:Switched to page: Cash Donations
2025/02/28 12:48:20 PM INFO:Calling cash_donations_page with args=()
2025/02/28 12:48:20 PM INFO:Calling load_and_filter_data with args=(None, 'filtered_keytarget_label')
2025/02/28 12:48:20 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:48:23 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:48:23 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:48:23 PM INFO:load_and_filter_data executed successfully
2025/02/28 12:48:23 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:48:23 PM INFO:display_summary_statistics executed successfully
2025/02/28 12:48:23 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 12:48:23 PM INFO:display_textual_insights executed successfully
2025/02/28 12:48:23 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:48:23 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:23 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:24 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:24 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:24 PM INFO:display_visualizations executed successfully
2025/02/28 12:48:24 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:24 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:24 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:24 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:24 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:24 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:24 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:48:24 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:48:24 PM INFO:cash_donations_page executed successfully
2025/02/28 12:48:24 PM INFO:pagesetup executed successfully
2025/02/28 12:48:24 PM INFO:Calling firstload with args=()
2025/02/28 12:48:24 PM INFO:firstload executed successfully
2025/02/28 12:48:46 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:48:46 PM INFO:Setting up the package
2025/02/28 12:48:46 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:48:46 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:48:46 PM INFO:get_git_version executed successfully
2025/02/28 12:48:46 PM INFO:Version: v2.104
2025/02/28 12:48:46 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:48:46 PM INFO:init_state_var executed successfully
2025/02/28 12:48:46 PM INFO:Session_state variables initialized
2025/02/28 12:48:46 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:48:46 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:48:46 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:48:46 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:48:46 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:48:46 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:48:46 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:48:46 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:48:46 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:48:46 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:48:46 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:48:46 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:48:46 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:48:46 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:48:46 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:48:46 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:48:46 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:48:46 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:48:46 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:48:46 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:48:46 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:48:46 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:48:46 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:48:46 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:48:46 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:48:46 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:48:46 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:48:46 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:48:46 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:48:46 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:48:46 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:48:46 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:48:47 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 12:48:47 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:48:47 PM INFO:menu_selection: {'title': 'Bequeths', 'function': <function mod_bequeths_page at 0x000001D824C9DE10>}
2025/02/28 12:48:47 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:48:47 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:48:47 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:48:47 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:48:47 PM INFO:Session state Setup complete
2025/02/28 12:48:47 PM INFO:initialize_session_state executed successfully
2025/02/28 12:48:47 PM INFO:Package setup complete
2025/02/28 12:48:47 PM INFO:Calling pagesetup with args=()
2025/02/28 12:48:47 PM INFO:Calling get_git_version with args=()
2025/02/28 12:48:47 PM INFO:get_git_version executed successfully
2025/02/28 12:48:47 PM INFO:App Version: v2.116
2025/02/28 12:48:47 PM INFO:Switched to page: Bequeths
2025/02/28 12:48:47 PM INFO:Calling display_data_page with args=('Bequests_ftr', 'Bequest')
2025/02/28 12:48:47 PM INFO:Calling load_and_filter_data with args=('Bequests_ftr', 'filtered_keytarget_label')
2025/02/28 12:48:47 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:48:50 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:48:50 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:48:50 PM INFO:load_and_filter_data executed successfully
2025/02/28 12:48:50 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Bequest', 'filtered_keytarget_label')
2025/02/28 12:48:50 PM INFO:display_summary_statistics executed successfully
2025/02/28 12:48:50 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Bequest', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 0.5)
2025/02/28 12:48:50 PM INFO:display_textual_insights executed successfully
2025/02/28 12:48:50 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Bequest', 'filtered_keytarget_label')
2025/02/28 12:48:50 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:50 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:50 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 12:48:50 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:48:50 PM INFO:display_visualizations executed successfully
2025/02/28 12:48:50 PM INFO:display_data_page executed successfully
2025/02/28 12:48:50 PM INFO:pagesetup executed successfully
2025/02/28 12:48:50 PM INFO:Calling firstload with args=()
2025/02/28 12:48:50 PM INFO:firstload executed successfully
2025/02/28 12:53:52 PM INFO:Logging is set up correctly!
2025/02/28 12:53:52 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:53:52 PM INFO:get_git_version executed successfully
2025/02/28 12:53:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:53:53 PM INFO:get_git_version executed successfully
2025/02/28 12:53:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:53:53 PM INFO:get_git_version executed successfully
2025/02/28 12:53:53 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:53:53 PM INFO:Setting up the package
2025/02/28 12:53:53 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:53:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:53:53 PM INFO:get_git_version executed successfully
2025/02/28 12:53:53 PM INFO:Version: v2.108
2025/02/28 12:53:53 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:53:53 PM INFO:init_state_var executed successfully
2025/02/28 12:53:53 PM INFO:Session_state variables initialized
2025/02/28 12:53:53 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:53:53 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:53:53 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:53:53 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:53:53 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:53:53 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:53:53 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:53:53 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:53:53 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:53:53 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:53:53 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:53:53 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:53:53 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:53:53 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:53:53 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:53:53 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:53:53 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:53:53 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:53:53 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:53:53 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:53:53 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:53:53 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:53:53 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:53:53 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:53:53 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:53:53 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:53:53 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:53:53 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:53:53 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:53:53 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:53:53 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:53:53 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:53:53 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:53:53 PM INFO:Session state Setup complete
2025/02/28 12:53:53 PM INFO:initialize_session_state executed successfully
2025/02/28 12:53:53 PM INFO:Package setup complete
2025/02/28 12:53:53 PM INFO:Calling pagesetup with args=()
2025/02/28 12:53:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:53:54 PM INFO:get_git_version executed successfully
2025/02/28 12:53:54 PM INFO:Calling get_git_version with args=()
2025/02/28 12:53:54 PM INFO:get_git_version executed successfully
2025/02/28 12:53:54 PM INFO:App Version: v2.120
2025/02/28 12:53:54 PM INFO:Switched to page: Introduction
2025/02/28 12:53:54 PM INFO:pagesetup executed successfully
2025/02/28 12:53:55 PM INFO:Calling firstload with args=()
2025/02/28 12:53:55 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000002A6FD4265F0>)
2025/02/28 12:53:55 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:53:55 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:53:55 PM INFO:Calling raw_data_cleanup with args=(           ECRef              RegulatedEntityName    RegulatedEntityType        Value AcceptedDate  ... AccountingUnitId  DonorId CampaigningName   RegisterName IsIrishSource
index                                                                                               ...                                                                       
0      NC0408174                   Mr Andy Street        Regulated Donee    1,876.56   02/09/2019  ...              NaN  86310.0             NaN  Great Britain         False
1      NC0408173                   Mr Andy Street        Regulated Donee    2,700.00   02/09/2019  ...              NaN  86310.0             NaN  Great Britain         False
2      NC0408177                   Mr Andy Street        Regulated Donee    4,852.58   30/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
3      NC0408176                   Mr Andy Street        Regulated Donee    2,500.00   30/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
4      NC0408170                   Mr Andy Street        Regulated Donee    4,524.05   29/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
...          ...                              ...                    ...          ...          ...  ...              ...      ...             ...            ...           ...
65273   C0242478               Vote Leave Limited  Permitted Participant   10,000.00          NaN  ...              NaN  74198.0             NaN            NaN         False
65274   C0242461               Vote Leave Limited  Permitted Participant  100,000.00          NaN  ...              NaN  74184.0             NaN            NaN         False
65275   C0243560               Vote Leave Limited  Permitted Participant   40,000.00          NaN  ...              NaN  74576.0             NaN            NaN         False
65276   C0319710  Conservative and Unionist Party        Political Party   50,000.00          NaN  ...              NaN  34241.0             NaN  Great Britain         False
65277   C0319727  Conservative and Unionist Party        Political Party   15,000.00          NaN  ...              NaN  74743.0             NaN  Great Britain         False

[65278 rows x 29 columns],)
2025/02/28 12:53:56 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:53:56 PM INFO:map_filename: regentity_map_fname
2025/02/28 12:53:56 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:53:56 PM INFO:Dedupe by file
2025/02/28 12:53:57 PM INFO:Dedupe by file, shape: (65279, 34)
2025/02/28 12:53:57 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:53:57 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:53:57 PM INFO:map_filename: donor_map_fname
2025/02/28 12:53:57 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:53:57 PM INFO:Dedupe by file
2025/02/28 12:53:57 PM INFO:Dedupe by file, shape: (66011, 40)
2025/02/28 12:53:57 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:53:57 PM INFO:Data cleanup completed, shape: (63939, 40)
2025/02/28 12:53:57 PM INFO:raw_data_cleanup executed successfully
2025/02/28 12:53:58 PM INFO:load_raw_data executed successfully
2025/02/28 12:53:58 PM INFO:get_raw_data executed successfully
2025/02/28 12:53:58 PM INFO:load_data_to_session executed successfully
2025/02/28 12:53:58 PM INFO:Calling load_data_to_session with args=('data_clean', <function get_cleaned_data at 0x000002A6FD426D40>)
2025/02/28 12:53:58 PM INFO:Calling get_cleaned_data with args=()
2025/02/28 12:53:58 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:54:03 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:54:03 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:54:03 PM INFO:get_cleaned_data executed successfully
2025/02/28 12:54:03 PM INFO:load_data_to_session executed successfully
2025/02/28 12:54:03 PM INFO:Calling load_data_to_session with args=('data_party_sum', <function get_party_summary_data at 0x000002A6FD426C20>)
2025/02/28 12:54:03 PM INFO:Calling get_party_summary_data with args=()
2025/02/28 12:54:03 PM INFO:Calling load_entity_summary_data with args=()
2025/02/28 12:54:03 PM INFO:load_entity_summary_data executed successfully
2025/02/28 12:54:03 PM INFO:get_party_summary_data executed successfully
2025/02/28 12:54:03 PM INFO:load_data_to_session executed successfully
2025/02/28 12:54:03 PM INFO:Calling load_data_to_session with args=('data_donor', <function get_donor_data at 0x000002A6FD426E60>)
2025/02/28 12:54:03 PM INFO:Calling get_donor_data with args=()
2025/02/28 12:54:03 PM INFO:Calling load_donorList_data with args=()
2025/02/28 12:54:04 PM INFO:load_donorList_data executed successfully
2025/02/28 12:54:04 PM INFO:get_donor_data executed successfully
2025/02/28 12:54:04 PM INFO:load_data_to_session executed successfully
2025/02/28 12:54:04 PM INFO:Calling load_data_to_session with args=('data_regentity', <function get_regentity_data at 0x000002A6FD426F80>)
2025/02/28 12:54:04 PM INFO:Calling get_regentity_data with args=()
2025/02/28 12:54:04 PM INFO:Calling load_regulated_entity_data with args=()
2025/02/28 12:54:04 PM INFO:load_regulated_entity_data executed successfully
2025/02/28 12:54:04 PM INFO:get_regentity_data executed successfully
2025/02/28 12:54:04 PM INFO:load_data_to_session executed successfully
2025/02/28 12:54:04 PM INFO:firstload executed successfully
2025/02/28 12:55:00 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:55:00 PM INFO:Setting up the package
2025/02/28 12:55:00 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:55:00 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:55:00 PM INFO:get_git_version executed successfully
2025/02/28 12:55:00 PM INFO:Version: v2.108
2025/02/28 12:55:00 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:00 PM INFO:init_state_var executed successfully
2025/02/28 12:55:00 PM INFO:Session_state variables initialized
2025/02/28 12:55:00 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:55:00 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:55:00 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:55:00 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:55:00 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:55:00 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:55:00 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:55:00 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:55:00 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:55:00 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:55:00 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:55:00 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:55:00 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:55:00 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:55:00 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:55:00 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:55:00 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:55:00 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:55:00 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:55:00 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:55:00 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:55:00 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:55:00 PM INFO:menu_selection: {'title': 'Login', 'function': <function loginpage at 0x000002A6FD6BDBD0>}
2025/02/28 12:55:00 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:55:00 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:55:00 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:55:00 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:55:00 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:55:00 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:55:00 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:55:00 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:55:00 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:55:00 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:55:00 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:55:00 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:55:00 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:55:00 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:55:00 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:55:00 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:55:00 PM INFO:Session state Setup complete
2025/02/28 12:55:00 PM INFO:initialize_session_state executed successfully
2025/02/28 12:55:00 PM INFO:Package setup complete
2025/02/28 12:55:00 PM INFO:Calling pagesetup with args=()
2025/02/28 12:55:00 PM INFO:Calling get_git_version with args=()
2025/02/28 12:55:00 PM INFO:get_git_version executed successfully
2025/02/28 12:55:00 PM INFO:App Version: v2.120
2025/02/28 12:55:00 PM INFO:Switched to page: Login
2025/02/28 12:55:00 PM INFO:pagesetup executed successfully
2025/02/28 12:55:00 PM INFO:Calling firstload with args=()
2025/02/28 12:55:00 PM INFO:firstload executed successfully
2025/02/28 12:55:04 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:55:04 PM INFO:Setting up the package
2025/02/28 12:55:04 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:55:04 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:55:04 PM INFO:get_git_version executed successfully
2025/02/28 12:55:04 PM INFO:Version: v2.108
2025/02/28 12:55:04 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:04 PM INFO:init_state_var executed successfully
2025/02/28 12:55:04 PM INFO:Session_state variables initialized
2025/02/28 12:55:04 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:55:04 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:55:04 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:55:04 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:55:04 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:55:04 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:55:04 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:55:04 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:55:04 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:55:04 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:55:04 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:55:04 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:55:04 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:55:04 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:55:04 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:55:04 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:55:04 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:55:04 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:55:04 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:55:04 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:55:04 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:55:04 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:55:04 PM INFO:menu_selection: {'title': 'Head Line Figures', 'function': <function hlf_body at 0x000002A6FD4B95A0>}
2025/02/28 12:55:04 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:55:04 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:55:04 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:55:05 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:55:05 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:55:05 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:55:05 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:55:05 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:55:05 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:55:05 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:55:05 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:55:05 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:55:05 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:55:05 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:55:05 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:55:05 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:55:05 PM INFO:Session state Setup complete
2025/02/28 12:55:05 PM INFO:initialize_session_state executed successfully
2025/02/28 12:55:05 PM INFO:Package setup complete
2025/02/28 12:55:05 PM INFO:Calling pagesetup with args=()
2025/02/28 12:55:05 PM INFO:Calling get_git_version with args=()
2025/02/28 12:55:05 PM INFO:get_git_version executed successfully
2025/02/28 12:55:05 PM INFO:App Version: v2.120
2025/02/28 12:55:05 PM INFO:Switched to page: Head Line Figures
2025/02/28 12:55:05 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:05 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:06 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef                OriginalRegulatedEntityName RegulatedEntityType    Value  ...                  RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
65348   U0034053                               Labour Party     Political Party   400.00  ...                              NaN             1                1                1
65336  TV0036256                           Yes Campaign Ltd         Third Party   668.00  ...                              NaN             1                1                1
65449  TV0036257  British Declaration Of Independence [The]         Third Party  1500.00  ...                              NaN             1                1                1
65649  TV0036260        Campaign For An Independent Britain         Third Party  1450.00  ...                              NaN             1                1                1
65919  TV0036259                                 Charter 88         Third Party  1500.00  ...                              NaN             1                1                1
...          ...                                        ...                 ...      ...  ...                              ...           ...              ...              ...
2176    V0403814                       Mr Damian Collins Mp     Regulated Donee  5000.00  ...                     Small Entity             1                1                1
2188    V0403838                           Jess Phillips Mp     Regulated Donee  1787.62  ...  Conservative And Unionist Party             1                1                1
2615    V0408118                            Preet Kaur Gill     Regulated Donee  2682.55  ...                Liberal Democrats             1                1                1
5887    V0403834                              Mr Afzal Khan     Regulated Donee  1800.00  ...                Liberal Democrats             1                1                1
5889    V0403400                       Ms Yasmin Qureshi Mp     Regulated Donee  1800.00  ...  Conservative And Unionist Party             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:06 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:06 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:06 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:06 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:06 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:06 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 12:55:06 PM INFO:plot_pie_chart executed successfully
2025/02/28 12:55:06 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 12:55:06 PM INFO:plot_pie_chart executed successfully
2025/02/28 12:55:06 PM INFO:pagesetup executed successfully
2025/02/28 12:55:06 PM INFO:Calling firstload with args=()
2025/02/28 12:55:06 PM INFO:firstload executed successfully
2025/02/28 12:55:18 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:55:18 PM INFO:Setting up the package
2025/02/28 12:55:18 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:55:18 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:55:18 PM INFO:get_git_version executed successfully
2025/02/28 12:55:18 PM INFO:Version: v2.108
2025/02/28 12:55:18 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:18 PM INFO:init_state_var executed successfully
2025/02/28 12:55:18 PM INFO:Session_state variables initialized
2025/02/28 12:55:18 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:55:18 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:55:18 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:55:18 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:55:18 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:55:18 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:55:18 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:55:18 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:55:18 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:55:18 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:55:18 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:55:18 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:55:18 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:55:18 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:55:18 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:55:18 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:55:18 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:55:18 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:55:18 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:55:18 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:55:18 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:55:18 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:55:18 PM INFO:menu_selection: {'title': 'Donors Head Lines', 'function': <function donorsheadlinespage_body at 0x000002A6FD6BCB80>}
2025/02/28 12:55:18 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:55:18 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:55:18 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:55:18 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:55:18 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:55:18 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:55:18 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:55:18 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:55:18 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:55:18 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:55:18 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:55:18 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:55:18 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:55:18 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:55:18 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:55:18 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:55:18 PM INFO:Session state Setup complete
2025/02/28 12:55:18 PM INFO:initialize_session_state executed successfully
2025/02/28 12:55:18 PM INFO:Package setup complete
2025/02/28 12:55:18 PM INFO:Calling pagesetup with args=()
2025/02/28 12:55:18 PM INFO:Calling get_git_version with args=()
2025/02/28 12:55:18 PM INFO:get_git_version executed successfully
2025/02/28 12:55:18 PM INFO:App Version: v2.120
2025/02/28 12:55:18 PM INFO:Switched to page: Donors Head Lines
2025/02/28 12:55:18 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:55:20 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:55:20 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:55:20 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:55:20 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:55:20 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:55:20 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:55:20 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:55:20 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:55:20 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:55:21 PM INFO:pagesetup executed successfully
2025/02/28 12:55:21 PM INFO:Calling firstload with args=()
2025/02/28 12:55:21 PM INFO:firstload executed successfully
2025/02/28 12:55:22 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:55:22 PM INFO:Setting up the package
2025/02/28 12:55:22 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:55:22 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:55:22 PM INFO:get_git_version executed successfully
2025/02/28 12:55:22 PM INFO:Version: v2.108
2025/02/28 12:55:22 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:55:22 PM INFO:init_state_var executed successfully
2025/02/28 12:55:22 PM INFO:Session_state variables initialized
2025/02/28 12:55:22 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:55:22 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:55:22 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:55:22 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:55:22 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:55:22 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:55:22 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:55:22 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:55:22 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:55:22 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:55:22 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:55:22 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:55:22 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:55:22 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:55:22 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:55:22 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:55:22 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:55:22 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:55:22 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:55:22 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:55:22 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:55:22 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:55:22 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x000002A6FD6BC5E0>}
2025/02/28 12:55:22 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:55:22 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:55:22 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:55:22 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:55:22 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:55:22 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:55:22 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:55:22 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:55:22 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:55:22 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:55:22 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:55:22 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:55:22 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:55:22 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:55:22 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:55:22 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:55:22 PM INFO:Session state Setup complete
2025/02/28 12:55:22 PM INFO:initialize_session_state executed successfully
2025/02/28 12:55:22 PM INFO:Package setup complete
2025/02/28 12:55:22 PM INFO:Calling pagesetup with args=()
2025/02/28 12:55:22 PM INFO:Calling get_git_version with args=()
2025/02/28 12:55:23 PM INFO:get_git_version executed successfully
2025/02/28 12:55:23 PM INFO:App Version: v2.120
2025/02/28 12:55:23 PM INFO:Switched to page: Cash Donations
2025/02/28 12:55:23 PM INFO:Calling cash_donations_page with args=()
2025/02/28 12:55:23 PM INFO:Calling load_and_filter_data with args=(None, 'filtered_keytarget_label')
2025/02/28 12:55:23 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:55:26 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:55:26 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:55:26 PM INFO:load_and_filter_data executed successfully
2025/02/28 12:55:26 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:55:26 PM INFO:display_summary_statistics executed successfully
2025/02/28 12:55:26 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 12:55:26 PM INFO:display_textual_insights executed successfully
2025/02/28 12:55:26 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:55:26 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:26 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:26 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:26 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:26 PM INFO:display_visualizations executed successfully
2025/02/28 12:55:26 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:26 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:27 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:27 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:27 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:55:27 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:55:27 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:55:27 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:55:27 PM INFO:cash_donations_page executed successfully
2025/02/28 12:55:27 PM INFO:pagesetup executed successfully
2025/02/28 12:55:27 PM INFO:Calling firstload with args=()
2025/02/28 12:55:27 PM INFO:firstload executed successfully
2025/02/28 12:57:40 PM INFO:Logging is set up correctly!
2025/02/28 12:57:40 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:57:40 PM INFO:get_git_version executed successfully
2025/02/28 12:57:40 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:57:40 PM INFO:get_git_version executed successfully
2025/02/28 12:57:40 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:57:40 PM INFO:get_git_version executed successfully
2025/02/28 12:57:41 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:57:41 PM INFO:Setting up the package
2025/02/28 12:57:41 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:57:41 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:57:41 PM INFO:get_git_version executed successfully
2025/02/28 12:57:41 PM INFO:Version: v2.108
2025/02/28 12:57:41 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:41 PM INFO:init_state_var executed successfully
2025/02/28 12:57:41 PM INFO:Session_state variables initialized
2025/02/28 12:57:41 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:57:41 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:57:41 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:57:41 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:57:41 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:57:41 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:57:41 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:57:41 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:57:41 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:57:41 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:57:41 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:57:41 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:57:41 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:57:41 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:57:41 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:57:41 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:57:41 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:57:41 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:57:41 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:57:41 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:57:41 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:57:41 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:57:41 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x000002A6FD6BC5E0>}
2025/02/28 12:57:41 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:57:41 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:57:41 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:57:41 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:57:41 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:57:41 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:57:41 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:57:41 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:57:41 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:57:41 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:57:41 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:57:41 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:57:41 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:57:41 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:57:41 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:57:41 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:57:41 PM INFO:Session state Setup complete
2025/02/28 12:57:41 PM INFO:initialize_session_state executed successfully
2025/02/28 12:57:41 PM INFO:Package setup complete
2025/02/28 12:57:41 PM INFO:Calling pagesetup with args=()
2025/02/28 12:57:41 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:57:41 PM INFO:get_git_version executed successfully
2025/02/28 12:57:41 PM INFO:Calling get_git_version with args=()
2025/02/28 12:57:41 PM INFO:get_git_version executed successfully
2025/02/28 12:57:41 PM INFO:App Version: v2.120
2025/02/28 12:57:41 PM INFO:Switched to page: Cash Donations
2025/02/28 12:57:41 PM INFO:Calling cash_donations_page with args=()
2025/02/28 12:57:41 PM INFO:Calling load_and_filter_data with args=(None, 'filtered_keytarget_label')
2025/02/28 12:57:41 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:57:45 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:57:45 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:57:45 PM INFO:load_and_filter_data executed successfully
2025/02/28 12:57:45 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:57:45 PM INFO:display_summary_statistics executed successfully
2025/02/28 12:57:45 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 12:57:45 PM INFO:display_textual_insights executed successfully
2025/02/28 12:57:45 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:57:45 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:57:45 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:57:45 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:57:45 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:57:45 PM INFO:display_visualizations executed successfully
2025/02/28 12:57:45 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:57:45 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:57:45 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:57:45 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:57:45 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:57:46 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:57:46 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:57:46 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:57:46 PM INFO:cash_donations_page executed successfully
2025/02/28 12:57:46 PM INFO:pagesetup executed successfully
2025/02/28 12:57:46 PM INFO:Calling firstload with args=()
2025/02/28 12:57:46 PM INFO:firstload executed successfully
2025/02/28 12:57:52 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:57:52 PM INFO:Setting up the package
2025/02/28 12:57:52 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:57:52 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:57:52 PM INFO:get_git_version executed successfully
2025/02/28 12:57:52 PM INFO:Version: v2.108
2025/02/28 12:57:52 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:52 PM INFO:init_state_var executed successfully
2025/02/28 12:57:52 PM INFO:Session_state variables initialized
2025/02/28 12:57:52 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:57:52 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:57:52 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:57:52 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:57:52 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:57:52 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:57:52 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:57:52 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:57:52 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:57:52 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:57:52 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:57:52 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:57:52 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:57:52 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:57:52 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:57:52 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:57:52 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:57:52 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:57:52 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:57:52 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:57:52 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:57:52 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:57:52 PM INFO:menu_selection: {'title': 'Donors Head Lines', 'function': <function donorsheadlinespage_body at 0x000002A6808513F0>}
2025/02/28 12:57:52 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:57:52 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:57:52 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:57:52 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:57:52 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:57:52 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:57:52 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:57:52 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:57:52 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:57:52 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:57:52 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:57:52 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:57:53 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:57:53 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:57:53 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:57:53 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:57:53 PM INFO:Session state Setup complete
2025/02/28 12:57:53 PM INFO:initialize_session_state executed successfully
2025/02/28 12:57:53 PM INFO:Package setup complete
2025/02/28 12:57:53 PM INFO:Calling pagesetup with args=()
2025/02/28 12:57:53 PM INFO:Calling get_git_version with args=()
2025/02/28 12:57:53 PM INFO:get_git_version executed successfully
2025/02/28 12:57:53 PM INFO:App Version: v2.120
2025/02/28 12:57:53 PM INFO:Switched to page: Donors Head Lines
2025/02/28 12:57:53 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:57:53 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:57:53 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:57:53 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:57:53 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:57:53 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:57:53 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:57:53 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:57:53 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  Total Value  Average Donation  ...  Avg Donations  Median Donations  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1     14586.00         14586.000  ...         14.6k            14.6k                14.6k                          1.00
1                            1900 Club               12     27000.00          2250.000  ...      2,250.00         2,000.00                27.0k                         12.00
2         1St Machine Tool Accessories                1      5000.00          5000.000  ...      5,000.00         5,000.00             5,000.00                          1.00
3                         33 Group Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
4      3R Construction Development Ltd                2     10000.00          5000.000  ...      5,000.00         5,000.00                10.0k                          2.00
...                                ...              ...          ...               ...  ...            ...               ...                   ...                           ...
18717                   Zoe Ashton Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1      2000.00          2000.000  ...      2,000.00         2,000.00             2,000.00                          1.00
18719                         Zouk Ltd                5     13825.00          2765.000  ...      2,765.00         2,751.00                13.8k                          5.00
18720                     Zulfiqar Ali                2      6496.91          3248.455  ...      3,248.45         3,248.45             6,496.91                          2.00
18721                     Zyex Limited                1      1324.50          1324.500  ...      1,324.50         1,324.50             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 12:57:54 PM INFO:plot_regressionplot executed successfully
2025/02/28 12:57:54 PM INFO:pagesetup executed successfully
2025/02/28 12:57:54 PM INFO:Calling firstload with args=()
2025/02/28 12:57:54 PM INFO:firstload executed successfully
2025/02/28 12:57:58 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:57:58 PM INFO:Setting up the package
2025/02/28 12:57:58 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:57:58 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:57:58 PM INFO:get_git_version executed successfully
2025/02/28 12:57:58 PM INFO:Version: v2.108
2025/02/28 12:57:58 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:57:58 PM INFO:init_state_var executed successfully
2025/02/28 12:57:58 PM INFO:Session_state variables initialized
2025/02/28 12:57:58 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:57:58 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:57:58 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:57:58 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:57:58 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:57:58 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:57:58 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:57:58 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:57:58 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:57:58 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:57:58 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:57:58 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:57:58 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:57:58 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:57:58 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:57:58 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:57:58 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:57:58 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:57:58 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:57:58 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:57:58 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:57:58 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:57:58 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x000002A680850E50>}
2025/02/28 12:57:58 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:57:58 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:57:58 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:57:58 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:57:58 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:57:58 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:57:58 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:57:58 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:57:58 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:57:58 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:57:58 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:57:58 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:57:58 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:57:58 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:57:58 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:57:58 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:57:58 PM INFO:Session state Setup complete
2025/02/28 12:57:58 PM INFO:initialize_session_state executed successfully
2025/02/28 12:57:58 PM INFO:Package setup complete
2025/02/28 12:57:58 PM INFO:Calling pagesetup with args=()
2025/02/28 12:57:58 PM INFO:Calling get_git_version with args=()
2025/02/28 12:57:58 PM INFO:get_git_version executed successfully
2025/02/28 12:57:58 PM INFO:App Version: v2.120
2025/02/28 12:57:58 PM INFO:Switched to page: Cash Donations
2025/02/28 12:57:58 PM INFO:Calling cash_donations_page with args=()
2025/02/28 12:57:58 PM INFO:Calling load_and_filter_data with args=(None, 'filtered_keytarget_label')
2025/02/28 12:57:58 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:58:01 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:58:01 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:58:02 PM INFO:load_and_filter_data executed successfully
2025/02/28 12:58:02 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:58:02 PM INFO:display_summary_statistics executed successfully
2025/02/28 12:58:02 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 12:58:02 PM INFO:display_textual_insights executed successfully
2025/02/28 12:58:02 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:58:02 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:02 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:02 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:02 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:02 PM INFO:display_visualizations executed successfully
2025/02/28 12:58:02 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:02 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:02 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:02 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:03 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:03 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:03 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:58:03 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:58:03 PM INFO:cash_donations_page executed successfully
2025/02/28 12:58:03 PM INFO:pagesetup executed successfully
2025/02/28 12:58:03 PM INFO:Calling firstload with args=()
2025/02/28 12:58:03 PM INFO:firstload executed successfully
2025/02/28 12:58:18 PM INFO:Logging is set up correctly!
2025/02/28 12:58:18 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 12:58:18 PM INFO:get_git_version executed successfully
2025/02/28 12:58:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 12:58:19 PM INFO:get_git_version executed successfully
2025/02/28 12:58:19 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 12:58:19 PM INFO:get_git_version executed successfully
2025/02/28 12:58:20 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:58:20 PM INFO:Setting up the package
2025/02/28 12:58:20 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:58:20 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:58:20 PM INFO:get_git_version executed successfully
2025/02/28 12:58:20 PM INFO:Version: v2.108
2025/02/28 12:58:20 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:58:20 PM INFO:init_state_var executed successfully
2025/02/28 12:58:20 PM INFO:Session_state variables initialized
2025/02/28 12:58:20 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:58:20 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:58:20 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:58:20 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:58:20 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:58:20 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:58:20 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:58:20 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:58:20 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:58:20 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:58:20 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:58:20 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:58:20 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:58:20 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:58:20 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:58:20 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:58:20 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:58:20 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:58:20 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:58:20 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:58:20 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:58:20 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:58:20 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:58:20 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:58:20 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:58:20 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:58:20 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:58:20 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:58:20 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:58:20 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:58:20 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:58:20 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:58:20 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:58:20 PM INFO:Session state Setup complete
2025/02/28 12:58:20 PM INFO:initialize_session_state executed successfully
2025/02/28 12:58:20 PM INFO:Package setup complete
2025/02/28 12:58:20 PM INFO:Calling pagesetup with args=()
2025/02/28 12:58:20 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 12:58:20 PM INFO:get_git_version executed successfully
2025/02/28 12:58:21 PM INFO:Calling get_git_version with args=()
2025/02/28 12:58:21 PM INFO:get_git_version executed successfully
2025/02/28 12:58:21 PM INFO:App Version: v2.120
2025/02/28 12:58:21 PM INFO:Switched to page: Introduction
2025/02/28 12:58:21 PM INFO:pagesetup executed successfully
2025/02/28 12:58:21 PM INFO:Calling firstload with args=()
2025/02/28 12:58:21 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000002C46B44E200>)
2025/02/28 12:58:21 PM INFO:Calling get_raw_data with args=()
2025/02/28 12:58:21 PM INFO:Calling load_raw_data with args=()
2025/02/28 12:58:21 PM INFO:Calling raw_data_cleanup with args=(           ECRef              RegulatedEntityName    RegulatedEntityType        Value AcceptedDate  ... AccountingUnitId  DonorId CampaigningName   RegisterName IsIrishSource
index                                                                                               ...                                                                       
0      NC0408174                   Mr Andy Street        Regulated Donee    1,876.56   02/09/2019  ...              NaN  86310.0             NaN  Great Britain         False
1      NC0408173                   Mr Andy Street        Regulated Donee    2,700.00   02/09/2019  ...              NaN  86310.0             NaN  Great Britain         False
2      NC0408177                   Mr Andy Street        Regulated Donee    4,852.58   30/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
3      NC0408176                   Mr Andy Street        Regulated Donee    2,500.00   30/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
4      NC0408170                   Mr Andy Street        Regulated Donee    4,524.05   29/08/2019  ...              NaN  86310.0             NaN  Great Britain         False
...          ...                              ...                    ...          ...          ...  ...              ...      ...             ...            ...           ...
65273   C0242478               Vote Leave Limited  Permitted Participant   10,000.00          NaN  ...              NaN  74198.0             NaN            NaN         False
65274   C0242461               Vote Leave Limited  Permitted Participant  100,000.00          NaN  ...              NaN  74184.0             NaN            NaN         False
65275   C0243560               Vote Leave Limited  Permitted Participant   40,000.00          NaN  ...              NaN  74576.0             NaN            NaN         False
65276   C0319710  Conservative and Unionist Party        Political Party   50,000.00          NaN  ...              NaN  34241.0             NaN  Great Britain         False
65277   C0319727  Conservative and Unionist Party        Political Party   15,000.00          NaN  ...              NaN  74743.0             NaN  Great Britain         False

[65278 rows x 29 columns],)
2025/02/28 12:58:23 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:58:23 PM INFO:map_filename: regentity_map_fname
2025/02/28 12:58:23 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:58:23 PM INFO:Dedupe by file
2025/02/28 12:58:23 PM INFO:Dedupe by file, shape: (65279, 34)
2025/02/28 12:58:23 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:58:23 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 12:58:23 PM INFO:map_filename: donor_map_fname
2025/02/28 12:58:23 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:58:23 PM INFO:Dedupe by file
2025/02/28 12:58:23 PM INFO:Dedupe by file, shape: (66011, 40)
2025/02/28 12:58:23 PM INFO:dedupe_entity_file executed successfully
2025/02/28 12:58:23 PM INFO:Data cleanup completed, shape: (63939, 40)
2025/02/28 12:58:23 PM INFO:raw_data_cleanup executed successfully
2025/02/28 12:58:25 PM INFO:load_raw_data executed successfully
2025/02/28 12:58:25 PM INFO:get_raw_data executed successfully
2025/02/28 12:58:25 PM INFO:load_data_to_session executed successfully
2025/02/28 12:58:25 PM INFO:Calling load_data_to_session with args=('data_clean', <function get_cleaned_data at 0x000002C46B44E950>)
2025/02/28 12:58:25 PM INFO:Calling get_cleaned_data with args=()
2025/02/28 12:58:25 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:58:30 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:58:30 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:58:30 PM INFO:get_cleaned_data executed successfully
2025/02/28 12:58:30 PM INFO:load_data_to_session executed successfully
2025/02/28 12:58:30 PM INFO:Calling load_data_to_session with args=('data_party_sum', <function get_party_summary_data at 0x000002C46B44E830>)
2025/02/28 12:58:30 PM INFO:Calling get_party_summary_data with args=()
2025/02/28 12:58:30 PM INFO:Calling load_entity_summary_data with args=()
2025/02/28 12:58:30 PM INFO:load_entity_summary_data executed successfully
2025/02/28 12:58:30 PM INFO:get_party_summary_data executed successfully
2025/02/28 12:58:30 PM INFO:load_data_to_session executed successfully
2025/02/28 12:58:30 PM INFO:Calling load_data_to_session with args=('data_donor', <function get_donor_data at 0x000002C46B44EA70>)
2025/02/28 12:58:30 PM INFO:Calling get_donor_data with args=()
2025/02/28 12:58:30 PM INFO:Calling load_donorList_data with args=()
2025/02/28 12:58:30 PM INFO:load_donorList_data executed successfully
2025/02/28 12:58:30 PM INFO:get_donor_data executed successfully
2025/02/28 12:58:30 PM INFO:load_data_to_session executed successfully
2025/02/28 12:58:30 PM INFO:Calling load_data_to_session with args=('data_regentity', <function get_regentity_data at 0x000002C46B44EB90>)
2025/02/28 12:58:30 PM INFO:Calling get_regentity_data with args=()
2025/02/28 12:58:30 PM INFO:Calling load_regulated_entity_data with args=()
2025/02/28 12:58:30 PM INFO:load_regulated_entity_data executed successfully
2025/02/28 12:58:30 PM INFO:get_regentity_data executed successfully
2025/02/28 12:58:30 PM INFO:load_data_to_session executed successfully
2025/02/28 12:58:30 PM INFO:firstload executed successfully
2025/02/28 12:58:37 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 12:58:37 PM INFO:Setting up the package
2025/02/28 12:58:37 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 12:58:37 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 12:58:37 PM INFO:get_git_version executed successfully
2025/02/28 12:58:37 PM INFO:Version: v2.108
2025/02/28 12:58:37 PM INFO:Calling initialize_session_state with args=()
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 12:58:37 PM INFO:init_state_var executed successfully
2025/02/28 12:58:37 PM INFO:Session_state variables initialized
2025/02/28 12:58:37 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 12:58:37 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 12:58:37 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 12:58:37 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 12:58:37 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 12:58:37 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 12:58:37 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 12:58:37 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 12:58:37 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 12:58:37 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 12:58:37 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 12:58:37 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 12:58:37 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 12:58:37 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x000002C46B6DC1F0>}
2025/02/28 12:58:37 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 12:58:37 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 12:58:37 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 12:58:37 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 12:58:37 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 12:58:37 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 12:58:37 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 12:58:37 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 12:58:37 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 12:58:37 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 12:58:37 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 12:58:37 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 12:58:37 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 12:58:37 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 12:58:37 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 12:58:37 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 12:58:37 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 12:58:37 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 12:58:37 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 12:58:37 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 12:58:37 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 12:58:37 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 12:58:37 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 12:58:37 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 12:58:37 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 12:58:37 PM INFO:Session state Setup complete
2025/02/28 12:58:37 PM INFO:initialize_session_state executed successfully
2025/02/28 12:58:37 PM INFO:Package setup complete
2025/02/28 12:58:37 PM INFO:Calling pagesetup with args=()
2025/02/28 12:58:37 PM INFO:Calling get_git_version with args=()
2025/02/28 12:58:37 PM INFO:get_git_version executed successfully
2025/02/28 12:58:37 PM INFO:App Version: v2.120
2025/02/28 12:58:37 PM INFO:Switched to page: Cash Donations
2025/02/28 12:58:37 PM INFO:Calling cash_donations_page with args=()
2025/02/28 12:58:37 PM INFO:Calling load_and_filter_data with args=(None, 'filtered_keytarget_label')
2025/02/28 12:58:37 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 12:58:41 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 12:58:41 PM INFO:load_cleaned_data executed successfully
2025/02/28 12:58:41 PM INFO:load_and_filter_data executed successfully
2025/02/28 12:58:41 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:58:41 PM INFO:display_summary_statistics executed successfully
2025/02/28 12:58:41 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 12:58:41 PM INFO:display_textual_insights executed successfully
2025/02/28 12:58:41 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_keytarget_label')
2025/02/28 12:58:41 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:41 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:41 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:41 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:41 PM INFO:display_visualizations executed successfully
2025/02/28 12:58:41 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:42 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:42 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:42 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:42 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 12:58:42 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 12:58:42 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 12:58:42 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 12:58:42 PM INFO:cash_donations_page executed successfully
2025/02/28 12:58:42 PM INFO:pagesetup executed successfully
2025/02/28 12:58:42 PM INFO:Calling firstload with args=()
2025/02/28 12:58:42 PM INFO:firstload executed successfully
2025/02/28 01:00:59 PM INFO:Logging is set up correctly!
2025/02/28 01:00:59 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 01:00:59 PM INFO:get_git_version executed successfully
2025/02/28 01:01:00 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 01:01:00 PM INFO:get_git_version executed successfully
2025/02/28 01:01:00 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 01:01:00 PM INFO:get_git_version executed successfully
2025/02/28 01:01:00 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:01:00 PM INFO:Setting up the package
2025/02/28 01:01:00 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:01:00 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:01:00 PM INFO:get_git_version executed successfully
2025/02/28 01:01:00 PM INFO:Version: v2.108
2025/02/28 01:01:00 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:01:00 PM INFO:init_state_var executed successfully
2025/02/28 01:01:00 PM INFO:Session_state variables initialized
2025/02/28 01:01:00 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:01:00 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:01:00 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:01:00 PM INFO:perc_target: 0.5
2025/02/28 01:01:00 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:01:00 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:01:00 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:01:00 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:01:00 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:01:00 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:01:00 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:01:00 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:01:00 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:01:00 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:01:00 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:01:00 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:01:00 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:01:00 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:01:00 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:01:00 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:01:00 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:01:00 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:01:00 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:01:00 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:01:00 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:01:00 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:01:00 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:01:00 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:01:00 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:01:00 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:01:00 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:01:00 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:01:00 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:01:00 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:01:00 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:01:00 PM INFO:Session state Setup complete
2025/02/28 01:01:00 PM INFO:initialize_session_state executed successfully
2025/02/28 01:01:00 PM INFO:Package setup complete
2025/02/28 01:01:00 PM INFO:Calling pagesetup with args=()
2025/02/28 01:01:00 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 01:01:01 PM INFO:get_git_version executed successfully
2025/02/28 01:01:02 PM INFO:Calling get_git_version with args=()
2025/02/28 01:01:02 PM INFO:get_git_version executed successfully
2025/02/28 01:01:02 PM INFO:App Version: v2.120
2025/02/28 01:01:02 PM INFO:Switched to page: Introduction
2025/02/28 01:01:02 PM INFO:pagesetup executed successfully
2025/02/28 01:01:02 PM INFO:Calling firstload with args=()
2025/02/28 01:01:02 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x000002484661E200>)
2025/02/28 01:01:02 PM INFO:Calling get_raw_data with args=()
2025/02/28 01:01:02 PM INFO:Calling load_raw_data with args=()
2025/02/28 01:01:02 PM INFO:Calling raw_data_cleanup with args=(           ECRef              RegulatedEntityName  ...   RegisterName IsIrishSource
index                                              ...                             
0      NC0408174                   Mr Andy Street  ...  Great Britain         False
1      NC0408173                   Mr Andy Street  ...  Great Britain         False
2      NC0408177                   Mr Andy Street  ...  Great Britain         False
3      NC0408176                   Mr Andy Street  ...  Great Britain         False
4      NC0408170                   Mr Andy Street  ...  Great Britain         False
...          ...                              ...  ...            ...           ...
65273   C0242478               Vote Leave Limited  ...            NaN         False
65274   C0242461               Vote Leave Limited  ...            NaN         False
65275   C0243560               Vote Leave Limited  ...            NaN         False
65276   C0319710  Conservative and Unionist Party  ...  Great Britain         False
65277   C0319727  Conservative and Unionist Party  ...  Great Britain         False

[65278 rows x 29 columns],)
2025/02/28 01:01:04 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 01:01:04 PM INFO:map_filename: regentity_map_fname
2025/02/28 01:01:04 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:01:04 PM INFO:Dedupe by file
2025/02/28 01:01:04 PM INFO:Dedupe by file, shape: (65279, 34)
2025/02/28 01:01:04 PM INFO:dedupe_entity_file executed successfully
2025/02/28 01:01:04 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 01:01:04 PM INFO:map_filename: donor_map_fname
2025/02/28 01:01:04 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:01:04 PM INFO:Dedupe by file
2025/02/28 01:01:04 PM INFO:Dedupe by file, shape: (66011, 40)
2025/02/28 01:01:04 PM INFO:dedupe_entity_file executed successfully
2025/02/28 01:01:04 PM INFO:Data cleanup completed, shape: (63939, 40)
2025/02/28 01:01:04 PM INFO:raw_data_cleanup executed successfully
2025/02/28 01:01:06 PM INFO:load_raw_data executed successfully
2025/02/28 01:01:06 PM INFO:get_raw_data executed successfully
2025/02/28 01:01:06 PM INFO:load_data_to_session executed successfully
2025/02/28 01:01:06 PM INFO:Calling load_data_to_session with args=('data_clean', <function get_cleaned_data at 0x000002484661E950>)
2025/02/28 01:01:06 PM INFO:Calling get_cleaned_data with args=()
2025/02/28 01:01:06 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:01:11 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:01:11 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:01:11 PM INFO:get_cleaned_data executed successfully
2025/02/28 01:01:11 PM INFO:load_data_to_session executed successfully
2025/02/28 01:01:11 PM INFO:Calling load_data_to_session with args=('data_party_sum', <function get_party_summary_data at 0x000002484661E830>)
2025/02/28 01:01:11 PM INFO:Calling get_party_summary_data with args=()
2025/02/28 01:01:11 PM INFO:Calling load_entity_summary_data with args=()
2025/02/28 01:01:11 PM INFO:load_entity_summary_data executed successfully
2025/02/28 01:01:11 PM INFO:get_party_summary_data executed successfully
2025/02/28 01:01:11 PM INFO:load_data_to_session executed successfully
2025/02/28 01:01:11 PM INFO:Calling load_data_to_session with args=('data_donor', <function get_donor_data at 0x000002484661EA70>)
2025/02/28 01:01:11 PM INFO:Calling get_donor_data with args=()
2025/02/28 01:01:11 PM INFO:Calling load_donorList_data with args=()
2025/02/28 01:01:11 PM INFO:load_donorList_data executed successfully
2025/02/28 01:01:11 PM INFO:get_donor_data executed successfully
2025/02/28 01:01:11 PM INFO:load_data_to_session executed successfully
2025/02/28 01:01:11 PM INFO:Calling load_data_to_session with args=('data_regentity', <function get_regentity_data at 0x000002484661EB90>)
2025/02/28 01:01:11 PM INFO:Calling get_regentity_data with args=()
2025/02/28 01:01:11 PM INFO:Calling load_regulated_entity_data with args=()
2025/02/28 01:01:11 PM INFO:load_regulated_entity_data executed successfully
2025/02/28 01:01:11 PM INFO:get_regentity_data executed successfully
2025/02/28 01:01:11 PM INFO:load_data_to_session executed successfully
2025/02/28 01:01:11 PM INFO:firstload executed successfully
2025/02/28 01:01:46 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:01:46 PM INFO:Setting up the package
2025/02/28 01:01:46 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:01:46 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:01:46 PM INFO:get_git_version executed successfully
2025/02/28 01:01:46 PM INFO:Version: v2.108
2025/02/28 01:01:46 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:01:46 PM INFO:init_state_var executed successfully
2025/02/28 01:01:46 PM INFO:Session_state variables initialized
2025/02/28 01:01:46 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:01:46 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:01:46 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:01:46 PM INFO:perc_target: 0.5
2025/02/28 01:01:46 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:01:46 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:01:46 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:01:46 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:01:46 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:01:46 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:01:46 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:01:46 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:01:46 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:01:46 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:01:46 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:01:46 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:01:46 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:01:46 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:01:46 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:01:46 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:01:46 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:01:46 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:01:46 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:01:46 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:01:46 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:01:46 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:01:46 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:01:46 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:01:46 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:01:46 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:01:46 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:01:46 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:01:46 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:01:46 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:01:46 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:01:46 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:01:46 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:01:46 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:01:46 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x00000248468B01F0>}
2025/02/28 01:01:46 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:01:46 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:01:46 PM INFO:Session state Setup complete
2025/02/28 01:01:46 PM INFO:initialize_session_state executed successfully
2025/02/28 01:01:46 PM INFO:Package setup complete
2025/02/28 01:01:46 PM INFO:Calling pagesetup with args=()
2025/02/28 01:01:46 PM INFO:Calling get_git_version with args=()
2025/02/28 01:01:46 PM INFO:get_git_version executed successfully
2025/02/28 01:01:46 PM INFO:App Version: v2.120
2025/02/28 01:01:46 PM INFO:Switched to page: Cash Donations
2025/02/28 01:01:46 PM INFO:Calling cash_donations_page with args=()
2025/02/28 01:01:46 PM INFO:Calling load_and_filter_data with args=({'DonationType': 'Cash'}, 'filtered_keyCash Donation')
2025/02/28 01:01:46 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:01:50 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:01:50 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:01:50 PM ERROR:Error in load_and_filter_data: unhashable type: 'dict'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 41, in load_and_filter_data
    current_target = st.session_state["filter_def"].get(filter_key)
TypeError: unhashable type: 'dict'
2025/02/28 01:01:50 PM ERROR:Error in cash_donations_page: unhashable type: 'dict'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\cashdonations.py", line 28, in cash_donations_page
    cleaned_c_d_df) = load_and_filter_data(cash_ftr, pageref_label)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 41, in load_and_filter_data
    current_target = st.session_state["filter_def"].get(filter_key)
TypeError: unhashable type: 'dict'
2025/02/28 01:01:50 PM ERROR:Error in pagesetup: unhashable type: 'dict'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 60, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 45, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\cashdonations.py", line 28, in cash_donations_page
    cleaned_c_d_df) = load_and_filter_data(cash_ftr, pageref_label)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 41, in load_and_filter_data
    current_target = st.session_state["filter_def"].get(filter_key)
TypeError: unhashable type: 'dict'
2025/02/28 01:01:50 PM CRITICAL:Menu setup crashed: unhashable type: 'dict'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 35, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 60, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 45, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\cashdonations.py", line 28, in cash_donations_page
    cleaned_c_d_df) = load_and_filter_data(cash_ftr, pageref_label)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 41, in load_and_filter_data
    current_target = st.session_state["filter_def"].get(filter_key)
TypeError: unhashable type: 'dict'
2025/02/28 01:23:07 PM INFO:Logging is set up correctly!
2025/02/28 01:23:07 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 01:23:07 PM INFO:get_git_version executed successfully
2025/02/28 01:23:08 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 01:23:08 PM INFO:get_git_version executed successfully
2025/02/28 01:23:08 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 01:23:08 PM INFO:get_git_version executed successfully
2025/02/28 01:23:08 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:23:08 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:23:08 PM INFO:Setting up the package
2025/02/28 01:23:08 PM INFO:Setting up the package
2025/02/28 01:23:08 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:23:08 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:23:08 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:23:08 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:23:08 PM INFO:get_git_version executed successfully
2025/02/28 01:23:08 PM INFO:get_git_version executed successfully
2025/02/28 01:23:08 PM INFO:Version: v2.108
2025/02/28 01:23:08 PM INFO:Version: v2.108
2025/02/28 01:23:08 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:23:08 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:23:08 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:init_state_var executed successfully
2025/02/28 01:23:08 PM INFO:Session_state variables initialized
2025/02/28 01:23:08 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:23:08 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:23:08 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:23:08 PM INFO:Session_state variables initialized
2025/02/28 01:23:08 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:23:08 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:23:08 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:23:08 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:23:08 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:23:08 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:23:08 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:23:08 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:23:08 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:23:08 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:23:08 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:23:08 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:23:08 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:23:08 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:23:08 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:23:08 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:23:08 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:23:08 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:23:08 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:23:08 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:23:08 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:23:08 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:23:08 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:23:08 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:23:08 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:23:08 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:23:08 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:23:08 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:23:08 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:23:08 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:23:08 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:23:08 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:23:08 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:23:08 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:23:08 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:23:08 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:23:08 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:23:08 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:23:08 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:23:08 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:23:08 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:23:08 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:23:08 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:23:08 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:23:08 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:23:08 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:23:08 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:23:08 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:23:08 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:23:08 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:23:08 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:23:08 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:23:08 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:23:08 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:23:08 PM INFO:perc_target: 0.5
2025/02/28 01:23:08 PM INFO:Session state Setup complete
2025/02/28 01:23:08 PM INFO:initialize_session_state executed successfully
2025/02/28 01:23:08 PM INFO:Package setup complete
2025/02/28 01:23:08 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:23:08 PM INFO:Calling pagesetup with args=()
2025/02/28 01:23:08 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:23:08 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 01:23:08 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:23:08 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:23:08 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:23:08 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:23:08 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:23:08 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:23:08 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:23:08 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:23:08 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:23:08 PM INFO:perc_target: 0.5
2025/02/28 01:23:08 PM INFO:Session state Setup complete
2025/02/28 01:23:08 PM INFO:initialize_session_state executed successfully
2025/02/28 01:23:08 PM INFO:Package setup complete
2025/02/28 01:23:08 PM INFO:Calling pagesetup with args=()
2025/02/28 01:23:09 PM INFO:get_git_version executed successfully
2025/02/28 01:23:09 PM INFO:Calling get_git_version with args=()
2025/02/28 01:23:09 PM INFO:get_git_version executed successfully
2025/02/28 01:23:09 PM INFO:App Version: v2.120
2025/02/28 01:23:09 PM INFO:Switched to page: Cash Donations
2025/02/28 01:23:09 PM INFO:Calling cash_donations_page with args=()
2025/02/28 01:23:09 PM INFO:Calling load_and_filter_data with args=((('DonationType', 'Cash'),), 'filtered_key_Cash Donation')
2025/02/28 01:23:09 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:23:09 PM ERROR:Error in load_cleaned_data: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 14, in load_cleaned_data
    orig_df = st.session_state.raw_data
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/02/28 01:23:09 PM ERROR:Error in load_and_filter_data: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 26, in load_and_filter_data
    cleaned_df = load_cleaned_data()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 14, in load_cleaned_data
    orig_df = st.session_state.raw_data
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/02/28 01:23:09 PM ERROR:Error in cash_donations_page: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\cashdonations.py", line 32, in cash_donations_page
    cleaned_c_d_df) = load_and_filter_data(cash_ftr, pageref_label)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 26, in load_and_filter_data
    cleaned_df = load_cleaned_data()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 14, in load_cleaned_data
    orig_df = st.session_state.raw_data
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/02/28 01:23:09 PM ERROR:Error in pagesetup: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 60, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 45, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\cashdonations.py", line 32, in cash_donations_page
    cleaned_c_d_df) = load_and_filter_data(cash_ftr, pageref_label)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 26, in load_and_filter_data
    cleaned_df = load_cleaned_data()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 14, in load_cleaned_data
    orig_df = st.session_state.raw_data
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/02/28 01:23:09 PM CRITICAL:Menu setup crashed: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 35, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 60, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 45, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\cashdonations.py", line 32, in cash_donations_page
    cleaned_c_d_df) = load_and_filter_data(cash_ftr, pageref_label)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 26, in load_and_filter_data
    cleaned_df = load_cleaned_data()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 14, in load_cleaned_data
    orig_df = st.session_state.raw_data
  File "h:\VScode\dashboard_demo\.venv\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "raw_data". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/02/28 01:23:09 PM INFO:Calling get_git_version with args=()
2025/02/28 01:23:09 PM INFO:get_git_version executed successfully
2025/02/28 01:23:09 PM INFO:App Version: v2.120
2025/02/28 01:23:09 PM INFO:Switched to page: Introduction
2025/02/28 01:23:09 PM INFO:pagesetup executed successfully
2025/02/28 01:23:09 PM INFO:Calling firstload with args=()
2025/02/28 01:23:09 PM INFO:Calling load_data_to_session with args=('raw_data', <function get_raw_data at 0x00000184353D6830>)
2025/02/28 01:23:09 PM INFO:Calling get_raw_data with args=()
2025/02/28 01:23:09 PM INFO:Calling load_raw_data with args=()
2025/02/28 01:23:10 PM INFO:Calling raw_data_cleanup with args=(           ECRef              RegulatedEntityName  ...   RegisterName IsIrishSource
index                                              ...                             
0      NC0408174                   Mr Andy Street  ...  Great Britain         False
1      NC0408173                   Mr Andy Street  ...  Great Britain         False
2      NC0408177                   Mr Andy Street  ...  Great Britain         False
3      NC0408176                   Mr Andy Street  ...  Great Britain         False
4      NC0408170                   Mr Andy Street  ...  Great Britain         False
...          ...                              ...  ...            ...           ...
65273   C0242478               Vote Leave Limited  ...            NaN         False
65274   C0242461               Vote Leave Limited  ...            NaN         False
65275   C0243560               Vote Leave Limited  ...            NaN         False
65276   C0319710  Conservative and Unionist Party  ...  Great Britain         False
65277   C0319727  Conservative and Unionist Party  ...  Great Britain         False

[65278 rows x 29 columns],)
2025/02/28 01:23:11 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 01:23:11 PM INFO:map_filename: regentity_map_fname
2025/02/28 01:23:11 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:23:11 PM INFO:Dedupe by file
2025/02/28 01:23:11 PM INFO:Dedupe by file, shape: (65279, 34)
2025/02/28 01:23:11 PM INFO:dedupe_entity_file executed successfully
2025/02/28 01:23:11 PM INFO:Calling dedupe_entity_file with args=()
2025/02/28 01:23:11 PM INFO:map_filename: donor_map_fname
2025/02/28 01:23:11 PM INFO:map_filename found: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:23:11 PM INFO:Dedupe by file
2025/02/28 01:23:11 PM INFO:Dedupe by file, shape: (66011, 40)
2025/02/28 01:23:11 PM INFO:dedupe_entity_file executed successfully
2025/02/28 01:23:11 PM INFO:Data cleanup completed, shape: (63939, 40)
2025/02/28 01:23:11 PM INFO:raw_data_cleanup executed successfully
2025/02/28 01:23:13 PM INFO:load_raw_data executed successfully
2025/02/28 01:23:13 PM INFO:get_raw_data executed successfully
2025/02/28 01:23:13 PM INFO:load_data_to_session executed successfully
2025/02/28 01:23:13 PM INFO:Calling load_data_to_session with args=('data_clean', <function get_cleaned_data at 0x00000184353D6F80>)
2025/02/28 01:23:13 PM INFO:Calling get_cleaned_data with args=()
2025/02/28 01:23:13 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:23:18 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:23:18 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:23:18 PM INFO:get_cleaned_data executed successfully
2025/02/28 01:23:18 PM INFO:load_data_to_session executed successfully
2025/02/28 01:23:18 PM INFO:Calling load_data_to_session with args=('data_party_sum', <function get_party_summary_data at 0x00000184353D6E60>)
2025/02/28 01:23:18 PM INFO:Calling get_party_summary_data with args=()
2025/02/28 01:23:18 PM INFO:Calling load_entity_summary_data with args=()
2025/02/28 01:23:18 PM INFO:load_entity_summary_data executed successfully
2025/02/28 01:23:18 PM INFO:get_party_summary_data executed successfully
2025/02/28 01:23:18 PM INFO:load_data_to_session executed successfully
2025/02/28 01:23:18 PM INFO:Calling load_data_to_session with args=('data_donor', <function get_donor_data at 0x00000184353D70A0>)
2025/02/28 01:23:18 PM INFO:Calling get_donor_data with args=()
2025/02/28 01:23:18 PM INFO:Calling load_donorList_data with args=()
2025/02/28 01:23:18 PM INFO:load_donorList_data executed successfully
2025/02/28 01:23:18 PM INFO:get_donor_data executed successfully
2025/02/28 01:23:18 PM INFO:load_data_to_session executed successfully
2025/02/28 01:23:18 PM INFO:Calling load_data_to_session with args=('data_regentity', <function get_regentity_data at 0x00000184353D71C0>)
2025/02/28 01:23:18 PM INFO:Calling get_regentity_data with args=()
2025/02/28 01:23:18 PM INFO:Calling load_regulated_entity_data with args=()
2025/02/28 01:23:18 PM INFO:load_regulated_entity_data executed successfully
2025/02/28 01:23:18 PM INFO:get_regentity_data executed successfully
2025/02/28 01:23:18 PM INFO:load_data_to_session executed successfully
2025/02/28 01:23:18 PM INFO:firstload executed successfully
2025/02/28 01:23:49 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:23:49 PM INFO:Setting up the package
2025/02/28 01:23:49 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:23:49 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:23:49 PM INFO:get_git_version executed successfully
2025/02/28 01:23:49 PM INFO:Version: v2.108
2025/02/28 01:23:49 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:23:49 PM INFO:init_state_var executed successfully
2025/02/28 01:23:49 PM INFO:Session_state variables initialized
2025/02/28 01:23:49 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:23:49 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:23:49 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:23:49 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:23:49 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:23:49 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:23:50 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:23:50 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:23:50 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:23:50 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:23:50 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:23:50 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:23:50 PM INFO:menu_selection: {'title': 'Notes on Data and Manipulations', 'function': <function notesondataprep_body at 0x00000184358612D0>}
2025/02/28 01:23:50 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:23:50 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:23:50 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:23:50 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:23:50 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:23:50 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:23:50 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:23:50 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:23:50 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:23:50 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:23:50 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:23:50 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:23:50 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:23:50 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:23:50 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:23:50 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:23:50 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:23:50 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:23:50 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:23:50 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:23:50 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:23:50 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:23:50 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:23:50 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:23:50 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:23:50 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:23:50 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:23:50 PM INFO:perc_target: 0.5
2025/02/28 01:23:50 PM INFO:Session state Setup complete
2025/02/28 01:23:50 PM INFO:initialize_session_state executed successfully
2025/02/28 01:23:50 PM INFO:Package setup complete
2025/02/28 01:23:50 PM INFO:Calling pagesetup with args=()
2025/02/28 01:23:50 PM INFO:Calling get_git_version with args=()
2025/02/28 01:23:50 PM INFO:get_git_version executed successfully
2025/02/28 01:23:50 PM INFO:App Version: v2.120
2025/02/28 01:23:50 PM INFO:Switched to page: Notes on Data and Manipulations
2025/02/28 01:23:50 PM INFO:pagesetup executed successfully
2025/02/28 01:23:50 PM INFO:Calling firstload with args=()
2025/02/28 01:23:50 PM INFO:firstload executed successfully
2025/02/28 01:23:51 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:23:51 PM INFO:Setting up the package
2025/02/28 01:23:51 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:23:51 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:23:51 PM INFO:get_git_version executed successfully
2025/02/28 01:23:51 PM INFO:Version: v2.108
2025/02/28 01:23:51 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:23:51 PM INFO:init_state_var executed successfully
2025/02/28 01:23:51 PM INFO:Session_state variables initialized
2025/02/28 01:23:51 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:23:51 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:23:51 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:23:51 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:23:51 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:23:51 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:23:51 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:23:51 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:23:51 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:23:51 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:23:51 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:23:51 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:23:51 PM INFO:menu_selection: {'title': 'Donations Per Donor', 'function': <function donorspage_body at 0x0000018435861000>}
2025/02/28 01:23:51 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:23:51 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:23:51 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:23:51 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:23:51 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:23:51 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:23:51 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:23:51 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:23:51 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:23:51 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:23:51 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:23:51 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:23:51 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:23:51 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:23:51 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:23:52 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:23:52 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:23:52 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:23:52 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:23:52 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:23:52 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:23:52 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:23:52 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:23:52 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:23:52 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:23:52 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:23:52 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:23:52 PM INFO:perc_target: 0.5
2025/02/28 01:23:52 PM INFO:Session state Setup complete
2025/02/28 01:23:52 PM INFO:initialize_session_state executed successfully
2025/02/28 01:23:52 PM INFO:Package setup complete
2025/02/28 01:23:52 PM INFO:Calling pagesetup with args=()
2025/02/28 01:23:52 PM INFO:Calling get_git_version with args=()
2025/02/28 01:23:52 PM INFO:get_git_version executed successfully
2025/02/28 01:23:52 PM INFO:App Version: v2.120
2025/02/28 01:23:52 PM INFO:Switched to page: Donations Per Donor
2025/02/28 01:23:52 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:23:55 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:23:55 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:23:55 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:23:56 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:23:59 PM INFO:pagesetup executed successfully
2025/02/28 01:23:59 PM INFO:Calling firstload with args=()
2025/02/28 01:23:59 PM INFO:firstload executed successfully
2025/02/28 01:24:01 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:24:01 PM INFO:Setting up the package
2025/02/28 01:24:01 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:24:01 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:24:01 PM INFO:get_git_version executed successfully
2025/02/28 01:24:01 PM INFO:Version: v2.108
2025/02/28 01:24:01 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:24:01 PM INFO:init_state_var executed successfully
2025/02/28 01:24:01 PM INFO:Session_state variables initialized
2025/02/28 01:24:01 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:24:01 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:24:01 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:24:01 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:24:01 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:24:01 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:24:01 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:24:01 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:24:01 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:24:01 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:24:01 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:24:01 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:24:01 PM INFO:menu_selection: {'title': 'Sponsorships per Donor', 'function': <function mod_sponsorships_per_donor_page at 0x0000018435861CF0>}
2025/02/28 01:24:01 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:24:01 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:24:01 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:24:01 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:24:01 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:24:01 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:24:01 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:24:01 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:24:01 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:24:01 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:24:01 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:24:01 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:24:01 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:24:01 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:24:01 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:24:01 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:24:01 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:24:01 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:24:01 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:24:01 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:24:01 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:24:01 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:24:01 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:24:01 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:24:01 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:24:01 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:24:01 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:24:01 PM INFO:perc_target: 0.5
2025/02/28 01:24:01 PM INFO:Session state Setup complete
2025/02/28 01:24:01 PM INFO:initialize_session_state executed successfully
2025/02/28 01:24:01 PM INFO:Package setup complete
2025/02/28 01:24:01 PM INFO:Calling pagesetup with args=()
2025/02/28 01:24:01 PM INFO:Calling get_git_version with args=()
2025/02/28 01:24:01 PM INFO:get_git_version executed successfully
2025/02/28 01:24:01 PM INFO:App Version: v2.120
2025/02/28 01:24:01 PM INFO:Switched to page: Sponsorships per Donor
2025/02/28 01:24:01 PM INFO:Calling load_and_filter_pergroup with args=()
2025/02/28 01:24:01 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:24:04 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:24:04 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:24:05 PM INFO:load_and_filter_pergroup executed successfully
2025/02/28 01:24:05 PM INFO:Calling display_summary_statistics with args=()
2025/02/28 01:24:05 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:24:05 PM INFO:Calling display_textual_insights with args=()
2025/02/28 01:24:05 PM INFO:display_textual_insights executed successfully
2025/02/28 01:24:05 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:24:05 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:24:05 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:24:05 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:24:05 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:24:05 PM INFO:display_visualizations executed successfully
2025/02/28 01:24:05 PM INFO:pagesetup executed successfully
2025/02/28 01:24:05 PM INFO:Calling firstload with args=()
2025/02/28 01:24:05 PM INFO:firstload executed successfully
2025/02/28 01:24:33 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:24:33 PM INFO:Setting up the package
2025/02/28 01:24:33 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:24:33 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:24:33 PM INFO:get_git_version executed successfully
2025/02/28 01:24:33 PM INFO:Version: v2.108
2025/02/28 01:24:33 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:24:33 PM INFO:init_state_var executed successfully
2025/02/28 01:24:33 PM INFO:Session_state variables initialized
2025/02/28 01:24:33 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:24:33 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:24:33 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:24:33 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:24:33 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:24:33 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:24:33 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:24:33 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:24:33 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:24:33 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:24:33 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:24:33 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:24:33 PM INFO:menu_selection: {'title': 'Paid Visits -Mod', 'function': <function mod_visits_page at 0x00000184358613F0>}
2025/02/28 01:24:33 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:24:33 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:24:33 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:24:33 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:24:33 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:24:33 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:24:33 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:24:33 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:24:33 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:24:33 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:24:33 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:24:33 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:24:33 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:24:33 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:24:33 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:24:33 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:24:33 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:24:33 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:24:33 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:24:33 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:24:33 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:24:33 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:24:33 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:24:33 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:24:33 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:24:33 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:24:33 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:24:33 PM INFO:perc_target: 0.5
2025/02/28 01:24:33 PM INFO:Session state Setup complete
2025/02/28 01:24:33 PM INFO:initialize_session_state executed successfully
2025/02/28 01:24:33 PM INFO:Package setup complete
2025/02/28 01:24:33 PM INFO:Calling pagesetup with args=()
2025/02/28 01:24:33 PM INFO:Calling get_git_version with args=()
2025/02/28 01:24:33 PM INFO:get_git_version executed successfully
2025/02/28 01:24:33 PM INFO:App Version: v2.120
2025/02/28 01:24:33 PM INFO:Switched to page: Paid Visits -Mod
2025/02/28 01:24:33 PM INFO:Calling display_data_page with args=('DonatedVisits_ftr', 'Donated Visit')
2025/02/28 01:24:33 PM INFO:Calling load_and_filter_data with args=('DonatedVisits_ftr', 'filtered_keytarget_label')
2025/02/28 01:24:33 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:24:36 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:24:36 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:24:36 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:24:37 PM INFO:Calling display_summary_statistics with args=(          ECRef   OriginalRegulatedEntityName RegulatedEntityType  ...  IsBequestInt IsAggregationInt  IsSponsorshipInt
10     V0408145             Mr John Howell Mp     Regulated Donee  ...             1                1                 1
21     V0408129          Mr Andrew Bridgen Mp     Regulated Donee  ...             1                1                 1
22     V0408190            Sir David Amess Mp     Regulated Donee  ...             1                1                 1
50     V0407538                  Scott Benton     Regulated Donee  ...             1                1                 1
51     V0408156        Mr Andrew Rosindell Mp     Regulated Donee  ...             1                1                 1
...         ...                           ...                 ...  ...           ...              ...               ...
62692  V0032900          Mr Parmjit Dhanda Mp     Regulated Donee  ...             1                1                 1
62711  V0032318  The Rt Hon George Osborne Mp     Regulated Donee  ...             1                1                 1
63085  V0032453           Ms Jean Lambert Mep     Regulated Donee  ...             1                1                 1
64035  V0032219        Lord Richard Inglewood     Regulated Donee  ...             1                1                 1
64327  V0032217                  Mr Roy Perry     Regulated Donee  ...             1                1                 1

[2605 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Donated Visit', 'filtered_keytarget_label')
2025/02/28 01:24:37 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:24:37 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Donated Visit', datetime.date(2001, 5, 1), datetime.date(2019, 8, 29), {'unique_reg_entities': 757, 'unique_donors': 1062, 'unique_donations': np.int64(2605), 'total_value': np.float64(8996325.77), 'mean_value': np.float64(3453.483980806142), 'avg_donations_per_entity': np.float64(3.441215323645971), 'avg_value_per_entity': np.float64(3303.195575446386), 'avg_donors_per_entity': np.float64(3.047556142668428), 'donors_stdev': np.float64(4.1580282010869904), 'value_stdev': np.float64(1807.2948541344042), 'noofdonors_per_ent_stdev': np.float64(3.3278303740571378)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 0.5)
2025/02/28 01:24:37 PM INFO:display_textual_insights executed successfully
2025/02/28 01:24:37 PM INFO:Calling display_visualizations with args=(          ECRef   OriginalRegulatedEntityName RegulatedEntityType  ...  IsBequestInt IsAggregationInt  IsSponsorshipInt
10     V0408145             Mr John Howell Mp     Regulated Donee  ...             1                1                 1
21     V0408129          Mr Andrew Bridgen Mp     Regulated Donee  ...             1                1                 1
22     V0408190            Sir David Amess Mp     Regulated Donee  ...             1                1                 1
50     V0407538                  Scott Benton     Regulated Donee  ...             1                1                 1
51     V0408156        Mr Andrew Rosindell Mp     Regulated Donee  ...             1                1                 1
...         ...                           ...                 ...  ...           ...              ...               ...
62692  V0032900          Mr Parmjit Dhanda Mp     Regulated Donee  ...             1                1                 1
62711  V0032318  The Rt Hon George Osborne Mp     Regulated Donee  ...             1                1                 1
63085  V0032453           Ms Jean Lambert Mep     Regulated Donee  ...             1                1                 1
64035  V0032219        Lord Richard Inglewood     Regulated Donee  ...             1                1                 1
64327  V0032217                  Mr Roy Perry     Regulated Donee  ...             1                1                 1

[2605 rows x 40 columns], 'Donated Visit', 'filtered_keytarget_label')
2025/02/28 01:24:37 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef   OriginalRegulatedEntityName RegulatedEntityType  ...  IsBequestInt IsAggregationInt  IsSponsorshipInt
10     V0408145             Mr John Howell Mp     Regulated Donee  ...             1                1                 1
21     V0408129          Mr Andrew Bridgen Mp     Regulated Donee  ...             1                1                 1
22     V0408190            Sir David Amess Mp     Regulated Donee  ...             1                1                 1
50     V0407538                  Scott Benton     Regulated Donee  ...             1                1                 1
51     V0408156        Mr Andrew Rosindell Mp     Regulated Donee  ...             1                1                 1
...         ...                           ...                 ...  ...           ...              ...               ...
62692  V0032900          Mr Parmjit Dhanda Mp     Regulated Donee  ...             1                1                 1
62711  V0032318  The Rt Hon George Osborne Mp     Regulated Donee  ...             1                1                 1
63085  V0032453           Ms Jean Lambert Mep     Regulated Donee  ...             1                1                 1
64035  V0032219        Lord Richard Inglewood     Regulated Donee  ...             1                1                 1
64327  V0032217                  Mr Roy Perry     Regulated Donee  ...             1                1                 1

[2605 rows x 40 columns],)
2025/02/28 01:24:37 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:24:37 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef   OriginalRegulatedEntityName RegulatedEntityType  ...  IsBequestInt IsAggregationInt  IsSponsorshipInt
10     V0408145             Mr John Howell Mp     Regulated Donee  ...             1                1                 1
21     V0408129          Mr Andrew Bridgen Mp     Regulated Donee  ...             1                1                 1
22     V0408190            Sir David Amess Mp     Regulated Donee  ...             1                1                 1
50     V0407538                  Scott Benton     Regulated Donee  ...             1                1                 1
51     V0408156        Mr Andrew Rosindell Mp     Regulated Donee  ...             1                1                 1
...         ...                           ...                 ...  ...           ...              ...               ...
62692  V0032900          Mr Parmjit Dhanda Mp     Regulated Donee  ...             1                1                 1
62711  V0032318  The Rt Hon George Osborne Mp     Regulated Donee  ...             1                1                 1
63085  V0032453           Ms Jean Lambert Mep     Regulated Donee  ...             1                1                 1
64035  V0032219        Lord Richard Inglewood     Regulated Donee  ...             1                1                 1
64327  V0032217                  Mr Roy Perry     Regulated Donee  ...             1                1                 1

[2605 rows x 40 columns],)
2025/02/28 01:24:37 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:24:37 PM INFO:display_visualizations executed successfully
2025/02/28 01:24:37 PM INFO:display_data_page executed successfully
2025/02/28 01:24:37 PM INFO:pagesetup executed successfully
2025/02/28 01:24:37 PM INFO:Calling firstload with args=()
2025/02/28 01:24:37 PM INFO:firstload executed successfully
2025/02/28 01:24:41 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:24:41 PM INFO:Setting up the package
2025/02/28 01:24:41 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:24:41 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:24:41 PM INFO:get_git_version executed successfully
2025/02/28 01:24:41 PM INFO:Version: v2.108
2025/02/28 01:24:41 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:24:41 PM INFO:init_state_var executed successfully
2025/02/28 01:24:41 PM INFO:Session_state variables initialized
2025/02/28 01:24:41 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:24:41 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:24:41 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:24:41 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:24:41 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:24:41 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:24:41 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:24:41 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:24:41 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:24:41 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:24:41 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:24:41 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:24:41 PM INFO:menu_selection: {'title': 'Sponsorships -Mod', 'function': <function mod_sponsorship_page at 0x0000018435861990>}
2025/02/28 01:24:41 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:24:41 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:24:41 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:24:41 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:24:41 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:24:41 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:24:41 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:24:41 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:24:41 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:24:41 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:24:41 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:24:41 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:24:41 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:24:41 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:24:41 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:24:41 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:24:41 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:24:41 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:24:41 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:24:41 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:24:41 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:24:41 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:24:41 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:24:41 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:24:41 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:24:41 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:24:41 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:24:41 PM INFO:perc_target: 0.5
2025/02/28 01:24:41 PM INFO:Session state Setup complete
2025/02/28 01:24:41 PM INFO:initialize_session_state executed successfully
2025/02/28 01:24:41 PM INFO:Package setup complete
2025/02/28 01:24:41 PM INFO:Calling pagesetup with args=()
2025/02/28 01:24:41 PM INFO:Calling get_git_version with args=()
2025/02/28 01:24:41 PM INFO:get_git_version executed successfully
2025/02/28 01:24:41 PM INFO:App Version: v2.120
2025/02/28 01:24:41 PM INFO:Switched to page: Sponsorships -Mod
2025/02/28 01:24:41 PM INFO:Calling display_data_page with args=('Sponsorships_ftr', 'Sponsorship')
2025/02/28 01:24:41 PM INFO:Calling load_and_filter_data with args=('Sponsorships_ftr', 'filtered_keytarget_label')
2025/02/28 01:24:41 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:24:44 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:24:44 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:24:44 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:24:44 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Sponsorship', 'filtered_keytarget_label')
2025/02/28 01:24:44 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:24:44 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Sponsorship', datetime.date(2001, 5, 29), datetime.date(2019, 5, 30), {'unique_reg_entities': 24, 'unique_donors': 438, 'unique_donations': np.int64(603), 'total_value': np.float64(3438162.24), 'mean_value': np.float64(5701.761592039801), 'avg_donations_per_entity': np.float64(25.125), 'avg_value_per_entity': np.float64(4038.2009070347667), 'avg_donors_per_entity': np.float64(18.291666666666668), 'donors_stdev': np.float64(108.86382099549478), 'value_stdev': np.float64(2866.1446826218885), 'noofdonors_per_ent_stdev': np.float64(79.22147225763143)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 0.5)
2025/02/28 01:24:44 PM INFO:display_textual_insights executed successfully
2025/02/28 01:24:44 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns], 'Sponsorship', 'filtered_keytarget_label')
2025/02/28 01:24:44 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:24:44 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:24:44 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:24:45 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:24:45 PM INFO:display_visualizations executed successfully
2025/02/28 01:24:45 PM INFO:display_data_page executed successfully
2025/02/28 01:24:45 PM INFO:pagesetup executed successfully
2025/02/28 01:24:45 PM INFO:Calling firstload with args=()
2025/02/28 01:24:45 PM INFO:firstload executed successfully
2025/02/28 01:24:50 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:24:50 PM INFO:Setting up the package
2025/02/28 01:24:50 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:24:50 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:24:50 PM INFO:get_git_version executed successfully
2025/02/28 01:24:50 PM INFO:Version: v2.108
2025/02/28 01:24:50 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:24:50 PM INFO:init_state_var executed successfully
2025/02/28 01:24:50 PM INFO:Session_state variables initialized
2025/02/28 01:24:50 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:24:50 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:24:50 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:24:50 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:24:50 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:24:50 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:24:50 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:24:50 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:24:50 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:24:50 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:24:50 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:24:50 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:24:50 PM INFO:menu_selection: {'title': 'Corporate Donations per entity', 'function': <function mod_corporate_donors_per_entity_page at 0x0000018435861BD0>}
2025/02/28 01:24:50 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:24:50 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:24:50 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:24:50 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:24:50 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:24:50 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:24:50 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:24:50 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:24:50 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:24:50 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:24:50 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:24:50 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:24:50 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:24:51 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:24:51 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:24:51 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:24:51 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:24:51 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:24:51 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:24:51 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:24:51 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:24:51 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:24:51 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:24:51 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:24:51 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:24:51 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:24:51 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:24:51 PM INFO:perc_target: 0.5
2025/02/28 01:24:51 PM INFO:Session state Setup complete
2025/02/28 01:24:51 PM INFO:initialize_session_state executed successfully
2025/02/28 01:24:51 PM INFO:Package setup complete
2025/02/28 01:24:51 PM INFO:Calling pagesetup with args=()
2025/02/28 01:24:51 PM INFO:Calling get_git_version with args=()
2025/02/28 01:24:51 PM INFO:get_git_version executed successfully
2025/02/28 01:24:51 PM INFO:App Version: v2.120
2025/02/28 01:24:51 PM INFO:Switched to page: Corporate Donations per entity
2025/02/28 01:24:51 PM INFO:Calling load_and_filter_pergroup with args=()
2025/02/28 01:24:51 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:24:54 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:24:54 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:24:54 PM INFO:load_and_filter_pergroup executed successfully
2025/02/28 01:24:54 PM INFO:Calling display_summary_statistics with args=()
2025/02/28 01:24:54 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:24:54 PM INFO:Calling display_textual_insights with args=()
2025/02/28 01:24:54 PM INFO:display_textual_insights executed successfully
2025/02/28 01:24:54 PM INFO:Calling display_visualizations with args=(          ECRef                 OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
11     C0407531                    Labour For A Public-Vote  ...                1                 1
12     C0407530                    Labour For A Public-Vote  ...                1                 1
14     C0408135                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
15     C0408130                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
16     C0408134                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
...         ...                                         ...  ...              ...               ...
65994  C0243534                        Labour Leave Limited  ...                1                 1
66000  C0259702  Trade Unionists Against The European Union  ...                1                 1
66001  C0400297                        Labour Leave Limited  ...                1                 1
66003  I0088673                           Liberal Democrats  ...                1                 1
66006  C0242478                          Vote Leave Limited  ...                1                 1

[12361 rows x 40 columns],)
2025/02/28 01:24:54 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef                 OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
11     C0407531                    Labour For A Public-Vote  ...                1                 1
12     C0407530                    Labour For A Public-Vote  ...                1                 1
14     C0408135                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
15     C0408130                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
16     C0408134                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
...         ...                                         ...  ...              ...               ...
65994  C0243534                        Labour Leave Limited  ...                1                 1
66000  C0259702  Trade Unionists Against The European Union  ...                1                 1
66001  C0400297                        Labour Leave Limited  ...                1                 1
66003  I0088673                           Liberal Democrats  ...                1                 1
66006  C0242478                          Vote Leave Limited  ...                1                 1

[12361 rows x 40 columns],)
2025/02/28 01:24:54 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:24:54 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef                 OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
11     C0407531                    Labour For A Public-Vote  ...                1                 1
12     C0407530                    Labour For A Public-Vote  ...                1                 1
14     C0408135                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
15     C0408130                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
16     C0408134                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
...         ...                                         ...  ...              ...               ...
65994  C0243534                        Labour Leave Limited  ...                1                 1
66000  C0259702  Trade Unionists Against The European Union  ...                1                 1
66001  C0400297                        Labour Leave Limited  ...                1                 1
66003  I0088673                           Liberal Democrats  ...                1                 1
66006  C0242478                          Vote Leave Limited  ...                1                 1

[12361 rows x 40 columns],)
2025/02/28 01:24:54 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:24:54 PM INFO:display_visualizations executed successfully
2025/02/28 01:24:54 PM INFO:pagesetup executed successfully
2025/02/28 01:24:54 PM INFO:Calling firstload with args=()
2025/02/28 01:24:54 PM INFO:firstload executed successfully
2025/02/28 01:24:57 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:24:57 PM INFO:Setting up the package
2025/02/28 01:24:57 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:24:57 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:24:57 PM INFO:get_git_version executed successfully
2025/02/28 01:24:57 PM INFO:Version: v2.108
2025/02/28 01:24:57 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:24:57 PM INFO:init_state_var executed successfully
2025/02/28 01:24:57 PM INFO:Session_state variables initialized
2025/02/28 01:24:57 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:24:57 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:24:57 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:24:57 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:24:57 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:24:57 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:24:57 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:24:57 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:24:57 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:24:57 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:24:57 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:24:57 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:24:57 PM INFO:menu_selection: {'title': 'Sponsorship per entity ', 'function': <function mod_sponsorships_per_entity_page at 0x0000018435861C60>}
2025/02/28 01:24:57 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:24:57 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:24:57 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:24:57 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:24:57 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:24:57 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:24:57 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:24:57 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:24:57 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:24:57 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:24:57 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:24:57 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:24:57 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:24:57 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:24:57 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:24:57 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:24:57 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:24:57 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:24:57 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:24:57 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:24:57 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:24:57 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:24:57 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:24:57 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:24:57 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:24:57 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:24:57 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:24:57 PM INFO:perc_target: 0.5
2025/02/28 01:24:57 PM INFO:Session state Setup complete
2025/02/28 01:24:57 PM INFO:initialize_session_state executed successfully
2025/02/28 01:24:57 PM INFO:Package setup complete
2025/02/28 01:24:57 PM INFO:Calling pagesetup with args=()
2025/02/28 01:24:57 PM INFO:Calling get_git_version with args=()
2025/02/28 01:24:57 PM INFO:get_git_version executed successfully
2025/02/28 01:24:57 PM INFO:App Version: v2.120
2025/02/28 01:24:57 PM INFO:Switched to page: Sponsorship per entity 
2025/02/28 01:24:57 PM INFO:Calling load_and_filter_pergroup with args=()
2025/02/28 01:24:57 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:25:00 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:25:00 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:25:01 PM INFO:load_and_filter_pergroup executed successfully
2025/02/28 01:25:01 PM INFO:Calling display_summary_statistics with args=()
2025/02/28 01:25:01 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:25:01 PM INFO:Calling display_textual_insights with args=()
2025/02/28 01:25:01 PM INFO:display_textual_insights executed successfully
2025/02/28 01:25:01 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:25:01 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:25:01 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:25:01 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:25:01 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:25:01 PM INFO:display_visualizations executed successfully
2025/02/28 01:25:01 PM INFO:pagesetup executed successfully
2025/02/28 01:25:01 PM INFO:Calling firstload with args=()
2025/02/28 01:25:01 PM INFO:firstload executed successfully
2025/02/28 01:25:11 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:25:11 PM INFO:Setting up the package
2025/02/28 01:25:11 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:25:11 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:25:11 PM INFO:get_git_version executed successfully
2025/02/28 01:25:11 PM INFO:Version: v2.108
2025/02/28 01:25:11 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:11 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:25:11 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:25:12 PM INFO:init_state_var executed successfully
2025/02/28 01:25:12 PM INFO:Session_state variables initialized
2025/02/28 01:25:12 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:25:12 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:25:12 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:25:12 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:25:12 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:25:12 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:25:12 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:25:12 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:25:12 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:25:12 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:25:12 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:25:12 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:25:12 PM INFO:menu_selection: {'title': 'Cash Donations by Regulated Entity', 'function': <function cashdonationsregentity_body at 0x0000018435860AF0>}
2025/02/28 01:25:12 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:25:12 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:25:12 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:25:12 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:25:12 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:25:12 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:25:12 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:25:12 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:25:12 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:25:12 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:25:12 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:25:12 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:25:12 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:25:12 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:25:12 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:25:12 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:25:12 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:25:12 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:25:12 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:25:12 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:25:12 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:25:12 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:25:12 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:25:12 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:25:12 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:25:12 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:25:12 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:25:12 PM INFO:perc_target: 0.5
2025/02/28 01:25:12 PM INFO:Session state Setup complete
2025/02/28 01:25:12 PM INFO:initialize_session_state executed successfully
2025/02/28 01:25:12 PM INFO:Package setup complete
2025/02/28 01:25:12 PM INFO:Calling pagesetup with args=()
2025/02/28 01:25:12 PM INFO:Calling get_git_version with args=()
2025/02/28 01:25:12 PM INFO:get_git_version executed successfully
2025/02/28 01:25:12 PM INFO:App Version: v2.120
2025/02/28 01:25:12 PM INFO:Switched to page: Cash Donations by Regulated Entity
2025/02/28 01:25:12 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
6      C0408159    Conservative Group For Europe  ...                1                 1
8      C0408184                     Progress Ltd  ...                1                 1
9      C0408158    Conservative Group For Europe  ...                1                 1
11     C0407531         Labour For A Public-Vote  ...                1                 1
12     C0407530         Labour For A Public-Vote  ...                1                 1
...         ...                              ...  ...              ...               ...
66006  C0242478               Vote Leave Limited  ...                1                 1
66007  C0242461               Vote Leave Limited  ...                1                 1
66008  C0243560               Vote Leave Limited  ...                1                 1
66009  C0319710  Conservative And Unionist Party  ...                1                 1
66010  C0319727  Conservative And Unionist Party  ...                1                 1

[51418 rows x 40 columns],)
2025/02/28 01:25:12 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:25:12 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
6      C0408159    Conservative Group For Europe  ...                1                 1
8      C0408184                     Progress Ltd  ...                1                 1
9      C0408158    Conservative Group For Europe  ...                1                 1
11     C0407531         Labour For A Public-Vote  ...                1                 1
12     C0407530         Labour For A Public-Vote  ...                1                 1
...         ...                              ...  ...              ...               ...
66006  C0242478               Vote Leave Limited  ...                1                 1
66007  C0242461               Vote Leave Limited  ...                1                 1
66008  C0243560               Vote Leave Limited  ...                1                 1
66009  C0319710  Conservative And Unionist Party  ...                1                 1
66010  C0319727  Conservative And Unionist Party  ...                1                 1

[51418 rows x 40 columns],)
2025/02/28 01:25:12 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:25:13 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
6      C0408159    Conservative Group For Europe  ...                1                 1
8      C0408184                     Progress Ltd  ...                1                 1
9      C0408158    Conservative Group For Europe  ...                1                 1
11     C0407531         Labour For A Public-Vote  ...                1                 1
12     C0407530         Labour For A Public-Vote  ...                1                 1
...         ...                              ...  ...              ...               ...
66006  C0242478               Vote Leave Limited  ...                1                 1
66007  C0242461               Vote Leave Limited  ...                1                 1
66008  C0243560               Vote Leave Limited  ...                1                 1
66009  C0319710  Conservative And Unionist Party  ...                1                 1
66010  C0319727  Conservative And Unionist Party  ...                1                 1

[51418 rows x 40 columns],)
2025/02/28 01:25:13 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:25:13 PM INFO:pagesetup executed successfully
2025/02/28 01:25:13 PM INFO:Calling firstload with args=()
2025/02/28 01:25:13 PM INFO:firstload executed successfully
2025/02/28 01:25:24 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:25:24 PM INFO:Setting up the package
2025/02/28 01:25:24 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:25:24 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:25:24 PM INFO:get_git_version executed successfully
2025/02/28 01:25:24 PM INFO:Version: v2.108
2025/02/28 01:25:24 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:25:24 PM INFO:init_state_var executed successfully
2025/02/28 01:25:24 PM INFO:Session_state variables initialized
2025/02/28 01:25:24 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:25:24 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:25:24 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:25:24 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:25:24 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:25:24 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:25:24 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:25:24 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:25:24 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:25:24 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:25:24 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:25:24 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:25:24 PM INFO:menu_selection: {'title': 'Dubious Donations by Regulated Entity', 'function': <function dubiousdonationsByDonor_body at 0x00000184358470A0>}
2025/02/28 01:25:24 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:25:24 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:25:24 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:25:24 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:25:24 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:25:24 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:25:24 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:25:24 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:25:24 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:25:24 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:25:24 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:25:24 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:25:24 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:25:24 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:25:24 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:25:24 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:25:24 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:25:24 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:25:24 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:25:24 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:25:24 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:25:24 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:25:24 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:25:24 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:25:24 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:25:24 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:25:24 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:25:24 PM INFO:perc_target: 0.5
2025/02/28 01:25:24 PM INFO:Session state Setup complete
2025/02/28 01:25:24 PM INFO:initialize_session_state executed successfully
2025/02/28 01:25:24 PM INFO:Package setup complete
2025/02/28 01:25:24 PM INFO:Calling pagesetup with args=()
2025/02/28 01:25:24 PM INFO:Calling get_git_version with args=()
2025/02/28 01:25:24 PM INFO:get_git_version executed successfully
2025/02/28 01:25:24 PM INFO:App Version: v2.120
2025/02/28 01:25:24 PM INFO:Switched to page: Dubious Donations by Regulated Entity
2025/02/28 01:25:24 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:25:27 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:25:27 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:25:27 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:25:27 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:25:27 PM INFO:pagesetup executed successfully
2025/02/28 01:25:27 PM INFO:Calling firstload with args=()
2025/02/28 01:25:27 PM INFO:firstload executed successfully
2025/02/28 01:25:36 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:25:36 PM INFO:Setting up the package
2025/02/28 01:25:36 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:25:36 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:25:36 PM INFO:get_git_version executed successfully
2025/02/28 01:25:36 PM INFO:Version: v2.108
2025/02/28 01:25:36 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:25:36 PM INFO:init_state_var executed successfully
2025/02/28 01:25:36 PM INFO:Session_state variables initialized
2025/02/28 01:25:36 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:25:36 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:25:36 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:25:36 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:25:36 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:25:36 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:25:36 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:25:36 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:25:36 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:25:36 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:25:36 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:25:36 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:25:36 PM INFO:menu_selection: {'title': 'Dubious Donations', 'function': <function dubiousdonations_body at 0x0000018435846C20>}
2025/02/28 01:25:36 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:25:36 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:25:36 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:25:36 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:25:36 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:25:36 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:25:36 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:25:36 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:25:36 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:25:36 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:25:36 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:25:36 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:25:36 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:25:36 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:25:36 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:25:36 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:25:36 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:25:36 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:25:36 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:25:36 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:25:36 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:25:36 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:25:36 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:25:36 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:25:37 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:25:37 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:25:37 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:25:37 PM INFO:perc_target: 0.5
2025/02/28 01:25:37 PM INFO:Session state Setup complete
2025/02/28 01:25:37 PM INFO:initialize_session_state executed successfully
2025/02/28 01:25:37 PM INFO:Package setup complete
2025/02/28 01:25:37 PM INFO:Calling pagesetup with args=()
2025/02/28 01:25:37 PM INFO:Calling get_git_version with args=()
2025/02/28 01:25:37 PM INFO:get_git_version executed successfully
2025/02/28 01:25:37 PM INFO:App Version: v2.120
2025/02/28 01:25:37 PM INFO:Switched to page: Dubious Donations
2025/02/28 01:25:37 PM INFO:Calling plot_bar_line_by_year with args=()
2025/02/28 01:25:37 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:25:37 PM INFO:Calling plot_bar_line_by_year with args=()
2025/02/28 01:25:37 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:25:37 PM INFO:pagesetup executed successfully
2025/02/28 01:25:37 PM INFO:Calling firstload with args=()
2025/02/28 01:25:37 PM INFO:firstload executed successfully
2025/02/28 01:25:57 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:25:57 PM INFO:Setting up the package
2025/02/28 01:25:57 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:25:57 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:25:57 PM INFO:get_git_version executed successfully
2025/02/28 01:25:57 PM INFO:Version: v2.108
2025/02/28 01:25:57 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:25:57 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:25:57 PM INFO:init_state_var executed successfully
2025/02/28 01:25:57 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:25:57 PM INFO:init_state_var executed successfully
2025/02/28 01:25:57 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:25:57 PM INFO:init_state_var executed successfully
2025/02/28 01:25:57 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:25:58 PM INFO:init_state_var executed successfully
2025/02/28 01:25:58 PM INFO:Session_state variables initialized
2025/02/28 01:25:58 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:25:58 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:25:58 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:25:58 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:25:58 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:25:58 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:25:58 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:25:58 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:25:58 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:25:58 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:25:58 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:25:58 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:25:58 PM INFO:menu_selection: {'title': 'Dubious Donors', 'function': <function mod_dubious_donors_page at 0x0000018435861B40>}
2025/02/28 01:25:58 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:25:58 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:25:58 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:25:58 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:25:58 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:25:58 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:25:58 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:25:58 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:25:58 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:25:58 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:25:58 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:25:58 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:25:58 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:25:58 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:25:58 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:25:58 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:25:58 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:25:58 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:25:58 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:25:58 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:25:58 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:25:58 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:25:58 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:25:58 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:25:58 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:25:58 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:25:58 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:25:58 PM INFO:perc_target: 0.5
2025/02/28 01:25:58 PM INFO:Session state Setup complete
2025/02/28 01:25:58 PM INFO:initialize_session_state executed successfully
2025/02/28 01:25:58 PM INFO:Package setup complete
2025/02/28 01:25:58 PM INFO:Calling pagesetup with args=()
2025/02/28 01:25:58 PM INFO:Calling get_git_version with args=()
2025/02/28 01:25:58 PM INFO:get_git_version executed successfully
2025/02/28 01:25:58 PM INFO:App Version: v2.120
2025/02/28 01:25:58 PM INFO:Switched to page: Dubious Donors
2025/02/28 01:25:58 PM INFO:Calling display_data_page with args=('DubiousDonors_ftr', 'Dubious Donor')
2025/02/28 01:25:58 PM INFO:Calling load_and_filter_data with args=('DubiousDonors_ftr', 'filtered_keytarget_label')
2025/02/28 01:25:58 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:26:01 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:26:01 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:26:01 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:26:01 PM INFO:Calling display_summary_statistics with args=(           ECRef                    OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
13942   C0211283                Conservative And Unionist Party  ...                1                 1
15185   C0203501                Conservative And Unionist Party  ...                1                 1
15238   C0203507                Conservative And Unionist Party  ...                1                 1
16423   C0194296                Conservative And Unionist Party  ...                1                 1
17245   C0194547                Conservative And Unionist Party  ...                1                 1
...          ...                                            ...  ...              ...               ...
65997  TV0036261  Society For The Protection Of Unborn Children  ...                1                 1
66002   I0033983                Conservative And Unionist Party  ...                1                 1
66003   I0088673                              Liberal Democrats  ...                1                 1
66004   I0034020                              Liberal Democrats  ...                1                 1
66005  TV0049377                                Labour No To Av  ...                1                 1

[355 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Dubious Donor', 'filtered_keytarget_label')
2025/02/28 01:26:01 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:26:01 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Dubious Donor', datetime.date(2001, 2, 21), datetime.date(2019, 6, 25), {'unique_reg_entities': 84, 'unique_donors': 255, 'unique_donations': np.int64(355), 'total_value': np.float64(1579956.98), 'mean_value': np.float64(4450.583042253521), 'avg_donations_per_entity': np.float64(4.226190476190476), 'avg_value_per_entity': np.float64(7095.520934832521), 'avg_donors_per_entity': np.float64(3.5952380952380953), 'donors_stdev': np.float64(14.838367063794726), 'value_stdev': np.float64(8161.073888832799), 'noofdonors_per_ent_stdev': np.float64(12.949502523466998)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 0.5)
2025/02/28 01:26:01 PM INFO:display_textual_insights executed successfully
2025/02/28 01:26:01 PM INFO:Calling display_visualizations with args=(           ECRef                    OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
13942   C0211283                Conservative And Unionist Party  ...                1                 1
15185   C0203501                Conservative And Unionist Party  ...                1                 1
15238   C0203507                Conservative And Unionist Party  ...                1                 1
16423   C0194296                Conservative And Unionist Party  ...                1                 1
17245   C0194547                Conservative And Unionist Party  ...                1                 1
...          ...                                            ...  ...              ...               ...
65997  TV0036261  Society For The Protection Of Unborn Children  ...                1                 1
66002   I0033983                Conservative And Unionist Party  ...                1                 1
66003   I0088673                              Liberal Democrats  ...                1                 1
66004   I0034020                              Liberal Democrats  ...                1                 1
66005  TV0049377                                Labour No To Av  ...                1                 1

[355 rows x 40 columns], 'Dubious Donor', 'filtered_keytarget_label')
2025/02/28 01:26:01 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef                    OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
13942   C0211283                Conservative And Unionist Party  ...                1                 1
15185   C0203501                Conservative And Unionist Party  ...                1                 1
15238   C0203507                Conservative And Unionist Party  ...                1                 1
16423   C0194296                Conservative And Unionist Party  ...                1                 1
17245   C0194547                Conservative And Unionist Party  ...                1                 1
...          ...                                            ...  ...              ...               ...
65997  TV0036261  Society For The Protection Of Unborn Children  ...                1                 1
66002   I0033983                Conservative And Unionist Party  ...                1                 1
66003   I0088673                              Liberal Democrats  ...                1                 1
66004   I0034020                              Liberal Democrats  ...                1                 1
66005  TV0049377                                Labour No To Av  ...                1                 1

[355 rows x 40 columns],)
2025/02/28 01:26:01 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:01 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef                    OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
13942   C0211283                Conservative And Unionist Party  ...                1                 1
15185   C0203501                Conservative And Unionist Party  ...                1                 1
15238   C0203507                Conservative And Unionist Party  ...                1                 1
16423   C0194296                Conservative And Unionist Party  ...                1                 1
17245   C0194547                Conservative And Unionist Party  ...                1                 1
...          ...                                            ...  ...              ...               ...
65997  TV0036261  Society For The Protection Of Unborn Children  ...                1                 1
66002   I0033983                Conservative And Unionist Party  ...                1                 1
66003   I0088673                              Liberal Democrats  ...                1                 1
66004   I0034020                              Liberal Democrats  ...                1                 1
66005  TV0049377                                Labour No To Av  ...                1                 1

[355 rows x 40 columns],)
2025/02/28 01:26:01 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:01 PM INFO:display_visualizations executed successfully
2025/02/28 01:26:01 PM INFO:display_data_page executed successfully
2025/02/28 01:26:01 PM INFO:pagesetup executed successfully
2025/02/28 01:26:01 PM INFO:Calling firstload with args=()
2025/02/28 01:26:01 PM INFO:firstload executed successfully
2025/02/28 01:26:08 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:26:08 PM INFO:Setting up the package
2025/02/28 01:26:08 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:26:08 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:26:09 PM INFO:get_git_version executed successfully
2025/02/28 01:26:09 PM INFO:Version: v2.108
2025/02/28 01:26:09 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:26:09 PM INFO:init_state_var executed successfully
2025/02/28 01:26:09 PM INFO:Session_state variables initialized
2025/02/28 01:26:09 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:26:09 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:26:09 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:26:09 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:26:09 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:26:09 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:26:09 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:26:09 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:26:09 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:26:09 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:26:09 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:26:09 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:26:09 PM INFO:menu_selection: {'title': 'Paid Visits', 'function': <function visits_body_page at 0x0000018435860D30>}
2025/02/28 01:26:09 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:26:09 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:26:09 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:26:09 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:26:09 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:26:09 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:26:09 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:26:09 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:26:09 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:26:09 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:26:09 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:26:09 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:26:09 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:26:09 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:26:09 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:26:09 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:26:09 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:26:09 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:26:09 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:26:09 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:26:09 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:26:09 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:26:09 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:26:09 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:26:09 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:26:09 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:26:09 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:26:09 PM INFO:perc_target: 0.5
2025/02/28 01:26:09 PM INFO:Session state Setup complete
2025/02/28 01:26:09 PM INFO:initialize_session_state executed successfully
2025/02/28 01:26:09 PM INFO:Package setup complete
2025/02/28 01:26:09 PM INFO:Calling pagesetup with args=()
2025/02/28 01:26:09 PM INFO:Calling get_git_version with args=()
2025/02/28 01:26:09 PM INFO:get_git_version executed successfully
2025/02/28 01:26:09 PM INFO:App Version: v2.120
2025/02/28 01:26:09 PM INFO:Switched to page: Paid Visits
2025/02/28 01:26:09 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:26:12 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:26:12 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:26:12 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef   OriginalRegulatedEntityName RegulatedEntityType  ...  IsBequestInt IsAggregationInt  IsSponsorshipInt
10     V0408145             Mr John Howell Mp     Regulated Donee  ...             1                1                 1
21     V0408129          Mr Andrew Bridgen Mp     Regulated Donee  ...             1                1                 1
22     V0408190            Sir David Amess Mp     Regulated Donee  ...             1                1                 1
50     V0407538                  Scott Benton     Regulated Donee  ...             1                1                 1
51     V0408156        Mr Andrew Rosindell Mp     Regulated Donee  ...             1                1                 1
...         ...                           ...                 ...  ...           ...              ...               ...
62692  V0032900          Mr Parmjit Dhanda Mp     Regulated Donee  ...             1                1                 1
62711  V0032318  The Rt Hon George Osborne Mp     Regulated Donee  ...             1                1                 1
63085  V0032453           Ms Jean Lambert Mep     Regulated Donee  ...             1                1                 1
64035  V0032219        Lord Richard Inglewood     Regulated Donee  ...             1                1                 1
64327  V0032217                  Mr Roy Perry     Regulated Donee  ...             1                1                 1

[2605 rows x 40 columns],)
2025/02/28 01:26:12 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:12 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef   OriginalRegulatedEntityName RegulatedEntityType  ...  IsBequestInt IsAggregationInt  IsSponsorshipInt
10     V0408145             Mr John Howell Mp     Regulated Donee  ...             1                1                 1
21     V0408129          Mr Andrew Bridgen Mp     Regulated Donee  ...             1                1                 1
22     V0408190            Sir David Amess Mp     Regulated Donee  ...             1                1                 1
50     V0407538                  Scott Benton     Regulated Donee  ...             1                1                 1
51     V0408156        Mr Andrew Rosindell Mp     Regulated Donee  ...             1                1                 1
...         ...                           ...                 ...  ...           ...              ...               ...
62692  V0032900          Mr Parmjit Dhanda Mp     Regulated Donee  ...             1                1                 1
62711  V0032318  The Rt Hon George Osborne Mp     Regulated Donee  ...             1                1                 1
63085  V0032453           Ms Jean Lambert Mep     Regulated Donee  ...             1                1                 1
64035  V0032219        Lord Richard Inglewood     Regulated Donee  ...             1                1                 1
64327  V0032217                  Mr Roy Perry     Regulated Donee  ...             1                1                 1

[2605 rows x 40 columns],)
2025/02/28 01:26:12 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:12 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef   OriginalRegulatedEntityName RegulatedEntityType  ...  IsBequestInt IsAggregationInt  IsSponsorshipInt
10     V0408145             Mr John Howell Mp     Regulated Donee  ...             1                1                 1
21     V0408129          Mr Andrew Bridgen Mp     Regulated Donee  ...             1                1                 1
22     V0408190            Sir David Amess Mp     Regulated Donee  ...             1                1                 1
50     V0407538                  Scott Benton     Regulated Donee  ...             1                1                 1
51     V0408156        Mr Andrew Rosindell Mp     Regulated Donee  ...             1                1                 1
...         ...                           ...                 ...  ...           ...              ...               ...
62692  V0032900          Mr Parmjit Dhanda Mp     Regulated Donee  ...             1                1                 1
62711  V0032318  The Rt Hon George Osborne Mp     Regulated Donee  ...             1                1                 1
63085  V0032453           Ms Jean Lambert Mep     Regulated Donee  ...             1                1                 1
64035  V0032219        Lord Richard Inglewood     Regulated Donee  ...             1                1                 1
64327  V0032217                  Mr Roy Perry     Regulated Donee  ...             1                1                 1

[2605 rows x 40 columns],)
2025/02/28 01:26:12 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:12 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:26:12 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:26:12 PM INFO:pagesetup executed successfully
2025/02/28 01:26:12 PM INFO:Calling firstload with args=()
2025/02/28 01:26:12 PM INFO:firstload executed successfully
2025/02/28 01:26:15 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:26:15 PM INFO:Setting up the package
2025/02/28 01:26:15 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:26:15 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:26:15 PM INFO:get_git_version executed successfully
2025/02/28 01:26:15 PM INFO:Version: v2.108
2025/02/28 01:26:15 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:26:15 PM INFO:init_state_var executed successfully
2025/02/28 01:26:15 PM INFO:Session_state variables initialized
2025/02/28 01:26:15 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:26:15 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:26:15 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:26:15 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:26:15 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:26:15 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:26:15 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:26:15 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:26:15 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:26:15 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:26:15 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:26:15 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:26:15 PM INFO:menu_selection: {'title': 'Sponsorships', 'function': <function sponsorships_body_page at 0x0000018435860CA0>}
2025/02/28 01:26:15 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:26:15 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:26:15 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:26:15 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:26:15 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:26:15 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:26:15 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:26:15 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:26:15 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:26:15 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:26:15 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:26:15 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:26:15 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:26:15 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:26:15 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:26:15 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:26:15 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:26:15 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:26:15 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:26:15 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:26:15 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:26:15 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:26:15 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:26:15 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:26:15 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:26:15 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:26:15 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:26:15 PM INFO:perc_target: 0.5
2025/02/28 01:26:15 PM INFO:Session state Setup complete
2025/02/28 01:26:15 PM INFO:initialize_session_state executed successfully
2025/02/28 01:26:15 PM INFO:Package setup complete
2025/02/28 01:26:15 PM INFO:Calling pagesetup with args=()
2025/02/28 01:26:15 PM INFO:Calling get_git_version with args=()
2025/02/28 01:26:15 PM INFO:get_git_version executed successfully
2025/02/28 01:26:15 PM INFO:App Version: v2.120
2025/02/28 01:26:15 PM INFO:Switched to page: Sponsorships
2025/02/28 01:26:15 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:26:18 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:26:18 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:26:18 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:26:18 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:18 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:26:19 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:19 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:26:19 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:19 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:26:19 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:26:19 PM INFO:pagesetup executed successfully
2025/02/28 01:26:19 PM INFO:Calling firstload with args=()
2025/02/28 01:26:19 PM INFO:firstload executed successfully
2025/02/28 01:26:21 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:26:21 PM INFO:Setting up the package
2025/02/28 01:26:21 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:26:21 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:26:21 PM INFO:get_git_version executed successfully
2025/02/28 01:26:21 PM INFO:Version: v2.108
2025/02/28 01:26:21 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:26:21 PM INFO:init_state_var executed successfully
2025/02/28 01:26:21 PM INFO:Session_state variables initialized
2025/02/28 01:26:21 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:26:21 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:26:21 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:26:21 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:26:21 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:26:21 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:26:21 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:26:21 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:26:21 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:26:21 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:26:21 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:26:21 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:26:21 PM INFO:menu_selection: {'title': 'Corporate Donations', 'function': <function mod_corporate_donations_page at 0x0000018435861AB0>}
2025/02/28 01:26:21 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:26:21 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:26:21 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:26:21 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:26:21 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:26:21 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:26:21 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:26:21 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:26:21 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:26:21 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:26:21 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:26:21 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:26:21 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:26:21 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:26:21 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:26:21 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:26:21 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:26:21 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:26:21 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:26:21 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:26:22 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:26:22 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:26:22 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:26:22 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:26:22 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:26:22 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:26:22 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:26:22 PM INFO:perc_target: 0.5
2025/02/28 01:26:22 PM INFO:Session state Setup complete
2025/02/28 01:26:22 PM INFO:initialize_session_state executed successfully
2025/02/28 01:26:22 PM INFO:Package setup complete
2025/02/28 01:26:22 PM INFO:Calling pagesetup with args=()
2025/02/28 01:26:22 PM INFO:Calling get_git_version with args=()
2025/02/28 01:26:22 PM INFO:get_git_version executed successfully
2025/02/28 01:26:22 PM INFO:App Version: v2.120
2025/02/28 01:26:22 PM INFO:Switched to page: Corporate Donations
2025/02/28 01:26:22 PM INFO:Calling display_data_page with args=('CorporateDonations_ftr', 'Corporate Donation')
2025/02/28 01:26:22 PM INFO:Calling load_and_filter_data with args=('CorporateDonations_ftr', 'filtered_keytarget_label')
2025/02/28 01:26:22 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:26:25 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:26:25 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:26:25 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:26:25 PM INFO:Calling display_summary_statistics with args=(          ECRef                 OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
11     C0407531                    Labour For A Public-Vote  ...                1                 1
12     C0407530                    Labour For A Public-Vote  ...                1                 1
14     C0408135                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
15     C0408130                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
16     C0408134                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
...         ...                                         ...  ...              ...               ...
65994  C0243534                        Labour Leave Limited  ...                1                 1
66000  C0259702  Trade Unionists Against The European Union  ...                1                 1
66001  C0400297                        Labour Leave Limited  ...                1                 1
66003  I0088673                           Liberal Democrats  ...                1                 1
66006  C0242478                          Vote Leave Limited  ...                1                 1

[12361 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Corporate Donation', 'filtered_keytarget_label')
2025/02/28 01:26:25 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:26:25 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Corporate Donation', datetime.date(2001, 1, 21), datetime.date(2019, 8, 9), {'unique_reg_entities': 699, 'unique_donors': 3033, 'unique_donations': np.int64(12361), 'total_value': np.float64(197371699.32), 'mean_value': np.float64(15967.292235256047), 'avg_donations_per_entity': np.float64(17.683834048640914), 'avg_value_per_entity': np.float64(8120.9660180429855), 'avg_donors_per_entity': np.float64(6.005722460658083), 'donors_stdev': np.float64(240.61138437591893), 'value_stdev': np.float64(14806.92152185142), 'noofdonors_per_ent_stdev': np.float64(65.90431086584725)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 0.5)
2025/02/28 01:26:25 PM INFO:display_textual_insights executed successfully
2025/02/28 01:26:25 PM INFO:Calling display_visualizations with args=(          ECRef                 OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
11     C0407531                    Labour For A Public-Vote  ...                1                 1
12     C0407530                    Labour For A Public-Vote  ...                1                 1
14     C0408135                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
15     C0408130                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
16     C0408134                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
...         ...                                         ...  ...              ...               ...
65994  C0243534                        Labour Leave Limited  ...                1                 1
66000  C0259702  Trade Unionists Against The European Union  ...                1                 1
66001  C0400297                        Labour Leave Limited  ...                1                 1
66003  I0088673                           Liberal Democrats  ...                1                 1
66006  C0242478                          Vote Leave Limited  ...                1                 1

[12361 rows x 40 columns], 'Corporate Donation', 'filtered_keytarget_label')
2025/02/28 01:26:25 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef                 OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
11     C0407531                    Labour For A Public-Vote  ...                1                 1
12     C0407530                    Labour For A Public-Vote  ...                1                 1
14     C0408135                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
15     C0408130                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
16     C0408134                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
...         ...                                         ...  ...              ...               ...
65994  C0243534                        Labour Leave Limited  ...                1                 1
66000  C0259702  Trade Unionists Against The European Union  ...                1                 1
66001  C0400297                        Labour Leave Limited  ...                1                 1
66003  I0088673                           Liberal Democrats  ...                1                 1
66006  C0242478                          Vote Leave Limited  ...                1                 1

[12361 rows x 40 columns],)
2025/02/28 01:26:25 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:25 PM INFO:Calling plot_bar_line_by_year with args=(          ECRef                 OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
11     C0407531                    Labour For A Public-Vote  ...                1                 1
12     C0407530                    Labour For A Public-Vote  ...                1                 1
14     C0408135                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
15     C0408130                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
16     C0408134                   The Rt Hon Jeremy Hunt Mp  ...                1                 1
...         ...                                         ...  ...              ...               ...
65994  C0243534                        Labour Leave Limited  ...                1                 1
66000  C0259702  Trade Unionists Against The European Union  ...                1                 1
66001  C0400297                        Labour Leave Limited  ...                1                 1
66003  I0088673                           Liberal Democrats  ...                1                 1
66006  C0242478                          Vote Leave Limited  ...                1                 1

[12361 rows x 40 columns],)
2025/02/28 01:26:25 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:25 PM INFO:display_visualizations executed successfully
2025/02/28 01:26:25 PM INFO:display_data_page executed successfully
2025/02/28 01:26:25 PM INFO:pagesetup executed successfully
2025/02/28 01:26:25 PM INFO:Calling firstload with args=()
2025/02/28 01:26:25 PM INFO:firstload executed successfully
2025/02/28 01:26:35 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:26:35 PM INFO:Setting up the package
2025/02/28 01:26:35 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:26:35 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:26:35 PM INFO:get_git_version executed successfully
2025/02/28 01:26:35 PM INFO:Version: v2.108
2025/02/28 01:26:35 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:26:35 PM INFO:init_state_var executed successfully
2025/02/28 01:26:35 PM INFO:Session_state variables initialized
2025/02/28 01:26:35 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:26:35 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:26:35 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:26:35 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:26:35 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:26:35 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:26:35 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:26:35 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:26:35 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:26:35 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:26:35 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:26:35 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:26:35 PM INFO:menu_selection: {'title': 'Bequeths', 'function': <function mod_bequeths_page at 0x0000018435861A20>}
2025/02/28 01:26:35 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:26:35 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:26:35 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:26:35 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:26:35 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:26:35 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:26:35 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:26:35 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:26:35 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:26:35 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:26:35 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:26:35 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:26:35 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:26:35 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:26:35 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:26:35 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:26:35 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:26:35 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:26:35 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:26:35 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:26:35 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:26:35 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:26:35 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:26:35 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:26:35 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:26:35 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:26:35 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:26:35 PM INFO:perc_target: 0.5
2025/02/28 01:26:35 PM INFO:Session state Setup complete
2025/02/28 01:26:35 PM INFO:initialize_session_state executed successfully
2025/02/28 01:26:35 PM INFO:Package setup complete
2025/02/28 01:26:35 PM INFO:Calling pagesetup with args=()
2025/02/28 01:26:35 PM INFO:Calling get_git_version with args=()
2025/02/28 01:26:35 PM INFO:get_git_version executed successfully
2025/02/28 01:26:35 PM INFO:App Version: v2.120
2025/02/28 01:26:35 PM INFO:Switched to page: Bequeths
2025/02/28 01:26:35 PM INFO:Calling display_data_page with args=('Bequests_ftr', 'Bequest')
2025/02/28 01:26:35 PM INFO:Calling load_and_filter_data with args=('Bequests_ftr', 'filtered_keytarget_label')
2025/02/28 01:26:35 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:26:39 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:26:39 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:26:39 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:26:39 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Bequest', 'filtered_keytarget_label')
2025/02/28 01:26:39 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:26:39 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Bequest', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 0.5)
2025/02/28 01:26:39 PM INFO:display_textual_insights executed successfully
2025/02/28 01:26:39 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Bequest', 'filtered_keytarget_label')
2025/02/28 01:26:39 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:39 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:39 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:39 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:39 PM INFO:display_visualizations executed successfully
2025/02/28 01:26:39 PM INFO:display_data_page executed successfully
2025/02/28 01:26:39 PM INFO:pagesetup executed successfully
2025/02/28 01:26:39 PM INFO:Calling firstload with args=()
2025/02/28 01:26:39 PM INFO:firstload executed successfully
2025/02/28 01:26:42 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:26:42 PM INFO:Setting up the package
2025/02/28 01:26:42 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:26:42 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:26:42 PM INFO:get_git_version executed successfully
2025/02/28 01:26:42 PM INFO:Version: v2.108
2025/02/28 01:26:42 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:26:42 PM INFO:init_state_var executed successfully
2025/02/28 01:26:42 PM INFO:Session_state variables initialized
2025/02/28 01:26:42 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:26:42 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:26:42 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:26:42 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:26:42 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:26:42 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:26:42 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:26:42 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:26:42 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:26:42 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:26:42 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:26:42 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:26:42 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x0000018435860820>}
2025/02/28 01:26:42 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:26:42 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:26:42 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:26:42 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:26:42 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:26:42 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:26:42 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:26:42 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:26:42 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:26:42 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:26:42 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:26:42 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:26:42 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:26:42 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:26:42 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:26:42 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:26:42 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:26:42 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:26:42 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:26:42 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:26:42 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:26:42 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:26:42 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:26:42 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:26:42 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:26:42 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:26:42 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:26:42 PM INFO:perc_target: 0.5
2025/02/28 01:26:42 PM INFO:Session state Setup complete
2025/02/28 01:26:42 PM INFO:initialize_session_state executed successfully
2025/02/28 01:26:42 PM INFO:Package setup complete
2025/02/28 01:26:42 PM INFO:Calling pagesetup with args=()
2025/02/28 01:26:42 PM INFO:Calling get_git_version with args=()
2025/02/28 01:26:42 PM INFO:get_git_version executed successfully
2025/02/28 01:26:42 PM INFO:App Version: v2.120
2025/02/28 01:26:42 PM INFO:Switched to page: Cash Donations
2025/02/28 01:26:42 PM INFO:Calling cash_donations_page with args=()
2025/02/28 01:26:42 PM INFO:Calling load_and_filter_data with args=((('DonationType', 'Cash'),), 'filtered_key_Cash Donation')
2025/02/28 01:26:42 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:26:45 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:26:45 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:26:45 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:26:45 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_key_Cash Donation')
2025/02/28 01:26:45 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:26:45 PM INFO:Calling display_textual_insights with args=('filtered_key_Cash Donation', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 01:26:45 PM INFO:display_textual_insights executed successfully
2025/02/28 01:26:45 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_key_Cash Donation')
2025/02/28 01:26:45 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:45 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:45 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:45 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:45 PM INFO:display_visualizations executed successfully
2025/02/28 01:26:45 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:46 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:46 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:46 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:46 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:46 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:46 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:26:46 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:26:46 PM INFO:cash_donations_page executed successfully
2025/02/28 01:26:46 PM INFO:pagesetup executed successfully
2025/02/28 01:26:46 PM INFO:Calling firstload with args=()
2025/02/28 01:26:46 PM INFO:firstload executed successfully
2025/02/28 01:26:49 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:26:49 PM INFO:Setting up the package
2025/02/28 01:26:49 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:26:49 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:26:49 PM INFO:get_git_version executed successfully
2025/02/28 01:26:49 PM INFO:Version: v2.108
2025/02/28 01:26:49 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:26:49 PM INFO:init_state_var executed successfully
2025/02/28 01:26:49 PM INFO:Session_state variables initialized
2025/02/28 01:26:49 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:26:49 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:26:49 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:26:49 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:26:49 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:26:49 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:26:50 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:26:50 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:26:50 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:26:50 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:26:50 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:26:50 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:26:50 PM INFO:menu_selection: {'title': 'Donors Head Lines', 'function': <function donorsheadlinespage_body at 0x0000018435860E50>}
2025/02/28 01:26:50 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:26:50 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:26:50 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:26:50 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:26:50 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:26:50 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:26:50 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:26:50 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:26:50 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:26:50 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:26:50 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:26:50 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:26:50 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:26:50 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:26:50 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:26:50 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:26:50 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:26:50 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:26:50 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:26:50 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:26:50 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:26:50 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:26:50 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:26:50 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:26:50 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:26:50 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:26:50 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:26:50 PM INFO:perc_target: 0.5
2025/02/28 01:26:50 PM INFO:Session state Setup complete
2025/02/28 01:26:50 PM INFO:initialize_session_state executed successfully
2025/02/28 01:26:50 PM INFO:Package setup complete
2025/02/28 01:26:50 PM INFO:Calling pagesetup with args=()
2025/02/28 01:26:50 PM INFO:Calling get_git_version with args=()
2025/02/28 01:26:50 PM INFO:get_git_version executed successfully
2025/02/28 01:26:50 PM INFO:App Version: v2.120
2025/02/28 01:26:50 PM INFO:Switched to page: Donors Head Lines
2025/02/28 01:26:50 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 01:26:51 PM INFO:plot_regressionplot executed successfully
2025/02/28 01:26:51 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:26:51 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:26:51 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:26:51 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:26:51 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 01:26:51 PM INFO:plot_regressionplot executed successfully
2025/02/28 01:26:51 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 01:26:51 PM INFO:plot_regressionplot executed successfully
2025/02/28 01:26:52 PM INFO:pagesetup executed successfully
2025/02/28 01:26:52 PM INFO:Calling firstload with args=()
2025/02/28 01:26:52 PM INFO:firstload executed successfully
2025/02/28 01:26:53 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:26:53 PM INFO:Setting up the package
2025/02/28 01:26:53 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:26:53 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:26:53 PM INFO:get_git_version executed successfully
2025/02/28 01:26:53 PM INFO:Version: v2.108
2025/02/28 01:26:53 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:26:53 PM INFO:init_state_var executed successfully
2025/02/28 01:26:53 PM INFO:Session_state variables initialized
2025/02/28 01:26:53 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:26:53 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:26:53 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:26:53 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:26:53 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:26:53 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:26:53 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:26:53 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:26:53 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:26:53 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:26:53 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:26:53 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:26:53 PM INFO:menu_selection: {'title': 'Head Line Figures', 'function': <function hlf_body at 0x000001843546D7E0>}
2025/02/28 01:26:53 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:26:53 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:26:53 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:26:53 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:26:53 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:26:53 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:26:53 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:26:53 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:26:53 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:26:53 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:26:53 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:26:53 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:26:53 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:26:53 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:26:53 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:26:53 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:26:53 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:26:53 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:26:53 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:26:53 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:26:53 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:26:53 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:26:53 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:26:53 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:26:53 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:26:53 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:26:53 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:26:53 PM INFO:perc_target: 0.5
2025/02/28 01:26:53 PM INFO:Session state Setup complete
2025/02/28 01:26:53 PM INFO:initialize_session_state executed successfully
2025/02/28 01:26:53 PM INFO:Package setup complete
2025/02/28 01:26:53 PM INFO:Calling pagesetup with args=()
2025/02/28 01:26:53 PM INFO:Calling get_git_version with args=()
2025/02/28 01:26:53 PM INFO:get_git_version executed successfully
2025/02/28 01:26:53 PM INFO:App Version: v2.120
2025/02/28 01:26:53 PM INFO:Switched to page: Head Line Figures
2025/02/28 01:26:54 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:54 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:54 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef                OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
65348   U0034053                               Labour Party  ...                1                 1
65336  TV0036256                           Yes Campaign Ltd  ...                1                 1
65449  TV0036257  British Declaration Of Independence [The]  ...                1                 1
65649  TV0036260        Campaign For An Independent Britain  ...                1                 1
65919  TV0036259                                 Charter 88  ...                1                 1
...          ...                                        ...  ...              ...               ...
2176    V0403814                       Mr Damian Collins Mp  ...                1                 1
2188    V0403838                           Jess Phillips Mp  ...                1                 1
2615    V0408118                            Preet Kaur Gill  ...                1                 1
5887    V0403834                              Mr Afzal Khan  ...                1                 1
5889    V0403400                       Ms Yasmin Qureshi Mp  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:54 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:54 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:54 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:54 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:26:54 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:26:54 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 01:26:54 PM INFO:plot_pie_chart executed successfully
2025/02/28 01:26:54 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 01:26:54 PM INFO:plot_pie_chart executed successfully
2025/02/28 01:26:54 PM INFO:pagesetup executed successfully
2025/02/28 01:26:54 PM INFO:Calling firstload with args=()
2025/02/28 01:26:54 PM INFO:firstload executed successfully
2025/02/28 01:27:12 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:27:12 PM INFO:Setting up the package
2025/02/28 01:27:12 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:27:12 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:27:13 PM INFO:get_git_version executed successfully
2025/02/28 01:27:13 PM INFO:Version: v2.108
2025/02/28 01:27:13 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:27:13 PM INFO:init_state_var executed successfully
2025/02/28 01:27:13 PM INFO:Session_state variables initialized
2025/02/28 01:27:13 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:27:13 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:27:13 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:27:13 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:27:13 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:27:13 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:27:13 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:27:13 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:27:13 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:27:13 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:27:13 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:27:13 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:27:13 PM INFO:menu_selection: {'title': 'Introduction', 'function': <function introduction_body at 0x000001843546D630>}
2025/02/28 01:27:13 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:27:13 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:27:13 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:27:13 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:27:13 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:27:13 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:27:13 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:27:13 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:27:13 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:27:13 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:27:13 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:27:13 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:27:13 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:27:13 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:27:13 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:27:13 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:27:13 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:27:13 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:27:13 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:27:13 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:27:13 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:27:13 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:27:13 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:27:13 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:27:13 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:27:13 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:27:13 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:27:13 PM INFO:perc_target: 0.5
2025/02/28 01:27:13 PM INFO:Session state Setup complete
2025/02/28 01:27:13 PM INFO:initialize_session_state executed successfully
2025/02/28 01:27:13 PM INFO:Package setup complete
2025/02/28 01:27:13 PM INFO:Calling pagesetup with args=()
2025/02/28 01:27:13 PM INFO:Calling get_git_version with args=()
2025/02/28 01:27:13 PM INFO:get_git_version executed successfully
2025/02/28 01:27:13 PM INFO:App Version: v2.120
2025/02/28 01:27:13 PM INFO:Switched to page: Introduction
2025/02/28 01:27:13 PM INFO:pagesetup executed successfully
2025/02/28 01:27:13 PM INFO:Calling firstload with args=()
2025/02/28 01:27:13 PM INFO:firstload executed successfully
2025/02/28 01:30:22 PM INFO:Logging is set up correctly!
2025/02/28 01:30:22 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 01:30:22 PM INFO:get_git_version executed successfully
2025/02/28 01:30:22 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 01:30:22 PM INFO:get_git_version executed successfully
2025/02/28 01:30:22 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 01:30:22 PM INFO:get_git_version executed successfully
2025/02/28 01:30:23 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:30:23 PM INFO:Setting up the package
2025/02/28 01:30:23 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:30:23 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:30:23 PM INFO:get_git_version executed successfully
2025/02/28 01:30:23 PM INFO:Version: v2.108
2025/02/28 01:30:23 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:30:23 PM INFO:init_state_var executed successfully
2025/02/28 01:30:23 PM INFO:Session_state variables initialized
2025/02/28 01:30:23 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:30:23 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:30:23 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:30:23 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:30:23 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:30:23 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:30:23 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:30:23 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:30:23 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:30:23 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:30:23 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:30:23 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:30:23 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x0000018435860820>}
2025/02/28 01:30:23 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:30:23 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:30:23 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:30:23 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:30:23 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:30:23 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:30:23 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:30:23 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:30:23 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:30:23 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:30:23 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:30:23 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:30:23 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:30:23 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:30:23 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:30:23 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:30:23 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:30:23 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:30:23 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:30:23 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:30:23 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:30:23 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:30:23 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:30:23 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:30:23 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:30:23 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:30:23 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:30:23 PM INFO:perc_target: 0.5
2025/02/28 01:30:23 PM INFO:Session state Setup complete
2025/02/28 01:30:23 PM INFO:initialize_session_state executed successfully
2025/02/28 01:30:23 PM INFO:Package setup complete
2025/02/28 01:30:23 PM INFO:Calling pagesetup with args=()
2025/02/28 01:30:23 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 01:30:23 PM INFO:get_git_version executed successfully
2025/02/28 01:30:23 PM INFO:Calling get_git_version with args=()
2025/02/28 01:30:23 PM INFO:get_git_version executed successfully
2025/02/28 01:30:23 PM INFO:App Version: v2.120
2025/02/28 01:30:23 PM INFO:Switched to page: Cash Donations
2025/02/28 01:30:23 PM INFO:Calling cash_donations_page with args=()
2025/02/28 01:30:23 PM INFO:Calling load_and_filter_data with args=((('DonationType', 'Cash'),), 'filtered_key_Cash Donation')
2025/02/28 01:30:23 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:30:26 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:30:26 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:30:26 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:30:26 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_key_Cash Donation')
2025/02/28 01:30:26 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:30:26 PM INFO:Calling display_textual_insights with args=('filtered_key_Cash Donation', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 01:30:26 PM INFO:display_textual_insights executed successfully
2025/02/28 01:30:26 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_key_Cash Donation')
2025/02/28 01:30:26 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:30:26 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:30:26 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:30:27 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:30:27 PM INFO:display_visualizations executed successfully
2025/02/28 01:30:27 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:30:27 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:30:27 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:30:27 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:30:27 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:30:27 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:30:27 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:30:27 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:30:27 PM INFO:cash_donations_page executed successfully
2025/02/28 01:30:27 PM INFO:pagesetup executed successfully
2025/02/28 01:30:27 PM INFO:Calling firstload with args=()
2025/02/28 01:30:27 PM INFO:firstload executed successfully
2025/02/28 01:31:15 PM INFO:Logging is set up correctly!
2025/02/28 01:31:15 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 01:31:15 PM INFO:get_git_version executed successfully
2025/02/28 01:31:15 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 01:31:16 PM INFO:get_git_version executed successfully
2025/02/28 01:31:16 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 01:31:16 PM INFO:get_git_version executed successfully
2025/02/28 01:31:16 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:31:16 PM INFO:Setting up the package
2025/02/28 01:31:16 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:31:16 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:31:16 PM INFO:get_git_version executed successfully
2025/02/28 01:31:16 PM INFO:Version: v2.108
2025/02/28 01:31:16 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:31:16 PM INFO:init_state_var executed successfully
2025/02/28 01:31:16 PM INFO:Session_state variables initialized
2025/02/28 01:31:16 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:31:16 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:31:16 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:31:16 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:31:16 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:31:16 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:31:16 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:31:16 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:31:16 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:31:16 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:31:16 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:31:16 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:31:16 PM INFO:menu_selection: {'title': 'Bequeths', 'function': <function mod_bequeths_page at 0x0000018438CB01F0>}
2025/02/28 01:31:16 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:31:16 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:31:16 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:31:16 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:31:16 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:31:16 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:31:16 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:31:16 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:31:16 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:31:16 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:31:16 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:31:16 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:31:16 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:31:16 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:31:16 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:31:16 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:31:16 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:31:16 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:31:16 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:31:16 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:31:16 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:31:16 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:31:16 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:31:16 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:31:16 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:31:16 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:31:16 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:31:16 PM INFO:perc_target: 0.5
2025/02/28 01:31:16 PM INFO:Session state Setup complete
2025/02/28 01:31:16 PM INFO:initialize_session_state executed successfully
2025/02/28 01:31:16 PM INFO:Package setup complete
2025/02/28 01:31:16 PM INFO:Calling pagesetup with args=()
2025/02/28 01:31:16 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 01:31:16 PM INFO:get_git_version executed successfully
2025/02/28 01:31:16 PM INFO:Calling get_git_version with args=()
2025/02/28 01:31:16 PM INFO:get_git_version executed successfully
2025/02/28 01:31:16 PM INFO:App Version: v2.120
2025/02/28 01:31:16 PM INFO:Switched to page: Bequeths
2025/02/28 01:31:16 PM INFO:Calling display_data_page with args=('Bequests_ftr', 'Bequest')
2025/02/28 01:31:16 PM INFO:Calling load_and_filter_data with args=('Bequests_ftr', 'filtered_keytarget_label')
2025/02/28 01:31:16 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:31:19 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:31:19 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:31:19 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:31:19 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Bequest', 'filtered_keytarget_label')
2025/02/28 01:31:19 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:31:19 PM INFO:Calling display_textual_insights with args=('filtered_keytarget_label', 'Bequest', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 0.5)
2025/02/28 01:31:20 PM INFO:display_textual_insights executed successfully
2025/02/28 01:31:20 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Bequest', 'filtered_keytarget_label')
2025/02/28 01:31:20 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:31:20 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:31:20 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:31:20 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:31:20 PM INFO:display_visualizations executed successfully
2025/02/28 01:31:20 PM INFO:display_data_page executed successfully
2025/02/28 01:31:20 PM INFO:pagesetup executed successfully
2025/02/28 01:31:20 PM INFO:Calling firstload with args=()
2025/02/28 01:31:20 PM INFO:firstload executed successfully
2025/02/28 01:31:31 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:31:31 PM INFO:Setting up the package
2025/02/28 01:31:31 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:31:31 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:31:31 PM INFO:get_git_version executed successfully
2025/02/28 01:31:31 PM INFO:Version: v2.108
2025/02/28 01:31:31 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:31:31 PM INFO:init_state_var executed successfully
2025/02/28 01:31:31 PM INFO:Session_state variables initialized
2025/02/28 01:31:31 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:31:31 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:31:31 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:31:31 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:31:31 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:31:31 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:31:31 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:31:31 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:31:31 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:31:31 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:31:31 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:31:31 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:31:31 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x0000018438CFA560>}
2025/02/28 01:31:31 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:31:31 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:31:31 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:31:31 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:31:31 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:31:31 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:31:31 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:31:31 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:31:31 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:31:31 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:31:31 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:31:31 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:31:31 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:31:31 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:31:31 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:31:31 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:31:31 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:31:31 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:31:31 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:31:31 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:31:31 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:31:31 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:31:31 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:31:31 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:31:31 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:31:31 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:31:31 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:31:31 PM INFO:perc_target: 0.5
2025/02/28 01:31:31 PM INFO:Session state Setup complete
2025/02/28 01:31:31 PM INFO:initialize_session_state executed successfully
2025/02/28 01:31:31 PM INFO:Package setup complete
2025/02/28 01:31:31 PM INFO:Calling pagesetup with args=()
2025/02/28 01:31:31 PM INFO:Calling get_git_version with args=()
2025/02/28 01:31:31 PM INFO:get_git_version executed successfully
2025/02/28 01:31:31 PM INFO:App Version: v2.120
2025/02/28 01:31:31 PM INFO:Switched to page: Cash Donations
2025/02/28 01:31:31 PM INFO:Calling cash_donations_page with args=()
2025/02/28 01:31:31 PM INFO:Calling load_and_filter_data with args=((('DonationType', 'Cash'),), 'filtered_key_Cash Donation')
2025/02/28 01:31:31 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:31:34 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:31:34 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:31:34 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:31:34 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_key_Cash Donation')
2025/02/28 01:31:34 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:31:34 PM INFO:Calling display_textual_insights with args=('filtered_key_Cash Donation', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 01:31:34 PM INFO:display_textual_insights executed successfully
2025/02/28 01:31:34 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_key_Cash Donation')
2025/02/28 01:31:34 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:31:34 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:31:34 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:31:34 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:31:34 PM INFO:display_visualizations executed successfully
2025/02/28 01:31:34 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:31:35 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:31:35 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:31:35 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:31:35 PM INFO:cash_donations_page executed successfully
2025/02/28 01:31:35 PM INFO:pagesetup executed successfully
2025/02/28 01:31:35 PM INFO:Calling firstload with args=()
2025/02/28 01:31:35 PM INFO:firstload executed successfully
2025/02/28 01:35:12 PM INFO:Logging is set up correctly!
2025/02/28 01:35:12 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 01:35:12 PM INFO:get_git_version executed successfully
2025/02/28 01:35:12 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 01:35:12 PM INFO:get_git_version executed successfully
2025/02/28 01:35:12 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 01:35:13 PM INFO:get_git_version executed successfully
2025/02/28 01:35:13 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:35:13 PM INFO:Setting up the package
2025/02/28 01:35:13 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:35:13 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:35:13 PM INFO:get_git_version executed successfully
2025/02/28 01:35:13 PM INFO:Version: v2.110
2025/02/28 01:35:13 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:35:13 PM INFO:init_state_var executed successfully
2025/02/28 01:35:13 PM INFO:Session_state variables initialized
2025/02/28 01:35:13 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:35:13 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:35:13 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:35:13 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:35:13 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:35:13 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:35:13 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:35:13 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:35:13 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:35:13 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:35:13 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:35:13 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:35:13 PM INFO:menu_selection: {'title': 'Sponsorships', 'function': <function sponsorships_body_page at 0x0000018438CFA9E0>}
2025/02/28 01:35:13 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:35:13 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:35:13 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:35:13 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:35:13 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:35:13 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:35:13 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:35:13 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:35:13 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:35:13 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:35:13 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:35:13 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:35:13 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:35:13 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:35:13 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:35:13 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:35:13 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:35:13 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:35:13 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:35:13 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:35:13 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:35:13 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:35:13 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:35:13 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:35:13 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:35:13 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:35:13 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:35:13 PM INFO:perc_target: 0.5
2025/02/28 01:35:13 PM INFO:Session state Setup complete
2025/02/28 01:35:13 PM INFO:initialize_session_state executed successfully
2025/02/28 01:35:13 PM INFO:Package setup complete
2025/02/28 01:35:13 PM INFO:Calling pagesetup with args=()
2025/02/28 01:35:13 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 01:35:13 PM INFO:get_git_version executed successfully
2025/02/28 01:35:13 PM INFO:Calling get_git_version with args=()
2025/02/28 01:35:13 PM INFO:get_git_version executed successfully
2025/02/28 01:35:13 PM INFO:App Version: v2.122
2025/02/28 01:35:13 PM INFO:Switched to page: Sponsorships
2025/02/28 01:35:13 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:35:16 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:35:16 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:35:16 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:35:16 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:35:16 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:35:16 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:35:16 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
127    NC0406709         Mr Richard Harrington Mp  ...                1                 1
129    NC0406708         Mr Richard Harrington Mp  ...                1                 1
882    NC0405863        The Rt Hon Sajid Javid Mp  ...                1                 1
1187   NC0404760                 Tom Pursglove Mp  ...                1                 1
1503   NC0405687  Conservative And Unionist Party  ...                1                 1
...          ...                              ...  ...              ...               ...
62669  NC0027815  Conservative And Unionist Party  ...                1                 1
63903  NC0027507                     Labour Party  ...                1                 1
63907  NC0027508                     Labour Party  ...                1                 1
65315  NC0319597  Conservative And Unionist Party  ...                1                 1
65674  NC0319545                     Labour Party  ...                1                 1

[603 rows x 40 columns],)
2025/02/28 01:35:17 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:35:17 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:35:17 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:35:17 PM INFO:pagesetup executed successfully
2025/02/28 01:35:17 PM INFO:Calling firstload with args=()
2025/02/28 01:35:17 PM INFO:firstload executed successfully
2025/02/28 01:42:29 PM INFO:Logging is set up correctly!
2025/02/28 01:42:29 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 01:42:29 PM INFO:get_git_version executed successfully
2025/02/28 01:42:29 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 01:42:29 PM INFO:get_git_version executed successfully
2025/02/28 01:42:29 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 01:42:29 PM INFO:get_git_version executed successfully
2025/02/28 01:42:29 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:42:29 PM INFO:Setting up the package
2025/02/28 01:42:29 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:42:29 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:42:30 PM INFO:get_git_version executed successfully
2025/02/28 01:42:30 PM INFO:Version: v2.110
2025/02/28 01:42:30 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:42:30 PM INFO:init_state_var executed successfully
2025/02/28 01:42:30 PM INFO:Session_state variables initialized
2025/02/28 01:42:30 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:42:30 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:42:30 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:42:30 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:42:30 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:42:30 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:42:30 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:42:30 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:42:30 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:42:30 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:42:30 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:42:30 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:42:30 PM INFO:menu_selection: {'title': 'Head Line Figures', 'function': <function hlf_body at 0x0000018438CC08B0>}
2025/02/28 01:42:30 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:42:30 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:42:30 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:42:30 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:42:30 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:42:30 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:42:30 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:42:30 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:42:30 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:42:30 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:42:30 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:42:30 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:42:30 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:42:30 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:42:30 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:42:30 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:42:30 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:42:30 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:42:30 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:42:30 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:42:30 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:42:30 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:42:30 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:42:30 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:42:30 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:42:30 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:42:30 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:42:30 PM INFO:perc_target: 0.5
2025/02/28 01:42:30 PM INFO:Session state Setup complete
2025/02/28 01:42:30 PM INFO:initialize_session_state executed successfully
2025/02/28 01:42:30 PM INFO:Package setup complete
2025/02/28 01:42:30 PM INFO:Calling pagesetup with args=()
2025/02/28 01:42:30 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 01:42:30 PM INFO:get_git_version executed successfully
2025/02/28 01:42:30 PM INFO:Calling get_git_version with args=()
2025/02/28 01:42:30 PM INFO:get_git_version executed successfully
2025/02/28 01:42:30 PM INFO:App Version: v2.122
2025/02/28 01:42:30 PM INFO:Switched to page: Head Line Figures
2025/02/28 01:42:30 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:42:30 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:42:30 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef                OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
65348   U0034053                               Labour Party  ...                1                 1
65336  TV0036256                           Yes Campaign Ltd  ...                1                 1
65449  TV0036257  British Declaration Of Independence [The]  ...                1                 1
65649  TV0036260        Campaign For An Independent Britain  ...                1                 1
65919  TV0036259                                 Charter 88  ...                1                 1
...          ...                                        ...  ...              ...               ...
2176    V0403814                       Mr Damian Collins Mp  ...                1                 1
2188    V0403838                           Jess Phillips Mp  ...                1                 1
2615    V0408118                            Preet Kaur Gill  ...                1                 1
5887    V0403834                              Mr Afzal Khan  ...                1                 1
5889    V0403400                       Ms Yasmin Qureshi Mp  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:42:30 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:42:30 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:42:31 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:42:31 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:42:31 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:42:31 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 01:42:31 PM INFO:plot_pie_chart executed successfully
2025/02/28 01:42:31 PM INFO:Calling plot_pie_chart with args=()
2025/02/28 01:42:31 PM INFO:plot_pie_chart executed successfully
2025/02/28 01:42:31 PM INFO:pagesetup executed successfully
2025/02/28 01:42:31 PM INFO:Calling firstload with args=()
2025/02/28 01:42:31 PM INFO:firstload executed successfully
2025/02/28 01:47:55 PM INFO:Logging is set up correctly!
2025/02/28 01:47:55 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 01:47:55 PM INFO:get_git_version executed successfully
2025/02/28 01:47:55 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 01:47:56 PM INFO:get_git_version executed successfully
2025/02/28 01:47:56 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 01:47:56 PM INFO:get_git_version executed successfully
2025/02/28 01:47:56 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:47:56 PM INFO:Setting up the package
2025/02/28 01:47:56 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:47:56 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:47:56 PM INFO:get_git_version executed successfully
2025/02/28 01:47:56 PM INFO:Version: v2.110
2025/02/28 01:47:56 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:47:56 PM INFO:init_state_var executed successfully
2025/02/28 01:47:56 PM INFO:Session_state variables initialized
2025/02/28 01:47:56 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:47:56 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:47:56 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:47:56 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:47:56 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:47:56 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:47:56 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:47:56 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:47:56 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:47:56 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:47:56 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:47:56 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:47:56 PM INFO:menu_selection: {'title': 'Donors Head Lines', 'function': <function donorsheadlinespage_body at 0x0000018438CB0310>}
2025/02/28 01:47:56 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:47:56 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:47:56 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:47:56 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:47:56 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:47:56 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:47:56 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:47:56 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:47:56 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:47:56 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:47:56 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:47:56 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:47:56 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:47:56 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:47:56 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:47:56 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:47:56 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:47:56 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:47:56 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:47:56 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:47:56 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:47:56 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:47:56 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:47:56 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:47:56 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:47:56 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:47:56 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:47:56 PM INFO:perc_target: 0.5
2025/02/28 01:47:56 PM INFO:Session state Setup complete
2025/02/28 01:47:56 PM INFO:initialize_session_state executed successfully
2025/02/28 01:47:56 PM INFO:Package setup complete
2025/02/28 01:47:56 PM INFO:Calling pagesetup with args=()
2025/02/28 01:47:56 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 01:47:56 PM INFO:get_git_version executed successfully
2025/02/28 01:47:56 PM INFO:Calling get_git_version with args=()
2025/02/28 01:47:56 PM INFO:get_git_version executed successfully
2025/02/28 01:47:56 PM INFO:App Version: v2.122
2025/02/28 01:47:56 PM INFO:Switched to page: Donors Head Lines
2025/02/28 01:47:57 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 01:47:57 PM INFO:plot_regressionplot executed successfully
2025/02/28 01:47:57 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:47:57 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:47:57 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:47:57 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:47:57 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 01:47:57 PM INFO:plot_regressionplot executed successfully
2025/02/28 01:47:57 PM INFO:Calling plot_regressionplot with args=(                            Donor Name  No of Donations  ...  Avg Value Per Entity  Avg No. Donations Per Entity
0                               11 Kbw                1  ...                14.6k                          1.00
1                            1900 Club               12  ...                27.0k                         12.00
2         1St Machine Tool Accessories                1  ...             5,000.00                          1.00
3                         33 Group Ltd                1  ...             2,000.00                          1.00
4      3R Construction Development Ltd                2  ...                10.0k                          2.00
...                                ...              ...  ...                   ...                           ...
18717                   Zoe Ashton Ltd                1  ...             2,000.00                          1.00
18718                    Zoe Wigan Ltd                1  ...             2,000.00                          1.00
18719                         Zouk Ltd                5  ...                13.8k                          5.00
18720                     Zulfiqar Ali                2  ...             6,496.91                          2.00
18721                     Zyex Limited                1  ...             1,324.50                          1.00

[18722 rows x 14 columns],)
2025/02/28 01:47:57 PM INFO:plot_regressionplot executed successfully
2025/02/28 01:47:57 PM INFO:pagesetup executed successfully
2025/02/28 01:47:57 PM INFO:Calling firstload with args=()
2025/02/28 01:47:57 PM INFO:firstload executed successfully
2025/02/28 01:48:15 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 01:48:15 PM INFO:Setting up the package
2025/02/28 01:48:15 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 01:48:15 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 01:48:15 PM INFO:get_git_version executed successfully
2025/02/28 01:48:15 PM INFO:Version: v2.110
2025/02/28 01:48:15 PM INFO:Calling initialize_session_state with args=()
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 01:48:15 PM INFO:init_state_var executed successfully
2025/02/28 01:48:15 PM INFO:Session_state variables initialized
2025/02/28 01:48:15 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 01:48:15 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 01:48:15 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 01:48:15 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 01:48:15 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 01:48:15 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 01:48:15 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns]
2025/02/28 01:48:15 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 01:48:15 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 01:48:15 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 01:48:15 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 01:48:15 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 01:48:15 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x0000018438CF7D90>}
2025/02/28 01:48:15 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 01:48:15 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 01:48:15 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 01:48:15 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 01:48:15 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 01:48:15 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 01:48:15 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 01:48:15 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 01:48:15 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 01:48:15 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 01:48:15 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name  ... Donation Events  Donation Mean
0                  17.0                    English Democrats  ...               1   10500.000000
1                  17.0                    English Democrats  ...               5    2700.000000
2                  17.0                    English Democrats  ...               3   22166.666667
3                  17.0                    English Democrats  ...               1    1500.000000
4                  17.0                    English Democrats  ...               1    7000.000000
...                 ...                                  ...  ...             ...            ...
3573            10264.0                        Robert Largan  ...               1    2000.000000
3574            10265.0                           Jane Dodds  ...               2    1764.705000
3575            10266.0                          Phil Wilson  ...               1    2000.000000
3576            10267.0  Scottish Unionist Association Trust  ...               2  103675.035000
3577            10267.0  Scottish Unionist Association Trust  ...               1   11520.000000

[3578 rows x 6 columns]
2025/02/28 01:48:15 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 01:48:15 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 01:48:15 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 01:48:15 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 01:48:15 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 01:48:15 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 01:48:15 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 01:48:15 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 01:48:15 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 01:48:15 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 01:48:15 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 01:48:15 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 01:48:15 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 01:48:15 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName  ...  DonorId                        DonorName
0      NC0408174                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street  ...  86310.0  Conservative And Unionist Party
...          ...                              ...  ...      ...                              ...
66006   C0242478               Vote Leave Limited  ...  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  ...  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  ...  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party  ...   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party  ...  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 01:48:15 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 01:48:15 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 01:48:15 PM INFO:perc_target: 0.5
2025/02/28 01:48:15 PM INFO:Session state Setup complete
2025/02/28 01:48:15 PM INFO:initialize_session_state executed successfully
2025/02/28 01:48:15 PM INFO:Package setup complete
2025/02/28 01:48:15 PM INFO:Calling pagesetup with args=()
2025/02/28 01:48:15 PM INFO:Calling get_git_version with args=()
2025/02/28 01:48:16 PM INFO:get_git_version executed successfully
2025/02/28 01:48:16 PM INFO:App Version: v2.122
2025/02/28 01:48:16 PM INFO:Switched to page: Cash Donations
2025/02/28 01:48:16 PM INFO:Calling cash_donations_page with args=()
2025/02/28 01:48:16 PM INFO:Calling load_and_filter_data with args=((('DonationType', 'Cash'),), 'filtered_key_Cash Donation')
2025/02/28 01:48:16 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 01:48:19 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 01:48:19 PM INFO:load_cleaned_data executed successfully
2025/02/28 01:48:19 PM INFO:load_and_filter_data executed successfully
2025/02/28 01:48:19 PM INFO:Calling display_summary_statistics with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],            ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_key_Cash Donation')
2025/02/28 01:48:19 PM INFO:display_summary_statistics executed successfully
2025/02/28 01:48:19 PM INFO:Calling display_textual_insights with args=('filtered_key_Cash Donation', 'Cash Donation', datetime.date(2001, 1, 1), datetime.date(2019, 9, 2), {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, {'unique_reg_entities': 1324, 'unique_donors': 24066, 'unique_donations': np.int64(63939), 'total_value': np.float64(934089582.95), 'mean_value': np.float64(14609.074007256917), 'avg_donations_per_entity': np.float64(48.25584905660377), 'avg_value_per_entity': np.float64(9467.03590479101), 'avg_donors_per_entity': np.float64(20.86188679245283), 'donors_stdev': np.float64(819.2576959707048), 'value_stdev': np.float64(60679.81509488486), 'noofdonors_per_ent_stdev': np.float64(322.67849661732464)}, 100.0)
2025/02/28 01:48:19 PM INFO:display_textual_insights executed successfully
2025/02/28 01:48:19 PM INFO:Calling display_visualizations with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns], 'Cash Donation', 'filtered_key_Cash Donation')
2025/02/28 01:48:19 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:48:19 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:48:19 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:48:19 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:48:19 PM INFO:display_visualizations executed successfully
2025/02/28 01:48:19 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName  ... IsAggregationInt  IsSponsorshipInt
0      NC0408174                   Mr Andy Street  ...                1                 1
1      NC0408173                   Mr Andy Street  ...                1                 1
2      NC0408177                   Mr Andy Street  ...                1                 1
3      NC0408176                   Mr Andy Street  ...                1                 1
4      NC0408170                   Mr Andy Street  ...                1                 1
...          ...                              ...  ...              ...               ...
66006   C0242478               Vote Leave Limited  ...                1                 1
66007   C0242461               Vote Leave Limited  ...                1                 1
66008   C0243560               Vote Leave Limited  ...                1                 1
66009   C0319710  Conservative And Unionist Party  ...                1                 1
66010   C0319727  Conservative And Unionist Party  ...                1                 1

[63939 rows x 40 columns],)
2025/02/28 01:48:19 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 01:48:19 PM INFO:Calling plot_custom_bar_chart with args=()
2025/02/28 01:48:19 PM INFO:plot_custom_bar_chart executed successfully
2025/02/28 01:48:19 PM INFO:cash_donations_page executed successfully
2025/02/28 01:48:19 PM INFO:pagesetup executed successfully
2025/02/28 01:48:19 PM INFO:Calling firstload with args=()
2025/02/28 01:48:19 PM INFO:firstload executed successfully
2025/02/28 02:11:05 PM INFO:Logging is set up correctly!
2025/02/28 02:11:05 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 02:11:05 PM INFO:get_git_version executed successfully
2025/02/28 02:11:05 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 02:11:05 PM INFO:get_git_version executed successfully
2025/02/28 02:11:05 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 02:11:05 PM INFO:get_git_version executed successfully
2025/02/28 02:11:05 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 02:11:05 PM INFO:Setting up the package
2025/02/28 02:11:05 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 02:11:05 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 02:11:06 PM INFO:get_git_version executed successfully
2025/02/28 02:11:06 PM INFO:Version: v2.110
2025/02/28 02:11:06 PM INFO:Calling initialize_session_state with args=()
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 02:11:06 PM INFO:init_state_var executed successfully
2025/02/28 02:11:06 PM INFO:Session_state variables initialized
2025/02/28 02:11:06 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 02:11:06 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 02:11:06 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 02:11:06 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 02:11:06 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 02:11:06 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 02:11:06 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 02:11:06 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 02:11:06 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 02:11:06 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 02:11:06 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 02:11:06 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 02:11:06 PM INFO:menu_selection: {'title': 'Cash Donations', 'function': <function cash_donations_page at 0x0000018438CF7D90>}
2025/02/28 02:11:06 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 02:11:06 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 02:11:06 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 02:11:06 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 02:11:06 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 02:11:06 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 02:11:06 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 02:11:06 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 02:11:06 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 02:11:06 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 02:11:06 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 02:11:06 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 02:11:06 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 02:11:06 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 02:11:06 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 02:11:06 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 02:11:06 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 02:11:06 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 02:11:06 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 02:11:06 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 02:11:06 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 02:11:06 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 02:11:06 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 02:11:06 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 02:11:06 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 02:11:06 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 02:11:06 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 02:11:06 PM INFO:perc_target: 0.5
2025/02/28 02:11:06 PM INFO:Session state Setup complete
2025/02/28 02:11:06 PM INFO:initialize_session_state executed successfully
2025/02/28 02:11:06 PM INFO:Package setup complete
2025/02/28 02:11:06 PM INFO:Calling pagesetup with args=()
2025/02/28 02:11:06 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 02:11:06 PM INFO:get_git_version executed successfully
2025/02/28 02:11:06 PM INFO:Calling get_git_version with args=()
2025/02/28 02:11:06 PM INFO:get_git_version executed successfully
2025/02/28 02:11:06 PM INFO:App Version: v2.122
2025/02/28 02:11:06 PM INFO:Switched to page: Introduction
2025/02/28 02:11:06 PM INFO:pagesetup executed successfully
2025/02/28 02:11:06 PM INFO:Calling firstload with args=()
2025/02/28 02:11:06 PM INFO:firstload executed successfully
2025/02/28 02:11:10 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 02:11:10 PM INFO:Setting up the package
2025/02/28 02:11:10 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 02:11:10 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 02:11:10 PM INFO:get_git_version executed successfully
2025/02/28 02:11:10 PM INFO:Version: v2.110
2025/02/28 02:11:10 PM INFO:Calling initialize_session_state with args=()
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 02:11:10 PM INFO:init_state_var executed successfully
2025/02/28 02:11:10 PM INFO:Session_state variables initialized
2025/02/28 02:11:10 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 02:11:10 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 02:11:10 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 02:11:10 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 02:11:10 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 02:11:10 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 02:11:10 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 02:11:10 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 02:11:10 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 02:11:10 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 02:11:10 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 02:11:10 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 02:11:10 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 02:11:10 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 02:11:10 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 02:11:10 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 02:11:10 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 02:11:10 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 02:11:10 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 02:11:10 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 02:11:10 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 02:11:10 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 02:11:10 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 02:11:10 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 02:11:10 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 02:11:10 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 02:11:10 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 02:11:10 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 02:11:10 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 02:11:10 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 02:11:10 PM INFO:menu_selection: {'title': 'Dubious Donations by Donor', 'function': <function dubiousdonationsbydonor_body at 0x00000184426432E0>}
2025/02/28 02:11:10 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 02:11:10 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 02:11:10 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 02:11:10 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 02:11:10 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 02:11:10 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 02:11:11 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 02:11:11 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 02:11:11 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 02:11:11 PM INFO:perc_target: 0.5
2025/02/28 02:11:11 PM INFO:Session state Setup complete
2025/02/28 02:11:11 PM INFO:initialize_session_state executed successfully
2025/02/28 02:11:11 PM INFO:Package setup complete
2025/02/28 02:11:11 PM INFO:Calling pagesetup with args=()
2025/02/28 02:11:11 PM INFO:Calling get_git_version with args=()
2025/02/28 02:11:11 PM INFO:get_git_version executed successfully
2025/02/28 02:11:11 PM INFO:App Version: v2.122
2025/02/28 02:11:11 PM INFO:Switched to page: Dubious Donations by Donor
2025/02/28 02:11:11 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 02:11:14 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 02:11:14 PM INFO:load_cleaned_data executed successfully
2025/02/28 02:11:14 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 02:11:14 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 02:11:14 PM INFO:pagesetup executed successfully
2025/02/28 02:11:14 PM INFO:Calling firstload with args=()
2025/02/28 02:11:14 PM INFO:firstload executed successfully
2025/02/28 02:11:22 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 02:11:22 PM INFO:Setting up the package
2025/02/28 02:11:22 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 02:11:22 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 02:11:22 PM INFO:get_git_version executed successfully
2025/02/28 02:11:22 PM INFO:Version: v2.110
2025/02/28 02:11:22 PM INFO:Calling initialize_session_state with args=()
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 02:11:22 PM INFO:init_state_var executed successfully
2025/02/28 02:11:22 PM INFO:Session_state variables initialized
2025/02/28 02:11:22 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 02:11:22 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 02:11:22 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 02:11:22 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 02:11:22 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 02:11:22 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 02:11:22 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 02:11:22 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 02:11:22 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 02:11:22 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 02:11:22 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 02:11:22 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 02:11:22 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 02:11:22 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 02:11:22 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 02:11:22 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 02:11:22 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 02:11:22 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 02:11:22 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 02:11:22 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 02:11:22 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 02:11:22 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 02:11:22 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 02:11:22 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 02:11:22 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 02:11:22 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 02:11:22 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 02:11:22 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 02:11:22 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 02:11:22 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 02:11:22 PM INFO:menu_selection: {'title': 'Dubious Donations by Regulated Entity', 'function': <function dubiousdonationsByDonor_body at 0x0000018438CFBD90>}
2025/02/28 02:11:22 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 02:11:22 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 02:11:22 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 02:11:22 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 02:11:22 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 02:11:22 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 02:11:22 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 02:11:22 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 02:11:22 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 02:11:22 PM INFO:perc_target: 0.5
2025/02/28 02:11:22 PM INFO:Session state Setup complete
2025/02/28 02:11:22 PM INFO:initialize_session_state executed successfully
2025/02/28 02:11:22 PM INFO:Package setup complete
2025/02/28 02:11:22 PM INFO:Calling pagesetup with args=()
2025/02/28 02:11:22 PM INFO:Calling get_git_version with args=()
2025/02/28 02:11:22 PM INFO:get_git_version executed successfully
2025/02/28 02:11:22 PM INFO:App Version: v2.122
2025/02/28 02:11:22 PM INFO:Switched to page: Dubious Donations by Regulated Entity
2025/02/28 02:11:22 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 02:11:25 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 02:11:25 PM INFO:load_cleaned_data executed successfully
2025/02/28 02:11:25 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 02:11:26 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 02:11:26 PM INFO:pagesetup executed successfully
2025/02/28 02:11:26 PM INFO:Calling firstload with args=()
2025/02/28 02:11:26 PM INFO:firstload executed successfully
2025/02/28 02:12:03 PM INFO:Logging is set up correctly!
2025/02/28 02:12:03 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 02:12:03 PM INFO:get_git_version executed successfully
2025/02/28 02:12:03 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 02:12:04 PM INFO:get_git_version executed successfully
2025/02/28 02:12:04 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 02:12:04 PM INFO:get_git_version executed successfully
2025/02/28 02:12:04 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 02:12:04 PM INFO:Setting up the package
2025/02/28 02:12:04 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 02:12:04 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 02:12:04 PM INFO:get_git_version executed successfully
2025/02/28 02:12:04 PM INFO:Version: v2.110
2025/02/28 02:12:04 PM INFO:Calling initialize_session_state with args=()
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 02:12:04 PM INFO:init_state_var executed successfully
2025/02/28 02:12:04 PM INFO:Session_state variables initialized
2025/02/28 02:12:04 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 02:12:04 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 02:12:04 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 02:12:04 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 02:12:04 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 02:12:04 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 02:12:04 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 02:12:04 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 02:12:04 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 02:12:04 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 02:12:04 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 02:12:04 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 02:12:04 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 02:12:04 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 02:12:04 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 02:12:04 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 02:12:04 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 02:12:04 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 02:12:04 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 02:12:04 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 02:12:04 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 02:12:04 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 02:12:04 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 02:12:04 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 02:12:04 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 02:12:04 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 02:12:04 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 02:12:04 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 02:12:04 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 02:12:04 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 02:12:04 PM INFO:menu_selection: {'title': 'Dubious Donations by Donor', 'function': <function dubiousdonationsbydonor_body at 0x00000184426432E0>}
2025/02/28 02:12:04 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 02:12:04 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 02:12:04 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 02:12:04 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 02:12:04 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 02:12:04 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 02:12:04 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 02:12:04 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 02:12:04 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 02:12:04 PM INFO:perc_target: 0.5
2025/02/28 02:12:04 PM INFO:Session state Setup complete
2025/02/28 02:12:04 PM INFO:initialize_session_state executed successfully
2025/02/28 02:12:04 PM INFO:Package setup complete
2025/02/28 02:12:04 PM INFO:Calling pagesetup with args=()
2025/02/28 02:12:04 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 02:12:04 PM INFO:get_git_version executed successfully
2025/02/28 02:12:04 PM INFO:Calling get_git_version with args=()
2025/02/28 02:12:04 PM INFO:get_git_version executed successfully
2025/02/28 02:12:04 PM INFO:App Version: v2.122
2025/02/28 02:12:04 PM INFO:Switched to page: Dubious Donations by Donor
2025/02/28 02:12:04 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 02:12:07 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 02:12:07 PM INFO:load_cleaned_data executed successfully
2025/02/28 02:12:07 PM INFO:Calling plot_bar_line_by_year with args=(           ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns],)
2025/02/28 02:12:08 PM INFO:plot_bar_line_by_year executed successfully
2025/02/28 02:12:08 PM INFO:pagesetup executed successfully
2025/02/28 02:12:08 PM INFO:Calling firstload with args=()
2025/02/28 02:12:08 PM INFO:firstload executed successfully
2025/02/28 02:12:11 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 02:12:11 PM INFO:Setting up the package
2025/02/28 02:12:11 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 02:12:11 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 02:12:11 PM INFO:get_git_version executed successfully
2025/02/28 02:12:11 PM INFO:Version: v2.110
2025/02/28 02:12:11 PM INFO:Calling initialize_session_state with args=()
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 02:12:11 PM INFO:init_state_var executed successfully
2025/02/28 02:12:11 PM INFO:Session_state variables initialized
2025/02/28 02:12:11 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 02:12:11 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 02:12:11 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 02:12:11 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 02:12:11 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 02:12:11 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 02:12:11 PM INFO:data_clean:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...      RegEntity_Group  IsBequestInt IsAggregationInt IsSponsorshipInt
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Small Medium Entity             1                1                1
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Small Medium Entity             1                1                1
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Small Medium Entity             1                1                1
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Small Medium Entity             1                1                1
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Small Medium Entity             1                1                1
...          ...                              ...                    ...        ...  ...                  ...           ...              ...              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...                  NaN             1                1                1
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                  NaN             1                1                1
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                  NaN             1                1                1
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                  NaN             1                1                1
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                  NaN             1                1                1

[63939 rows x 40 columns]
2025/02/28 02:12:11 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 02:12:12 PM INFO:data_party_sum:              RegulatedEntityName  DonationsValue  DonationEvents  DonationMean         RegEntity_Group
0     A Minority Pastime Limited         6612.00               1   6612.000000  Single Donation Entity
1                    A. A. Craig        12100.00              11   1100.000000            Small Entity
2                Abisola Ifasawo         1650.00               1   1650.000000  Single Donation Entity
3                  Adam Holloway        31341.00              11   2849.181818            Small Entity
4                    Adam Ingram         5245.20               1   5245.200000  Single Donation Entity
...                          ...             ...             ...           ...                     ...
1319             Yorkshire Party         1000.00               1   1000.000000  Single Donation Entity
1320   Young Britons' Foundation        54999.00               2  27499.500000       Very Small Entity
1321               Yvette Cooper       545172.31              49  11125.965510     Small Medium Entity
1322             Yvonne Fovargue         6758.06               2   3379.030000       Very Small Entity
1323               Zac Goldsmith        50000.00               1  50000.000000  Single Donation Entity

[1324 rows x 5 columns]
2025/02/28 02:12:12 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 02:12:12 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 02:12:12 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 02:12:12 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 02:12:12 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 02:12:12 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 02:12:12 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 02:12:12 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 02:12:12 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 02:12:12 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 02:12:12 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 02:12:12 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 02:12:12 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 02:12:12 PM INFO:data_regentity:       RegulatedEntityId                Regulated Entity Name           Regulated Entity Group  Donations Value  Donation Events  Donation Mean
0                  17.0                    English Democrats  Conservative And Unionist Party         10500.00                1   10500.000000
1                  17.0                    English Democrats                     Labour Party         13500.00                5    2700.000000
2                  17.0                    English Democrats                Liberal Democrats         66500.00                3   22166.666667
3                  17.0                    English Democrats              Small Medium Entity          1500.00                1    1500.000000
4                  17.0                    English Democrats                Very Small Entity          7000.00                1    7000.000000
...                 ...                                  ...                              ...              ...              ...            ...
3573            10264.0                        Robert Largan           Single Donation Entity          2000.00                1    2000.000000
3574            10265.0                           Jane Dodds                Liberal Democrats          3529.41                2    1764.705000
3575            10266.0                          Phil Wilson                Very Small Entity          2000.00                1    2000.000000
3576            10267.0  Scottish Unionist Association Trust                     Labour Party        207350.07                2  103675.035000
3577            10267.0  Scottish Unionist Association Trust                Liberal Democrats         11520.00                1   11520.000000

[3578 rows x 6 columns]
2025/02/28 02:12:12 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 02:12:12 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 02:12:12 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 02:12:12 PM INFO:data_donor:          DonorId                          Donor Name  Donations Value  Donation Events  Donation Mean
0            1.0               Agents Training Trust         53000.00                2   26500.000000
1            2.0    Birkenhead North End Labour Club        118680.84                2   59340.420000
2            3.0                Bord Institute Trust         26625.00                3    8875.000000
3            4.0        Branksome Liberal Club Trust         74495.89               14    5321.135000
4            5.0                    Bridgwater Trust          7700.00                3    2566.666667
...          ...                                 ...              ...              ...            ...
29493    87482.0  Glasgow Unionist Association Trust         50000.00                1   50000.000000
29494  1000001.0             Not Recorded 1900-01-01         17500.00                2    8750.000000
29495  1000001.0             Not Recorded 1961-01-01         11454.00                2    5727.000000
29496  1000001.0             Not Recorded 1995-05-10         27938.19                2   13969.095000
29497  1000001.0                  Unidentified Donor        728205.67               92    7915.279022

[29498 rows x 5 columns]
2025/02/28 02:12:12 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 02:12:12 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 02:12:12 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 02:12:12 PM INFO:menu_selection: {'title': 'Dubious Donations by Donor', 'function': <function dubiousdonationsbydonor_body at 0x0000018438CF40D0>}
2025/02/28 02:12:12 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 02:12:12 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 02:12:12 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 02:12:12 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 02:12:12 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 02:12:12 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 02:12:12 PM INFO:raw_data:            ECRef      OriginalRegulatedEntityName    RegulatedEntityType      Value  ...                 CleanedDonorName                DonorStatus2  DonorId                        DonorName
0      NC0408174                   Mr Andy Street        Regulated Donee    1876.56  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
1      NC0408173                   Mr Andy Street        Regulated Donee    2700.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
2      NC0408177                   Mr Andy Street        Regulated Donee    4852.58  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
3      NC0408176                   Mr Andy Street        Regulated Donee    2500.00  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
4      NC0408170                   Mr Andy Street        Regulated Donee    4524.05  ...  Conservative And Unionist Party  Registered Political Party  86310.0  Conservative And Unionist Party
...          ...                              ...                    ...        ...  ...                              ...                         ...      ...                              ...
66006   C0242478               Vote Leave Limited  Permitted Participant   10000.00  ...          Shaftesbury Investments                     Company  74198.0          Shaftesbury Investments
66007   C0242461               Vote Leave Limited  Permitted Participant  100000.00  ...                Mr Jeremy Hosking                  Individual  74184.0                Mr Jeremy Hosking
66008   C0243560               Vote Leave Limited  Permitted Participant   40000.00  ...                   Anthony Clarke                  Individual  23556.0                   Anthony Clarke
66009   C0319710  Conservative And Unionist Party        Political Party   50000.00  ...                Mr Peter A Dubens                  Individual   2146.0                Mr Peter A Dubens
66010   C0319727  Conservative And Unionist Party        Political Party   15000.00  ...                 Mr Ravi S Kailas                  Individual  74743.0                 Mr Ravi S Kailas

[63939 rows x 40 columns]
2025/02/28 02:12:12 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 02:12:12 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 02:12:12 PM INFO:perc_target: 0.5
2025/02/28 02:12:12 PM INFO:Session state Setup complete
2025/02/28 02:12:12 PM INFO:initialize_session_state executed successfully
2025/02/28 02:12:12 PM INFO:Package setup complete
2025/02/28 02:12:12 PM INFO:Calling pagesetup with args=()
2025/02/28 02:12:12 PM INFO:Calling get_git_version with args=()
2025/02/28 02:12:12 PM INFO:get_git_version executed successfully
2025/02/28 02:12:12 PM INFO:App Version: v2.122
2025/02/28 02:12:12 PM INFO:Switched to page: Dubious Donations by Donor
2025/02/28 02:12:12 PM INFO:Calling load_cleaned_data with args=()
2025/02/28 02:12:15 PM INFO:Cleaned Data completed, shape: (63939, 40)
2025/02/28 02:12:15 PM INFO:load_cleaned_data executed successfully
2025/02/28 02:12:15 PM ERROR:Error in pagesetup: local variable 'filtered_df2' referenced before assignment
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 62, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 45, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\app_pages\dubiousdonationsByDonor.py", line 180, in dubiousdonationsbydonor_body
    blank_received_date_ct = ppcalc.get_blank_received_date_ct(filtered_df2)
UnboundLocalError: local variable 'filtered_df2' referenced before assignment
2025/02/28 02:12:15 PM CRITICAL:Menu setup crashed: local variable 'filtered_df2' referenced before assignment
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 35, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 62, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 45, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\app_pages\dubiousdonationsByDonor.py", line 180, in dubiousdonationsbydonor_body
    blank_received_date_ct = ppcalc.get_blank_received_date_ct(filtered_df2)
UnboundLocalError: local variable 'filtered_df2' referenced before assignment
2025/02/28 03:31:55 PM INFO:Logging is set up correctly!
2025/02/28 03:31:55 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\utils',)
2025/02/28 03:31:55 PM INFO:get_git_version executed successfully
2025/02/28 03:31:55 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\data',)
2025/02/28 03:31:55 PM INFO:get_git_version executed successfully
2025/02/28 03:31:55 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\components',)
2025/02/28 03:31:56 PM INFO:get_git_version executed successfully
2025/02/28 03:31:56 PM INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/02/28 03:31:56 PM INFO:Setting up the package
2025/02/28 03:31:56 PM INFO:Module directory: H:\VScode\dashboard_demo
2025/02/28 03:31:56 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo',)
2025/02/28 03:31:56 PM INFO:get_git_version executed successfully
2025/02/28 03:31:56 PM INFO:Version: v2.111
2025/02/28 03:31:56 PM INFO:Calling initialize_session_state with args=()
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('BASE_DIR', 'H:\\VScode\\dashboard_demo')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('filenames', {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}})
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('PLACEHOLDER_DATE', Timestamp('1900-01-01 00:00:00'))
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('PLACEHOLDER_ID', 1000001)
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('thresholds', {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'})
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('data_remappings', {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}})
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('filter_def', {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}})
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('security', {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''})
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('perc_target', 0.5)
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('reference_dir', 'H:\\VScode\\dashboard_demo\\reference_files')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('data_dir', 'H:\\VScode\\dashboard_demo\\data')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('output_dir', 'H:\\VScode\\dashboard_demo\\output')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('logs_dir', 'H:\\VScode\\dashboard_demo\\logs')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('components_dir', 'H:\\VScode\\dashboard_demo\\components')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('app_pages_dir', 'H:\\VScode\\dashboard_demo\\app_pages')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('utils_dir', 'H:\\VScode\\dashboard_demo\\utils')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('directories', {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'})
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('Donor_dedupe_cleaned_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\Donor_dedupe_cleaned_data.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('ListofPoliticalPeople_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('mppartymemb_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\mppartymemb_pypd.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('donor_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalDonorsDeDuped.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('politician_party_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\ListOfPoliticalPeople_Final.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('regentity_map_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\PoliticalEntityDeDuped.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('potential_donor_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_donor_duplicates.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('potential_regulatedentity_duplicates_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\potential_regentiity_duplicates.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('original_data_fname', 'H:\\VScode\\dashboard_demo\\reference_files\\original_data.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('CREDENTIALS_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_credentials.json')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('TEXT_FILE', 'H:\\VScode\\dashboard_demo\\reference_files\\admin_text.json')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('cleaned_data_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_data.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('cleaned_donations_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donations.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('cleaned_donorlist_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_donorlist.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('cleaned_regentity_fname', 'H:\\VScode\\dashboard_demo\\output\\cleaned_regentity.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('party_summary_fname', 'H:\\VScode\\dashboard_demo\\output\\party_summary.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'Donations_accepted_by_political_parties.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('ec_donations_fname', 'H:\\VScode\\dashboard_demo\\Donations_accepted_by_political_parties.csv')
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Calling init_state_var with args=('Cash_ftr', {'DonationType': 'Cash'})
2025/02/28 03:31:56 PM INFO:init_state_var executed successfully
2025/02/28 03:31:56 PM INFO:Session_state variables initialized
2025/02/28 03:31:56 PM INFO:logs_dir: H:\VScode\dashboard_demo\logs
2025/02/28 03:31:56 PM INFO:politician_party_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople_Final.csv
2025/02/28 03:31:56 PM INFO:TEXT_FILE: H:\VScode\dashboard_demo\reference_files\admin_text.json
2025/02/28 03:31:56 PM INFO:cleaned_regentity_fname: H:\VScode\dashboard_demo\output\cleaned_regentity.csv
2025/02/28 03:31:56 PM INFO:cleaned_data_fname: H:\VScode\dashboard_demo\output\cleaned_data.csv
2025/02/28 03:31:56 PM INFO:perc_target: 0.5
2025/02/28 03:31:56 PM INFO:Cash_ftr: {'DonationType': 'Cash'}
2025/02/28 03:31:56 PM INFO:utils_dir: H:\VScode\dashboard_demo\utils
2025/02/28 03:31:56 PM INFO:cleaned_donorlist_fname: H:\VScode\dashboard_demo\output\cleaned_donorlist.csv
2025/02/28 03:31:56 PM INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/02/28 03:31:56 PM INFO:regentity_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalEntityDeDuped.csv
2025/02/28 03:31:56 PM INFO:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/02/28 03:31:56 PM INFO:filter_def: {'Sponsorships_ftr': {'DonationType': 'Sponsorship', 'NatureOfDonation': 'Sponsorship', 'IsSponsorship': 'True'}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregation': 'True', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': ['1000001', None, 1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': ['1000001', None, 1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorType': 'Political Party'}, 'Cash_ftr': {'DonationType': 'Cash'}, 'NonCash_ftr': {'DonationType': 'Non Cash'}}
2025/02/28 03:31:56 PM INFO:potential_regulatedentity_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_regentiity_duplicates.csv
2025/02/28 03:31:56 PM INFO:directories: {'data_dir': 'H:\\VScode\\dashboard_demo\\data', 'output_dir': 'H:\\VScode\\dashboard_demo\\output', 'logs_dir': 'H:\\VScode\\dashboard_demo\\logs', 'reference_dir': 'H:\\VScode\\dashboard_demo\\reference_files', 'components_dir': 'H:\\VScode\\dashboard_demo\\components', 'app_pages_dir': 'H:\\VScode\\dashboard_demo\\app_pages', 'utils_dir': 'H:\\VScode\\dashboard_demo\\utils'}
2025/02/28 03:31:56 PM INFO:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/02/28 03:31:56 PM INFO:data_dir: H:\VScode\dashboard_demo\data
2025/02/28 03:31:56 PM INFO:CREDENTIALS_FILE: H:\VScode\dashboard_demo\reference_files\admin_credentials.json
2025/02/28 03:31:56 PM INFO:ec_donations_fname: Donations_accepted_by_political_parties.csv
2025/02/28 03:31:56 PM INFO:mppartymemb_fname: H:\VScode\dashboard_demo\reference_files\mppartymemb_pypd.csv
2025/02/28 03:31:56 PM INFO:potential_donor_duplicates_fname: H:\VScode\dashboard_demo\reference_files\potential_donor_duplicates.csv
2025/02/28 03:31:56 PM INFO:app_pages_dir: H:\VScode\dashboard_demo\app_pages
2025/02/28 03:31:56 PM INFO:Donor_dedupe_cleaned_fname: H:\VScode\dashboard_demo\reference_files\Donor_dedupe_cleaned_data.csv
2025/02/28 03:31:56 PM INFO:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/02/28 03:31:56 PM INFO:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.csv', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.csv', 'donor_map_fname': 'PoliticalDonorsDeDuped.csv', 'politician_party_fname': 'ListOfPoliticalPeople_Final.csv', 'regentity_map_fname': 'PoliticalEntityDeDuped.csv', 'potential_donor_duplicates_fname': 'potential_donor_duplicates.csv', 'potential_regulatedentity_duplicates_fname': 'potential_regentiity_duplicates.csv', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.csv', 'cleaned_donations_fname': 'cleaned_donations.csv', 'cleaned_donorlist_fname': 'cleaned_donorlist.csv', 'cleaned_regentity_fname': 'cleaned_regentity.csv', 'party_summary_fname': 'party_summary.csv'}, 'BASE_DIR': {'ec_donations_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/02/28 03:31:56 PM INFO:cleaned_donations_fname: H:\VScode\dashboard_demo\output\cleaned_donations.csv
2025/02/28 03:31:56 PM INFO:reference_dir: H:\VScode\dashboard_demo\reference_files
2025/02/28 03:31:56 PM INFO:party_summary_fname: H:\VScode\dashboard_demo\output\party_summary.csv
2025/02/28 03:31:56 PM INFO:components_dir: H:\VScode\dashboard_demo\components
2025/02/28 03:31:56 PM INFO:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/02/28 03:31:56 PM INFO:PLACEHOLDER_ID: 1000001
2025/02/28 03:31:56 PM INFO:donor_map_fname: H:\VScode\dashboard_demo\reference_files\PoliticalDonorsDeDuped.csv
2025/02/28 03:31:56 PM INFO:output_dir: H:\VScode\dashboard_demo\output
2025/02/28 03:31:56 PM INFO:original_data_fname: H:\VScode\dashboard_demo\reference_files\original_data.csv
2025/02/28 03:31:56 PM INFO:ListofPoliticalPeople_fname: H:\VScode\dashboard_demo\reference_files\ListOfPoliticalPeople.csv
2025/02/28 03:31:56 PM INFO:Session state Setup complete
2025/02/28 03:31:56 PM INFO:initialize_session_state executed successfully
2025/02/28 03:31:56 PM INFO:Package setup complete
2025/02/28 03:31:56 PM INFO:Calling pagesetup with args=()
2025/02/28 03:31:56 PM INFO:Calling get_git_version with args=('H:\\VScode\\dashboard_demo\\app_pages',)
2025/02/28 03:31:56 PM INFO:get_git_version executed successfully
2025/02/28 03:31:56 PM ERROR:Error in pagesetup: cannot import name 'DATA_PAGES' from 'config' (H:\VScode\dashboard_demo\config.py)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 13, in pagesetup
    from app_pages.mod_page_calls import (
  File "H:\VScode\dashboard_demo\app_pages\mod_page_calls.py", line 10, in <module>
    from config import DATA_PAGES, GROUP_DATA_PAGES, ENTITY_DATA_PAGES
ImportError: cannot import name 'DATA_PAGES' from 'config' (H:\VScode\dashboard_demo\config.py)
2025/02/28 03:31:56 PM CRITICAL:Menu setup crashed: cannot import name 'DATA_PAGES' from 'config' (H:\VScode\dashboard_demo\config.py)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 35, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 31, in wrapper
    raise e
  File "H:\VScode\dashboard_demo\utils\logger.py", line 26, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 13, in pagesetup
    from app_pages.mod_page_calls import (
  File "H:\VScode\dashboard_demo\app_pages\mod_page_calls.py", line 10, in <module>
    from config import DATA_PAGES, GROUP_DATA_PAGES, ENTITY_DATA_PAGES
ImportError: cannot import name 'DATA_PAGES' from 'config' (H:\VScode\dashboard_demo\config.py)
