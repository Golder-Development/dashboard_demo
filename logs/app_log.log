2025/03/09 11:59 ERROR:Session state variables not initialized!
2025/03/09 11:59 ERROR:Error: originalfilepath is None!
2025/03/09 11:59 ERROR:Error in raw_data_cleanup: could not convert string to float: ' -   '
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 71, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: ' -   '
2025/03/09 11:59 CRITICAL:First load crashed: could not convert string to float: ' -   '
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 129, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 120, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 71, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: ' -   '
2025/03/09 12:00 ERROR:Session state variables not initialized!
2025/03/09 12:00 ERROR:Error: originalfilepath is None!
2025/03/09 12:00 ERROR:Error in raw_data_cleanup: could not convert string to float: ' -   '
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 64, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: ' -   '
2025/03/09 12:00 CRITICAL:First load crashed: could not convert string to float: ' -   '
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 123, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 114, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 64, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: ' -   '
2025/03/09 12:00 ERROR:Session state variables not initialized!
2025/03/09 12:03 ERROR:Session state variables not initialized!
2025/03/09 12:03 ERROR:Error: originalfilepath is None!
2025/03/09 12:03 ERROR:Error in raw_data_cleanup: could not convert string to float: '    '
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 64, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: '    '
2025/03/09 12:03 CRITICAL:First load crashed: could not convert string to float: '    '
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 123, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 114, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 64, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: '    '
2025/03/09 12:03 ERROR:Session state variables not initialized!
2025/03/09 12:04 ERROR:Session state variables not initialized!
2025/03/09 12:04 ERROR:Error: originalfilepath is None!
2025/03/09 12:04 ERROR:Error in raw_data_cleanup: 'Series' object has no attribute 'strip'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 62, in raw_data_cleanup
    loaddata_df["Value"].strip()
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6299, in __getattr__
    return object.__getattribute__(self, name)
AttributeError: 'Series' object has no attribute 'strip'
2025/03/09 12:04 CRITICAL:First load crashed: 'Series' object has no attribute 'strip'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 123, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 114, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 62, in raw_data_cleanup
    loaddata_df["Value"].strip()
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6299, in __getattr__
    return object.__getattribute__(self, name)
AttributeError: 'Series' object has no attribute 'strip'
2025/03/09 12:04 ERROR:Session state variables not initialized!
2025/03/09 12:04 ERROR:Error in raw_data_cleanup: 'Series' object has no attribute 'strip'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 62, in raw_data_cleanup
    loaddata_df["Value"].strip()
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6299, in __getattr__
    return object.__getattribute__(self, name)
AttributeError: 'Series' object has no attribute 'strip'
2025/03/09 12:04 CRITICAL:First load crashed: 'Series' object has no attribute 'strip'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 123, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 114, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 62, in raw_data_cleanup
    loaddata_df["Value"].strip()
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6299, in __getattr__
    return object.__getattribute__(self, name)
AttributeError: 'Series' object has no attribute 'strip'
2025/03/09 12:06 ERROR:Session state variables not initialized!
2025/03/09 12:06 ERROR:Error: originalfilepath is None!
2025/03/09 12:06 ERROR:Error in raw_data_cleanup: StringMethods.replace() missing 1 required positional argument: 'repl'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 62, in raw_data_cleanup
    loaddata_df["Value"].str
  File "H:\python310\lib\site-packages\pandas\core\strings\accessor.py", line 137, in wrapper
    return func(self, *args, **kwargs)
TypeError: StringMethods.replace() missing 1 required positional argument: 'repl'
2025/03/09 12:06 CRITICAL:First load crashed: StringMethods.replace() missing 1 required positional argument: 'repl'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 123, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 114, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 62, in raw_data_cleanup
    loaddata_df["Value"].str
  File "H:\python310\lib\site-packages\pandas\core\strings\accessor.py", line 137, in wrapper
    return func(self, *args, **kwargs)
TypeError: StringMethods.replace() missing 1 required positional argument: 'repl'
2025/03/09 12:06 ERROR:Session state variables not initialized!
2025/03/09 12:06 ERROR:Error in raw_data_cleanup: StringMethods.replace() missing 1 required positional argument: 'repl'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 62, in raw_data_cleanup
    loaddata_df["Value"].str
  File "H:\python310\lib\site-packages\pandas\core\strings\accessor.py", line 137, in wrapper
    return func(self, *args, **kwargs)
TypeError: StringMethods.replace() missing 1 required positional argument: 'repl'
2025/03/09 12:06 CRITICAL:First load crashed: StringMethods.replace() missing 1 required positional argument: 'repl'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 123, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 114, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 62, in raw_data_cleanup
    loaddata_df["Value"].str
  File "H:\python310\lib\site-packages\pandas\core\strings\accessor.py", line 137, in wrapper
    return func(self, *args, **kwargs)
TypeError: StringMethods.replace() missing 1 required positional argument: 'repl'
2025/03/09 12:06 ERROR:Session state variables not initialized!
2025/03/09 12:06 ERROR:Error: originalfilepath is None!
2025/03/09 12:06 ERROR:Error in raw_data_cleanup: could not convert string to float: ''
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 64, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: ''
2025/03/09 12:06 CRITICAL:First load crashed: could not convert string to float: ''
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 123, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 114, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 64, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: ''
2025/03/09 12:06 ERROR:Session state variables not initialized!
2025/03/09 12:06 ERROR:Error in raw_data_cleanup: could not convert string to float: ''
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 64, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: ''
2025/03/09 12:06 CRITICAL:First load crashed: could not convert string to float: ''
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 72, in firstload
    load_data_to_session("raw_data", get_raw_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 13, in get_raw_data
    return load_raw_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 123, in load_raw_data
    return imported_raw_data(loaddata_df)
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 114, in imported_raw_data
    loaddata_df = raw_data_cleanup(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\raw_data_clean.py", line 64, in raw_data_cleanup
    .astype(float)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "H:\python310\lib\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: could not convert string to float: ''
2025/03/09 12:11 ERROR:Session state variables not initialized!
2025/03/09 12:11 ERROR:Error: originalfilepath is None!
2025/03/09 12:11 ERROR:Session state variables not initialized!
2025/03/09 12:11 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 12:11 ERROR:Failed to load election dates from file.
2025/03/09 12:11 ERROR:Error in load_cleaned_data: positional indexers are out-of-bounds
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1714, in _get_list_axis
    return self.obj._take_with_is_copy(key, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 4153, in _take_with_is_copy
    result = self.take(indices=indices, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 4133, in take
    new_data = self._mgr.take(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 891, in take
    indexer = maybe_convert_indices(indexer, n, verify=verify)
  File "H:\python310\lib\site-packages\pandas\core\indexers\utils.py", line 282, in maybe_convert_indices
    raise IndexError("indices are out-of-bounds")
IndexError: indices are out-of-bounds

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 425, in load_cleaned_data
    get_days_till_next_election(loadclean_df["ReceivedDate"])
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 408, in get_days_till_next_election
    election_dates_asc.iloc[idx],
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1191, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1743, in _getitem_axis
    return self._get_list_axis(key, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1717, in _get_list_axis
    raise IndexError("positional indexers are out-of-bounds") from err
IndexError: positional indexers are out-of-bounds
2025/03/09 12:11 CRITICAL:First load crashed: positional indexers are out-of-bounds
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1714, in _get_list_axis
    return self.obj._take_with_is_copy(key, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 4153, in _take_with_is_copy
    result = self.take(indices=indices, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 4133, in take
    new_data = self._mgr.take(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 891, in take
    indexer = maybe_convert_indices(indexer, n, verify=verify)
  File "H:\python310\lib\site-packages\pandas\core\indexers\utils.py", line 282, in maybe_convert_indices
    raise IndexError("indices are out-of-bounds")
IndexError: indices are out-of-bounds

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 78, in firstload
    load_data_to_session("data_clean", get_cleaned_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 26, in get_cleaned_data
    return load_cleaned_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 425, in load_cleaned_data
    get_days_till_next_election(loadclean_df["ReceivedDate"])
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 408, in get_days_till_next_election
    election_dates_asc.iloc[idx],
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1191, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1743, in _getitem_axis
    return self._get_list_axis(key, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1717, in _get_list_axis
    raise IndexError("positional indexers are out-of-bounds") from err
IndexError: positional indexers are out-of-bounds
2025/03/09 12:15 ERROR:Session state variables not initialized!
2025/03/09 12:15 ERROR:Error: originalfilepath is None!
2025/03/09 12:15 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 12:16 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 12:16 ERROR:Failed to load election dates from file.
2025/03/09 12:16 ERROR:Error in load_cleaned_data: positional indexers are out-of-bounds
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1714, in _get_list_axis
    return self.obj._take_with_is_copy(key, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 4153, in _take_with_is_copy
    result = self.take(indices=indices, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 4133, in take
    new_data = self._mgr.take(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 891, in take
    indexer = maybe_convert_indices(indexer, n, verify=verify)
  File "H:\python310\lib\site-packages\pandas\core\indexers\utils.py", line 282, in maybe_convert_indices
    raise IndexError("indices are out-of-bounds")
IndexError: indices are out-of-bounds

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 425, in load_cleaned_data
    get_days_till_next_election(loadclean_df["ReceivedDate"])
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 408, in get_days_till_next_election
    election_dates_asc.iloc[idx],
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1191, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1743, in _getitem_axis
    return self._get_list_axis(key, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1717, in _get_list_axis
    raise IndexError("positional indexers are out-of-bounds") from err
IndexError: positional indexers are out-of-bounds
2025/03/09 12:16 CRITICAL:First load crashed: positional indexers are out-of-bounds
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1714, in _get_list_axis
    return self.obj._take_with_is_copy(key, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 4153, in _take_with_is_copy
    result = self.take(indices=indices, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 4133, in take
    new_data = self._mgr.take(
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 891, in take
    indexer = maybe_convert_indices(indexer, n, verify=verify)
  File "H:\python310\lib\site-packages\pandas\core\indexers\utils.py", line 282, in maybe_convert_indices
    raise IndexError("indices are out-of-bounds")
IndexError: indices are out-of-bounds

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 78, in firstload
    load_data_to_session("data_clean", get_cleaned_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 26, in get_cleaned_data
    return load_cleaned_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 425, in load_cleaned_data
    get_days_till_next_election(loadclean_df["ReceivedDate"])
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 408, in get_days_till_next_election
    election_dates_asc.iloc[idx],
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1191, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1743, in _getitem_axis
    return self._get_list_axis(key, axis=axis)
  File "H:\python310\lib\site-packages\pandas\core\indexing.py", line 1717, in _get_list_axis
    raise IndexError("positional indexers are out-of-bounds") from err
IndexError: positional indexers are out-of-bounds
2025/03/09 12:16 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 12:16 ERROR:Error in load_cleaned_data: st.session_state has no attribute "ElectionDatesAscend". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "ElectionDatesAscend". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 376, in load_cleaned_data
    if st.session_state.ElectionDatesAscend is None:
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "ElectionDatesAscend". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 12:16 CRITICAL:First load crashed: st.session_state has no attribute "ElectionDatesAscend". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "ElectionDatesAscend". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 64, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 78, in firstload
    load_data_to_session("data_clean", get_cleaned_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 26, in get_cleaned_data
    return load_cleaned_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 376, in load_cleaned_data
    if st.session_state.ElectionDatesAscend is None:
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "ElectionDatesAscend". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 12:19 ERROR:Session state variables not initialized!
2025/03/09 12:19 ERROR:Error: originalfilepath is None!
2025/03/09 12:19 ERROR:Session state variables not initialized!
2025/03/09 12:19 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 12:19 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 12:19 ERROR:Failed to load election dates from file.
2025/03/09 12:19 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 12:39 ERROR:Error in display_visualizations: There are multiple `plotly_chart` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `plotly_chart` element.
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 113, in display_visualizations
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 168, in plot_bar_line_by_year
    st.plotly_chart(fig, use_container_width=use_container_width)
  File "H:\python310\lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\elements\plotly_chart.py", line 509, in plotly_chart
    plotly_chart_proto.id = compute_and_register_element_id(
  File "H:\python310\lib\site-packages\streamlit\elements\lib\utils.py", line 225, in compute_and_register_element_id
    _register_element_id(ctx, element_type, element_id)
  File "H:\python310\lib\site-packages\streamlit\elements\lib\utils.py", line 131, in _register_element_id
    raise StreamlitDuplicateElementId(element_type)
streamlit.errors.StreamlitDuplicateElementId: There are multiple `plotly_chart` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `plotly_chart` element.
2025/03/09 12:39 CRITICAL:Menu setup crashed: There are multiple `plotly_chart` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `plotly_chart` element.
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\app_pages\mod_page_calls.py", line 53, in mod_bequeths
    display_per_group_data_page(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\modular_page_per_donor.py", line 70, in display_per_group_data_page
    display_visualizations(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 113, in display_visualizations
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 168, in plot_bar_line_by_year
    st.plotly_chart(fig, use_container_width=use_container_width)
  File "H:\python310\lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\elements\plotly_chart.py", line 509, in plotly_chart
    plotly_chart_proto.id = compute_and_register_element_id(
  File "H:\python310\lib\site-packages\streamlit\elements\lib\utils.py", line 225, in compute_and_register_element_id
    _register_element_id(ctx, element_type, element_id)
  File "H:\python310\lib\site-packages\streamlit\elements\lib\utils.py", line 131, in _register_element_id
    raise StreamlitDuplicateElementId(element_type)
streamlit.errors.StreamlitDuplicateElementId: There are multiple `plotly_chart` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `plotly_chart` element.
2025/03/09 12:39 CRITICAL:Menu setup crashed: There are multiple `slider` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `slider` element.
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\app_pages\mod_page_calls.py", line 103, in mod_donations_per_political_party
    display_per_group_data_page(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\modular_page_per_donor.py", line 34, in display_per_group_data_page
    ) = load_and_filter_pergroup(
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 218, in load_and_filter_pergroup
    date_range2 = st.slider(
  File "H:\python310\lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\slider.py", line 504, in slider
    return self._slider(
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\slider.py", line 549, in _slider
    element_id = compute_and_register_element_id(
  File "H:\python310\lib\site-packages\streamlit\elements\lib\utils.py", line 225, in compute_and_register_element_id
    _register_element_id(ctx, element_type, element_id)
  File "H:\python310\lib\site-packages\streamlit\elements\lib\utils.py", line 131, in _register_element_id
    raise StreamlitDuplicateElementId(element_type)
streamlit.errors.StreamlitDuplicateElementId: There are multiple `slider` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `slider` element.
2025/03/09 12:47 CRITICAL:Menu setup crashed: get_value_total() takes from 1 to 2 positional arguments but 4 were given
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 274, in hlf_body
    avg_donation = get_value_total(
TypeError: get_value_total() takes from 1 to 2 positional arguments but 4 were given
2025/03/09 12:55 ERROR:Session state variables not initialized!
2025/03/09 12:55 ERROR:Error: originalfilepath is None!
2025/03/09 12:55 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 12:55 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 12:55 ERROR:Failed to load election dates from file.
2025/03/09 12:55 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 12:55 ERROR:Error in hlf_body: calculate_agg_by_variable() got an unexpected keyword argument 'df'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
TypeError: calculate_agg_by_variable() got an unexpected keyword argument 'df'
2025/03/09 12:55 CRITICAL:Menu setup crashed: calculate_agg_by_variable() got an unexpected keyword argument 'df'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
TypeError: calculate_agg_by_variable() got an unexpected keyword argument 'df'
2025/03/09 12:59 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 12:59 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 12:59 ERROR:Session state variables not initialized!
2025/03/09 12:59 ERROR:Error: originalfilepath is None!
2025/03/09 12:59 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 12:59 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 12:59 ERROR:Failed to load election dates from file.
2025/03/09 12:59 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:00 ERROR:Error in hlf_body: 'RegulatedEntityId'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 288, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'RegulatedEntityId'
2025/03/09 01:00 CRITICAL:Menu setup crashed: 'RegulatedEntityId'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 288, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'RegulatedEntityId'
2025/03/09 01:02 CRITICAL:Menu setup crashed: invalid syntax. Perhaps you forgot a comma? (headlinefigures.py, line 278)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 278
    groupby_name="Party"
                 
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 01:02 ERROR:Error in pagesetup: expected an indented block after 'else' statement on line 304 (headlinefigures.py, line 306)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 306
    st.write("---")
IndentationError: expected an indented block after 'else' statement on line 304
2025/03/09 01:02 ERROR:Error in pagesetup: cannot import name 'hlf_body' from 'app_pages.headlinefigures' (H:\VScode\dashboard_demo\app_pages\headlinefigures.py)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
ImportError: cannot import name 'hlf_body' from 'app_pages.headlinefigures' (H:\VScode\dashboard_demo\app_pages\headlinefigures.py)
2025/03/09 01:02 CRITICAL:Menu setup crashed: expected an indented block after 'else' statement on line 304 (headlinefigures.py, line 306)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 306
    st.write("---")
IndentationError: expected an indented block after 'else' statement on line 304
2025/03/09 01:02 CRITICAL:Menu setup crashed: cannot import name 'hlf_body' from 'app_pages.headlinefigures' (H:\VScode\dashboard_demo\app_pages\headlinefigures.py)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
ImportError: cannot import name 'hlf_body' from 'app_pages.headlinefigures' (H:\VScode\dashboard_demo\app_pages\headlinefigures.py)
2025/03/09 01:04 ERROR:Session state variables not initialized!
2025/03/09 01:04 ERROR:Error: originalfilepath is None!
2025/03/09 01:04 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:04 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:04 ERROR:Failed to load election dates from file.
2025/03/09 01:04 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:04 ERROR:Error in hlf_body: 'RegulatedEntityId'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'RegulatedEntityId'
2025/03/09 01:04 CRITICAL:Menu setup crashed: 'RegulatedEntityId'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'RegulatedEntityId'
2025/03/09 01:05 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:05 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:05 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:05 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:05 ERROR:Session state variables not initialized!
2025/03/09 01:05 ERROR:Error: originalfilepath is None!
2025/03/09 01:05 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:05 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:05 ERROR:Failed to load election dates from file.
2025/03/09 01:05 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:05 ERROR:Error in hlf_body: cannot insert Party, already exists
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 57, in plot_bar_line_by_year
    .reset_index()
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 1770, in reset_index
    return df.reset_index(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 6472, in reset_index
    new_obj.insert(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 5158, in insert
    raise ValueError(f"cannot insert {column}, already exists")
ValueError: cannot insert Party, already exists
2025/03/09 01:05 CRITICAL:Menu setup crashed: cannot insert Party, already exists
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 57, in plot_bar_line_by_year
    .reset_index()
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 1770, in reset_index
    return df.reset_index(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 6472, in reset_index
    new_obj.insert(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 5158, in insert
    raise ValueError(f"cannot insert {column}, already exists")
ValueError: cannot insert Party, already exists
2025/03/09 01:06 CRITICAL:Menu setup crashed: 'RegEntity_Group'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'RegEntity_Group'
2025/03/09 01:07 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:07 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:07 ERROR:Session state variables not initialized!
2025/03/09 01:07 ERROR:Error: originalfilepath is None!
2025/03/09 01:07 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:07 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:07 ERROR:Failed to load election dates from file.
2025/03/09 01:07 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:07 ERROR:Error in hlf_body: 'RegEntity_Group'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'RegEntity_Group'
2025/03/09 01:07 CRITICAL:Menu setup crashed: 'RegEntity_Group'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'RegEntity_Group'
2025/03/09 01:09 ERROR:Session state variables not initialized!
2025/03/09 01:09 ERROR:Error: originalfilepath is None!
2025/03/09 01:09 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:09 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:09 ERROR:Failed to load election dates from file.
2025/03/09 01:09 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:09 ERROR:Error in hlf_body: 'NoneType' object is not callable
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1054, in get_grouper
    Grouping(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 603, in __init__
    grouping_vector = index.map(grouping_vector)
  File "H:\python310\lib\site-packages\pandas\core\indexes\base.py", line 6491, in map
    new_values = self._map_values(mapper, na_action=na_action)
  File "H:\python310\lib\site-packages\pandas\core\base.py", line 921, in _map_values
    return algorithms.map_array(arr, mapper, na_action=na_action, convert=convert)
  File "H:\python310\lib\site-packages\pandas\core\algorithms.py", line 1743, in map_array
    return lib.map_infer(values, mapper, convert=convert)
  File "lib.pyx", line 2972, in pandas._libs.lib.map_infer
TypeError: 'NoneType' object is not callable
2025/03/09 01:09 CRITICAL:Menu setup crashed: 'NoneType' object is not callable
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1054, in get_grouper
    Grouping(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 603, in __init__
    grouping_vector = index.map(grouping_vector)
  File "H:\python310\lib\site-packages\pandas\core\indexes\base.py", line 6491, in map
    new_values = self._map_values(mapper, na_action=na_action)
  File "H:\python310\lib\site-packages\pandas\core\base.py", line 921, in _map_values
    return algorithms.map_array(arr, mapper, na_action=na_action, convert=convert)
  File "H:\python310\lib\site-packages\pandas\core\algorithms.py", line 1743, in map_array
    return lib.map_infer(values, mapper, convert=convert)
  File "lib.pyx", line 2972, in pandas._libs.lib.map_infer
TypeError: 'NoneType' object is not callable
2025/03/09 01:09 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:09 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:09 ERROR:Session state variables not initialized!
2025/03/09 01:09 ERROR:Error: originalfilepath is None!
2025/03/09 01:09 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:09 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:09 ERROR:Failed to load election dates from file.
2025/03/09 01:10 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:10 ERROR:Error in hlf_body: cannot insert Party, already exists
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 57, in plot_bar_line_by_year
    .reset_index()
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 1770, in reset_index
    return df.reset_index(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 6472, in reset_index
    new_obj.insert(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 5158, in insert
    raise ValueError(f"cannot insert {column}, already exists")
ValueError: cannot insert Party, already exists
2025/03/09 01:10 CRITICAL:Menu setup crashed: cannot insert Party, already exists
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 57, in plot_bar_line_by_year
    .reset_index()
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 1770, in reset_index
    return df.reset_index(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 6472, in reset_index
    new_obj.insert(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 5158, in insert
    raise ValueError(f"cannot insert {column}, already exists")
ValueError: cannot insert Party, already exists
2025/03/09 01:11 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:11 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:11 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:11 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:12 ERROR:Session state variables not initialized!
2025/03/09 01:12 ERROR:Error: originalfilepath is None!
2025/03/09 01:12 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:12 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:12 ERROR:Failed to load election dates from file.
2025/03/09 01:12 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:12 ERROR:Error in hlf_body: 'Party'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'Party'
2025/03/09 01:12 CRITICAL:Menu setup crashed: 'Party'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'Party'
2025/03/09 01:12 CRITICAL:Menu setup crashed: 'Column not found: AverageDonation'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 289, in hlf_body
    plot_bar_line.plot_bar_line_by_year(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_line.py", line 55, in plot_bar_line_by_year
    graph_df.groupby([XValues, GroupData], observed=True)[YValues]
  File "H:\python310\lib\site-packages\pandas\core\groupby\generic.py", line 1951, in __getitem__
    return super().__getitem__(key)
  File "H:\python310\lib\site-packages\pandas\core\base.py", line 244, in __getitem__
    raise KeyError(f"Column not found: {key}")
KeyError: 'Column not found: AverageDonation'
2025/03/09 01:18 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:18 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:18 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:18 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:18 ERROR:Session state variables not initialized!
2025/03/09 01:18 ERROR:Error: originalfilepath is None!
2025/03/09 01:18 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:19 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:19 ERROR:Failed to load election dates from file.
2025/03/09 01:19 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:24 ERROR:Session state variables not initialized!
2025/03/09 01:24 ERROR:Error: originalfilepath is None!
2025/03/09 01:24 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:24 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:24 ERROR:Failed to load election dates from file.
2025/03/09 01:24 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:25 ERROR:Error in hlf_body: 'SeriesGroupBy' object has no attribute 'avg'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 486, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).agg({agg_variable: agg_type})
  File "H:\python310\lib\site-packages\pandas\core\groupby\generic.py", line 1432, in aggregate
    result = op.agg()
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 190, in agg
    return self.agg_dict_like()
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 423, in agg_dict_like
    return self.agg_or_apply_dict_like(op_name="agg")
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 1608, in agg_or_apply_dict_like
    result_index, result_data = self.compute_dict_like(
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 496, in compute_dict_like
    results = [
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 497, in <listcomp>
    getattr(obj._gotitem(key, ndim=1), op_name)(how, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\groupby\generic.py", line 249, in aggregate
    return getattr(self, func)(*args, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1363, in __getattr__
    raise AttributeError(
AttributeError: 'SeriesGroupBy' object has no attribute 'avg'. Did you mean: 'agg'?
2025/03/09 01:25 CRITICAL:Menu setup crashed: 'SeriesGroupBy' object has no attribute 'avg'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 486, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).agg({agg_variable: agg_type})
  File "H:\python310\lib\site-packages\pandas\core\groupby\generic.py", line 1432, in aggregate
    result = op.agg()
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 190, in agg
    return self.agg_dict_like()
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 423, in agg_dict_like
    return self.agg_or_apply_dict_like(op_name="agg")
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 1608, in agg_or_apply_dict_like
    result_index, result_data = self.compute_dict_like(
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 496, in compute_dict_like
    results = [
  File "H:\python310\lib\site-packages\pandas\core\apply.py", line 497, in <listcomp>
    getattr(obj._gotitem(key, ndim=1), op_name)(how, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\groupby\generic.py", line 249, in aggregate
    return getattr(self, func)(*args, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1363, in __getattr__
    raise AttributeError(
AttributeError: 'SeriesGroupBy' object has no attribute 'avg'. Did you mean: 'agg'?
2025/03/09 01:28 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:28 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:28 ERROR:Session state variables not initialized!
2025/03/09 01:28 ERROR:Error: originalfilepath is None!
2025/03/09 01:28 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:28 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:28 ERROR:Failed to load election dates from file.
2025/03/09 01:28 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:28 ERROR:Error in hlf_body: 'DataFrameGroupBy' object has no attribute 'agg_type'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 486, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).agg_type()
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1363, in __getattr__
    raise AttributeError(
AttributeError: 'DataFrameGroupBy' object has no attribute 'agg_type'
2025/03/09 01:28 CRITICAL:Menu setup crashed: 'DataFrameGroupBy' object has no attribute 'agg_type'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 486, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).agg_type()
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1363, in __getattr__
    raise AttributeError(
AttributeError: 'DataFrameGroupBy' object has no attribute 'agg_type'
2025/03/09 01:30 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:30 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:30 ERROR:Session state variables not initialized!
2025/03/09 01:30 ERROR:Error: originalfilepath is None!
2025/03/09 01:30 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:30 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:30 ERROR:Failed to load election dates from file.
2025/03/09 01:30 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:30 ERROR:Error in hlf_body: Unsupported aggregation type: avg
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 495, in calculate_agg_by_variable
    raise ValueError(f"Unsupported aggregation type: {agg_type}")
ValueError: Unsupported aggregation type: avg
2025/03/09 01:30 CRITICAL:Menu setup crashed: Unsupported aggregation type: avg
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 495, in calculate_agg_by_variable
    raise ValueError(f"Unsupported aggregation type: {agg_type}")
ValueError: Unsupported aggregation type: avg
2025/03/09 01:31 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:31 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:31 ERROR:Session state variables not initialized!
2025/03/09 01:31 ERROR:Error: originalfilepath is None!
2025/03/09 01:31 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:31 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:31 ERROR:Failed to load election dates from file.
2025/03/09 01:31 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:31 ERROR:Error in hlf_body: agg function failed [how->mean,dtype->object]
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1942, in _agg_py_fallback
    res_values = self._grouper.agg_series(ser, alt, preserve_dtype=True)
  File "H:\python310\lib\site-packages\pandas\core\groupby\ops.py", line 864, in agg_series
    result = self._aggregate_series_pure_python(obj, func)
  File "H:\python310\lib\site-packages\pandas\core\groupby\ops.py", line 885, in _aggregate_series_pure_python
    res = func(group)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 2454, in <lambda>
    alt=lambda x: Series(x, copy=False).mean(numeric_only=numeric_only),
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 6549, in mean
    return NDFrame.mean(self, axis, skipna, numeric_only, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 12420, in mean
    return self._stat_function(
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 12377, in _stat_function
    return self._reduce(
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 6457, in _reduce
    return op(delegate, skipna=skipna, **kwds)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 147, in f
    result = alt(values, axis=axis, skipna=skipna, **kwds)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 404, in new_func
    result = func(values, axis=axis, skipna=skipna, mask=mask, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 720, in nanmean
    the_sum = _ensure_numeric(the_sum)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 1701, in _ensure_numeric
    raise TypeError(f"Could not convert string '{x}' to numeric")
TypeError: Could not convert string 'TV0036284' to numeric

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 487, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).mean()
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 2452, in mean
    result = self._cython_agg_general(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1998, in _cython_agg_general
    new_mgr = data.grouped_reduce(array_func)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 1469, in grouped_reduce
    applied = sb.apply(func)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 393, in apply
    result = func(self.values, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1995, in array_func
    result = self._agg_py_fallback(how, values, ndim=data.ndim, alt=alt)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1946, in _agg_py_fallback
    raise type(err)(msg) from err
TypeError: agg function failed [how->mean,dtype->object]
2025/03/09 01:31 CRITICAL:Menu setup crashed: agg function failed [how->mean,dtype->object]
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1942, in _agg_py_fallback
    res_values = self._grouper.agg_series(ser, alt, preserve_dtype=True)
  File "H:\python310\lib\site-packages\pandas\core\groupby\ops.py", line 864, in agg_series
    result = self._aggregate_series_pure_python(obj, func)
  File "H:\python310\lib\site-packages\pandas\core\groupby\ops.py", line 885, in _aggregate_series_pure_python
    res = func(group)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 2454, in <lambda>
    alt=lambda x: Series(x, copy=False).mean(numeric_only=numeric_only),
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 6549, in mean
    return NDFrame.mean(self, axis, skipna, numeric_only, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 12420, in mean
    return self._stat_function(
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 12377, in _stat_function
    return self._reduce(
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 6457, in _reduce
    return op(delegate, skipna=skipna, **kwds)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 147, in f
    result = alt(values, axis=axis, skipna=skipna, **kwds)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 404, in new_func
    result = func(values, axis=axis, skipna=skipna, mask=mask, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 720, in nanmean
    the_sum = _ensure_numeric(the_sum)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 1701, in _ensure_numeric
    raise TypeError(f"Could not convert string '{x}' to numeric")
TypeError: Could not convert string 'TV0036284' to numeric

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 487, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).mean()
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 2452, in mean
    result = self._cython_agg_general(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1998, in _cython_agg_general
    new_mgr = data.grouped_reduce(array_func)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 1469, in grouped_reduce
    applied = sb.apply(func)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 393, in apply
    result = func(self.values, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1995, in array_func
    result = self._agg_py_fallback(how, values, ndim=data.ndim, alt=alt)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1946, in _agg_py_fallback
    raise type(err)(msg) from err
TypeError: agg function failed [how->mean,dtype->object]
2025/03/09 01:32 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:32 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:32 ERROR:Session state variables not initialized!
2025/03/09 01:32 ERROR:Error: originalfilepath is None!
2025/03/09 01:32 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:32 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:32 ERROR:Failed to load election dates from file.
2025/03/09 01:32 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:38 ERROR:Session state variables not initialized!
2025/03/09 01:38 ERROR:Error: originalfilepath is None!
2025/03/09 01:38 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:38 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:38 ERROR:Failed to load election dates from file.
2025/03/09 01:38 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:40 ERROR:Error in pagesetup: invalid syntax. Perhaps you forgot a comma? (multi_page.py, line 36)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 36
    version = get_git_version()
              ^
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 01:40 CRITICAL:Menu setup crashed: invalid syntax. Perhaps you forgot a comma? (multi_page.py, line 36)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 36
    version = get_git_version()
              ^
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 01:40 CRITICAL:Menu setup crashed: invalid syntax. Perhaps you forgot a comma? (multi_page.py, line 36)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 36
    version = get_git_version()
              ^
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 01:40 ERROR:Error in pagesetup: positional argument follows keyword argument (multi_page.py, line 40)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 40
    )
    ^
SyntaxError: positional argument follows keyword argument
2025/03/09 01:40 ERROR:Error in pagesetup: positional argument follows keyword argument (multi_page.py, line 40)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 40
    )
    ^
SyntaxError: positional argument follows keyword argument
2025/03/09 01:40 CRITICAL:Menu setup crashed: positional argument follows keyword argument (multi_page.py, line 40)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 40
    )
    ^
SyntaxError: positional argument follows keyword argument
2025/03/09 01:40 CRITICAL:Menu setup crashed: positional argument follows keyword argument (multi_page.py, line 40)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 40
    )
    ^
SyntaxError: positional argument follows keyword argument
2025/03/09 01:41 ERROR:Error in pagesetup: invalid syntax. Perhaps you forgot a comma? (multi_page.py, line 36)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 36
    st.text(f"Version: {version}")
    ^^^^^^^^^^
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 01:41 ERROR:Error in pagesetup: invalid syntax. Perhaps you forgot a comma? (multi_page.py, line 36)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 36
    st.text(f"Version: {version}")
    ^^^^^^^^^^
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 01:41 CRITICAL:Menu setup crashed: invalid syntax. Perhaps you forgot a comma? (multi_page.py, line 36)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 36
    st.text(f"Version: {version}")
    ^^^^^^^^^^
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 01:41 CRITICAL:Menu setup crashed: invalid syntax. Perhaps you forgot a comma? (multi_page.py, line 36)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 8, in pagesetup
    from app_pages.multi_page import MultiPage
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 36
    st.text(f"Version: {version}")
    ^^^^^^^^^^
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 01:42 ERROR:Error in pagesetup: 'function' object is not iterable
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 34, in run
    page = st.sidebar.radio(
  File "H:\python310\lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\radio.py", line 275, in radio
    return self._radio(
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\radio.py", line 320, in _radio
    opt = convert_anything_to_list(options)
  File "H:\python310\lib\site-packages\streamlit\dataframe_util.py", line 941, in convert_anything_to_list
    data_df = convert_anything_to_pandas_df(obj, ensure_copy=True)
  File "H:\python310\lib\site-packages\streamlit\dataframe_util.py", line 678, in convert_anything_to_pandas_df
    [d[0] if d else "" for d in data.description] if data.description else None
TypeError: 'function' object is not iterable
2025/03/09 01:42 CRITICAL:Menu setup crashed: 'function' object is not iterable
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 34, in run
    page = st.sidebar.radio(
  File "H:\python310\lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\radio.py", line 275, in radio
    return self._radio(
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\radio.py", line 320, in _radio
    opt = convert_anything_to_list(options)
  File "H:\python310\lib\site-packages\streamlit\dataframe_util.py", line 941, in convert_anything_to_list
    data_df = convert_anything_to_pandas_df(obj, ensure_copy=True)
  File "H:\python310\lib\site-packages\streamlit\dataframe_util.py", line 678, in convert_anything_to_pandas_df
    [d[0] if d else "" for d in data.description] if data.description else None
TypeError: 'function' object is not iterable
2025/03/09 01:42 ERROR:Error in pagesetup: 'function' object is not iterable
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 34, in run
    st.warning("No pages have been added yet!")
  File "H:\python310\lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\radio.py", line 275, in radio
    return self._radio(
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\radio.py", line 320, in _radio
    opt = convert_anything_to_list(options)
  File "H:\python310\lib\site-packages\streamlit\dataframe_util.py", line 941, in convert_anything_to_list
    data_df = convert_anything_to_pandas_df(obj, ensure_copy=True)
  File "H:\python310\lib\site-packages\streamlit\dataframe_util.py", line 678, in convert_anything_to_pandas_df
    [d[0] if d else "" for d in data.description] if data.description else None
TypeError: 'function' object is not iterable
2025/03/09 01:42 CRITICAL:Menu setup crashed: 'function' object is not iterable
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 34, in run
    st.warning("No pages have been added yet!")
  File "H:\python310\lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\radio.py", line 275, in radio
    return self._radio(
  File "H:\python310\lib\site-packages\streamlit\elements\widgets\radio.py", line 320, in _radio
    opt = convert_anything_to_list(options)
  File "H:\python310\lib\site-packages\streamlit\dataframe_util.py", line 941, in convert_anything_to_list
    data_df = convert_anything_to_pandas_df(obj, ensure_copy=True)
  File "H:\python310\lib\site-packages\streamlit\dataframe_util.py", line 678, in convert_anything_to_pandas_df
    [d[0] if d else "" for d in data.description] if data.description else None
TypeError: 'function' object is not iterable
2025/03/09 01:43 ERROR:Session state variables not initialized!
2025/03/09 01:43 ERROR:Error: originalfilepath is None!
2025/03/09 01:43 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:43 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:43 ERROR:Failed to load election dates from file.
2025/03/09 01:43 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:43 ERROR:Error in hlf_body: 'DataFrameGroupBy' object has no attribute 'avg'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 492, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).avg()
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1363, in __getattr__
    raise AttributeError(
AttributeError: 'DataFrameGroupBy' object has no attribute 'avg'. Did you mean: 'agg'?
2025/03/09 01:43 CRITICAL:Menu setup crashed: 'DataFrameGroupBy' object has no attribute 'avg'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 492, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).avg()
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1363, in __getattr__
    raise AttributeError(
AttributeError: 'DataFrameGroupBy' object has no attribute 'avg'. Did you mean: 'agg'?
2025/03/09 01:45 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:45 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:45 ERROR:Session state variables not initialized!
2025/03/09 01:45 ERROR:Error: originalfilepath is None!
2025/03/09 01:45 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:45 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:45 ERROR:Failed to load election dates from file.
2025/03/09 01:45 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:45 ERROR:Error in hlf_body: agg function failed [how->mean,dtype->object]
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1942, in _agg_py_fallback
    res_values = self._grouper.agg_series(ser, alt, preserve_dtype=True)
  File "H:\python310\lib\site-packages\pandas\core\groupby\ops.py", line 864, in agg_series
    result = self._aggregate_series_pure_python(obj, func)
  File "H:\python310\lib\site-packages\pandas\core\groupby\ops.py", line 885, in _aggregate_series_pure_python
    res = func(group)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 2454, in <lambda>
    alt=lambda x: Series(x, copy=False).mean(numeric_only=numeric_only),
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 6549, in mean
    return NDFrame.mean(self, axis, skipna, numeric_only, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 12420, in mean
    return self._stat_function(
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 12377, in _stat_function
    return self._reduce(
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 6457, in _reduce
    return op(delegate, skipna=skipna, **kwds)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 147, in f
    result = alt(values, axis=axis, skipna=skipna, **kwds)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 404, in new_func
    result = func(values, axis=axis, skipna=skipna, mask=mask, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 720, in nanmean
    the_sum = _ensure_numeric(the_sum)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 1701, in _ensure_numeric
    raise TypeError(f"Could not convert string '{x}' to numeric")
TypeError: Could not convert string 'TV0036284' to numeric

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 492, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).mean()
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 2452, in mean
    result = self._cython_agg_general(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1998, in _cython_agg_general
    new_mgr = data.grouped_reduce(array_func)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 1469, in grouped_reduce
    applied = sb.apply(func)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 393, in apply
    result = func(self.values, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1995, in array_func
    result = self._agg_py_fallback(how, values, ndim=data.ndim, alt=alt)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1946, in _agg_py_fallback
    raise type(err)(msg) from err
TypeError: agg function failed [how->mean,dtype->object]
2025/03/09 01:45 CRITICAL:Menu setup crashed: agg function failed [how->mean,dtype->object]
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1942, in _agg_py_fallback
    res_values = self._grouper.agg_series(ser, alt, preserve_dtype=True)
  File "H:\python310\lib\site-packages\pandas\core\groupby\ops.py", line 864, in agg_series
    result = self._aggregate_series_pure_python(obj, func)
  File "H:\python310\lib\site-packages\pandas\core\groupby\ops.py", line 885, in _aggregate_series_pure_python
    res = func(group)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 2454, in <lambda>
    alt=lambda x: Series(x, copy=False).mean(numeric_only=numeric_only),
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 6549, in mean
    return NDFrame.mean(self, axis, skipna, numeric_only, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 12420, in mean
    return self._stat_function(
  File "H:\python310\lib\site-packages\pandas\core\generic.py", line 12377, in _stat_function
    return self._reduce(
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 6457, in _reduce
    return op(delegate, skipna=skipna, **kwds)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 147, in f
    result = alt(values, axis=axis, skipna=skipna, **kwds)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 404, in new_func
    result = func(values, axis=axis, skipna=skipna, mask=mask, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 720, in nanmean
    the_sum = _ensure_numeric(the_sum)
  File "H:\python310\lib\site-packages\pandas\core\nanops.py", line 1701, in _ensure_numeric
    raise TypeError(f"Could not convert string '{x}' to numeric")
TypeError: Could not convert string 'TV0036284' to numeric

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 275, in hlf_body
    avg_donation = calculate_agg_by_variable(
  File "H:\VScode\dashboard_demo\components\calculations.py", line 492, in calculate_agg_by_variable
    agg_df = datafile.groupby(groupby_variable, as_index=False).mean()
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 2452, in mean
    result = self._cython_agg_general(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1998, in _cython_agg_general
    new_mgr = data.grouped_reduce(array_func)
  File "H:\python310\lib\site-packages\pandas\core\internals\managers.py", line 1469, in grouped_reduce
    applied = sb.apply(func)
  File "H:\python310\lib\site-packages\pandas\core\internals\blocks.py", line 393, in apply
    result = func(self.values, **kwargs)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1995, in array_func
    result = self._agg_py_fallback(how, values, ndim=data.ndim, alt=alt)
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1946, in _agg_py_fallback
    raise type(err)(msg) from err
TypeError: agg function failed [how->mean,dtype->object]
2025/03/09 01:46 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:46 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 31, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:46 ERROR:Session state variables not initialized!
2025/03/09 01:46 ERROR:Error: originalfilepath is None!
2025/03/09 01:46 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:47 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:47 ERROR:Failed to load election dates from file.
2025/03/09 01:47 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:50 ERROR:Error in hlf_body: module 'Visualisations.plot_bar_chart' has no attribute 'plot_bar_chart'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 290, in hlf_body
    plot_bar_chart.plot_bar_chart(
AttributeError: module 'Visualisations.plot_bar_chart' has no attribute 'plot_bar_chart'
2025/03/09 01:50 CRITICAL:Menu setup crashed: module 'Visualisations.plot_bar_chart' has no attribute 'plot_bar_chart'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 290, in hlf_body
    plot_bar_chart.plot_bar_chart(
AttributeError: module 'Visualisations.plot_bar_chart' has no attribute 'plot_bar_chart'
2025/03/09 01:50 CRITICAL:Menu setup crashed: plot_custom_bar_chart() got an unexpected keyword argument 'Title'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 290, in hlf_body
    plot_bar_chart.plot_custom_bar_chart(
TypeError: plot_custom_bar_chart() got an unexpected keyword argument 'Title'
2025/03/09 01:53 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:53 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 32, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:53 ERROR:Session state variables not initialized!
2025/03/09 01:53 ERROR:Error: originalfilepath is None!
2025/03/09 01:54 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:54 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:54 ERROR:Failed to load election dates from file.
2025/03/09 01:54 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:54 ERROR:Error in hlf_body: 'PartyType'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 290, in hlf_body
    plot_bar_chart.plot_custom_bar_chart(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_chart.py", line 71, in plot_custom_bar_chart
    graph_df.groupby([XValues] + ([group_column] if group_column else []))
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'PartyType'
2025/03/09 01:54 CRITICAL:Menu setup crashed: 'PartyType'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 290, in hlf_body
    plot_bar_chart.plot_custom_bar_chart(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_chart.py", line 71, in plot_custom_bar_chart
    graph_df.groupby([XValues] + ([group_column] if group_column else []))
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 9183, in groupby
    return DataFrameGroupBy(
  File "H:\python310\lib\site-packages\pandas\core\groupby\groupby.py", line 1329, in __init__
    grouper, exclusions, obj = get_grouper(
  File "H:\python310\lib\site-packages\pandas\core\groupby\grouper.py", line 1043, in get_grouper
    raise KeyError(gpr)
KeyError: 'PartyType'
2025/03/09 01:56 CRITICAL:Menu setup crashed: cannot insert Party_Group, already exists
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 290, in hlf_body
    plot_bar_chart.plot_custom_bar_chart(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_chart.py", line 73, in plot_custom_bar_chart
    .reset_index()
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 6472, in reset_index
    new_obj.insert(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 5158, in insert
    raise ValueError(f"cannot insert {column}, already exists")
ValueError: cannot insert Party_Group, already exists
2025/03/09 01:56 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:56 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 32, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 01:56 ERROR:Session state variables not initialized!
2025/03/09 01:56 ERROR:Error: originalfilepath is None!
2025/03/09 01:56 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:56 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:56 ERROR:Failed to load election dates from file.
2025/03/09 01:56 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 01:56 ERROR:Error in hlf_body: cannot insert Party_Group, already exists
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 290, in hlf_body
    plot_bar_chart.plot_custom_bar_chart(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_chart.py", line 73, in plot_custom_bar_chart
    .reset_index()
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 6472, in reset_index
    new_obj.insert(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 5158, in insert
    raise ValueError(f"cannot insert {column}, already exists")
ValueError: cannot insert Party_Group, already exists
2025/03/09 01:56 CRITICAL:Menu setup crashed: cannot insert Party_Group, already exists
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 290, in hlf_body
    plot_bar_chart.plot_custom_bar_chart(
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_chart.py", line 73, in plot_custom_bar_chart
    .reset_index()
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 6472, in reset_index
    new_obj.insert(
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 5158, in insert
    raise ValueError(f"cannot insert {column}, already exists")
ValueError: cannot insert Party_Group, already exists
2025/03/09 01:57 ERROR:Error in pagesetup: cannot import name 'hlf_body' from 'app_pages.headlinefigures' (H:\VScode\dashboard_demo\app_pages\headlinefigures.py)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
ImportError: cannot import name 'hlf_body' from 'app_pages.headlinefigures' (H:\VScode\dashboard_demo\app_pages\headlinefigures.py)
2025/03/09 01:57 CRITICAL:Menu setup crashed: cannot import name 'hlf_body' from 'app_pages.headlinefigures' (H:\VScode\dashboard_demo\app_pages\headlinefigures.py)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
ImportError: cannot import name 'hlf_body' from 'app_pages.headlinefigures' (H:\VScode\dashboard_demo\app_pages\headlinefigures.py)
2025/03/09 01:58 ERROR:Session state variables not initialized!
2025/03/09 01:58 ERROR:Error: originalfilepath is None!
2025/03/09 01:58 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 01:58 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 01:58 ERROR:Failed to load election dates from file.
2025/03/09 01:58 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 02:02 ERROR:Error in pagesetup: invalid syntax. Perhaps you forgot a comma? (plot_bar_chart.py, line 125)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 2, in <module>
    from Visualisations import (
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_chart.py", line 125
    legend=dict(orientation="h", yanchor="top", y=-0.1, xanchor="center", x=0.5), Display in Streamlit
                                                                                  
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 02:02 CRITICAL:Menu setup crashed: invalid syntax. Perhaps you forgot a comma? (plot_bar_chart.py, line 125)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 10, in pagesetup
    from app_pages.headlinefigures import hlf_body
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 2, in <module>
    from Visualisations import (
  File "H:\VScode\dashboard_demo\Visualisations\plot_bar_chart.py", line 125
    legend=dict(orientation="h", yanchor="top", y=-0.1, xanchor="center", x=0.5), Display in Streamlit
                                                                                  
SyntaxError: invalid syntax. Perhaps you forgot a comma?
2025/03/09 02:04 ERROR:Session state variables not initialized!
2025/03/09 02:04 ERROR:Error: originalfilepath is None!
2025/03/09 02:04 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 02:04 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 02:04 ERROR:Failed to load election dates from file.
2025/03/09 02:05 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 02:08 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 02:08 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 32, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 02:08 ERROR:Error in load_and_filter_data: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 02:08 CRITICAL:Menu setup crashed: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 452, in __getitem__
    return self._getitem(widget_id, key)
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 497, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 130, in __getattr__
    return self[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 101, in __getitem__
    return get_session_state()[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\safe_session_state.py", line 96, in __getitem__
    return self._state[key]
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state.py", line 454, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
  File "H:\VScode\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\app_pages\headlinefigures.py", line 32, in hlf_body
    load_and_filter_data(filter_key=filter_key,
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\components\modular_page_blocks.py", line 27, in load_and_filter_data
    cleaned_df = st.session_state.data_clean
  File "H:\python310\lib\site-packages\streamlit\runtime\state\session_state_proxy.py", line 132, in __getattr__
    raise AttributeError(_missing_attr_error_message(key))
AttributeError: st.session_state has no attribute "data_clean". Did you forget to initialize it? More info: https://docs.streamlit.io/develop/concepts/architecture/session-state#initialization
2025/03/09 02:08 ERROR:Session state variables not initialized!
2025/03/09 02:08 ERROR:Error: originalfilepath is None!
2025/03/09 02:08 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 02:08 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 02:08 ERROR:Failed to load election dates from file.
2025/03/09 02:08 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/09 02:10 ERROR:Session state variables not initialized!
2025/03/09 02:10 ERROR:Error: originalfilepath is None!
2025/03/09 02:10 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/09 02:10 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/09 02:10 ERROR:Failed to load election dates from file.
2025/03/09 02:10 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/18 03:39 ERROR:Session state variables not initialized!
2025/03/18 03:39 ERROR:Error: originalfilepath is None!
2025/03/18 03:39 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 03:39 ERROR:Failed to load election dates from file.
2025/03/18 03:39 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/18 03:56 ERROR:Session state variables not initialized!
2025/03/18 03:56 ERROR:Error: originalfilepath is None!
2025/03/18 03:56 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 03:56 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 03:56 ERROR:Failed to load election dates from file.
2025/03/18 03:56 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/18 03:57 ERROR:Error in display_visualizations: There are multiple `plotly_chart` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `plotly_chart` element.
Traceback (most recent call last):
  File "C:\GITrepo\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "C:\GITrepo\dashboard_demo\components\modular_page_blocks.py", line 113, in display_visualizations
    plot_bar_line.plot_bar_line_by_year(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        graph_df,
        ^^^^^^^^^
    ...<12 lines>...
        y_scale="linear",
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\GITrepo\dashboard_demo\Visualisations\plot_bar_line.py", line 168, in plot_bar_line_by_year
    st.plotly_chart(fig, use_container_width=use_container_width)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\plotly_chart.py", line 509, in plotly_chart
    plotly_chart_proto.id = compute_and_register_element_id(
                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "plotly_chart",
        ^^^^^^^^^^^^^^^
    ...<7 lines>...
        use_container_width=use_container_width,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\lib\utils.py", line 241, in compute_and_register_element_id
    _register_element_id(ctx, element_type, element_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\lib\utils.py", line 147, in _register_element_id
    raise StreamlitDuplicateElementId(element_type)
streamlit.errors.StreamlitDuplicateElementId: There are multiple `plotly_chart` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `plotly_chart` element.
2025/03/18 03:57 CRITICAL:Menu setup crashed: There are multiple `plotly_chart` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `plotly_chart` element.
Traceback (most recent call last):
  File "C:\GITrepo\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\GITrepo\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "C:\GITrepo\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
    ~~~~~~~^^
  File "C:\GITrepo\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
    ~~~~~~~~~~~~~~~~^^
  File "C:\GITrepo\dashboard_demo\app_pages\mod_page_calls.py", line 53, in mod_bequeths
    display_per_group_data_page(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        functionname="mod_bequeths_per_donor",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        filter_key="Bequests_ftr",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
        target_label="Bequest",
        ^^^^^^^^^^^^^^^^^^^^^^^
        group_entity="Donor")
        ^^^^^^^^^^^^^^^^^^^^^
  File "C:\GITrepo\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "C:\GITrepo\dashboard_demo\app_pages\modular_page_per_donor.py", line 70, in display_per_group_data_page
    display_visualizations(
    ~~~~~~~~~~~~~~~~~~~~~~^
        cleaned_c_r_d_df,
        ^^^^^^^^^^^^^^^^^
        target_label=target_label,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
        pageref_label=pageref_label
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\GITrepo\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "C:\GITrepo\dashboard_demo\components\modular_page_blocks.py", line 113, in display_visualizations
    plot_bar_line.plot_bar_line_by_year(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        graph_df,
        ^^^^^^^^^
    ...<12 lines>...
        y_scale="linear",
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\GITrepo\dashboard_demo\Visualisations\plot_bar_line.py", line 168, in plot_bar_line_by_year
    st.plotly_chart(fig, use_container_width=use_container_width)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\plotly_chart.py", line 509, in plotly_chart
    plotly_chart_proto.id = compute_and_register_element_id(
                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "plotly_chart",
        ^^^^^^^^^^^^^^^
    ...<7 lines>...
        use_container_width=use_container_width,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\lib\utils.py", line 241, in compute_and_register_element_id
    _register_element_id(ctx, element_type, element_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\lib\utils.py", line 147, in _register_element_id
    raise StreamlitDuplicateElementId(element_type)
streamlit.errors.StreamlitDuplicateElementId: There are multiple `plotly_chart` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `plotly_chart` element.
2025/03/18 03:58 CRITICAL:Menu setup crashed: There are multiple `slider` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `slider` element.
Traceback (most recent call last):
  File "C:\GITrepo\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 45, in <module>
    politicalpartyanalysis.pagesetup()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\GITrepo\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "C:\GITrepo\dashboard_demo\politicalpartyanalysis.py", line 50, in pagesetup
    app.run()  # Run the  app
    ~~~~~~~^^
  File "C:\GITrepo\dashboard_demo\app_pages\multi_page.py", line 47, in run
    page["function"]()  # Run the selected page's function
    ~~~~~~~~~~~~~~~~^^
  File "C:\GITrepo\dashboard_demo\app_pages\mod_page_calls.py", line 103, in mod_donations_per_political_party
    display_per_group_data_page(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        functionname="mod_donations_per_political_party",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        filter_key="PoliticalParty_ftr",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        target_label="Donations per Political Party",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        group_entity="Party")
        ^^^^^^^^^^^^^^^^^^^^^
  File "C:\GITrepo\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "C:\GITrepo\dashboard_demo\app_pages\modular_page_per_donor.py", line 34, in display_per_group_data_page
    ) = load_and_filter_pergroup(
        ~~~~~~~~~~~~~~~~~~~~~~~~^
        group_entity=group_entity, filter_key=filter_key, pageref_label=pageref_label
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\GITrepo\dashboard_demo\components\modular_page_blocks.py", line 218, in load_and_filter_pergroup
    date_range2 = st.slider(
        "Select Date Range",
    ...<3 lines>...
        format="YYYY-MM-DD",
    )
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\runtime\metrics_util.py", line 410, in wrapped_func
    result = non_optional_func(*args, **kwargs)
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\widgets\slider.py", line 512, in slider
    return self._slider(
           ~~~~~~~~~~~~^
        label=label,
        ^^^^^^^^^^^^
    ...<12 lines>...
        ctx=ctx,
        ^^^^^^^^
    )
    ^
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\widgets\slider.py", line 557, in _slider
    element_id = compute_and_register_element_id(
        "slider",
    ...<8 lines>...
        help=help,
    )
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\lib\utils.py", line 241, in compute_and_register_element_id
    _register_element_id(ctx, element_type, element_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\GITrepo\dashboard_demo\.venv\Lib\site-packages\streamlit\elements\lib\utils.py", line 147, in _register_element_id
    raise StreamlitDuplicateElementId(element_type)
streamlit.errors.StreamlitDuplicateElementId: There are multiple `slider` elements with the same auto-generated ID. When this element is created, it is assigned an internal ID based on the element type and provided parameters. Multiple elements with the same type and parameters will cause this error.

To fix this error, please pass a unique `key` argument to the `slider` element.
2025/03/18 04:14 ERROR:Session state variables not initialized!
2025/03/18 04:14 ERROR:Error: originalfilepath is None!
2025/03/18 04:14 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 04:14 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 04:14 ERROR:Failed to load election dates from file.
2025/03/18 04:14 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/18 08:50 ERROR:Session state variables not initialized!
2025/03/18 08:50 ERROR:Error: originalfilepath is None!
2025/03/18 08:50 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 08:50 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 08:50 ERROR:Failed to load election dates from file.
2025/03/18 08:50 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/18 10:17 ERROR:Session state variables not initialized!
2025/03/18 10:17 ERROR:Error: originalfilepath is None!
2025/03/18 10:17 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 10:17 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 10:17 ERROR:Failed to load election dates from file.
2025/03/18 10:17 ERROR:Error in load_cleaned_data: [Errno 2] No such file or directory: 'RPI.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 491, in load_cleaned_data
    RPI_index = pd.read_csv("RPI.csv", header=None, skiprows=8, names=["Date", "RPI_Index"])
  File "H:\python310\lib\site-packages\pandas\io\parsers\readers.py", line 948, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "H:\python310\lib\site-packages\pandas\io\parsers\readers.py", line 611, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "H:\python310\lib\site-packages\pandas\io\parsers\readers.py", line 1448, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "H:\python310\lib\site-packages\pandas\io\parsers\readers.py", line 1705, in _make_engine
    self.handles = get_handle(
  File "H:\python310\lib\site-packages\pandas\io\common.py", line 863, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: 'RPI.csv'
2025/03/18 10:17 CRITICAL:First load crashed: [Errno 2] No such file or directory: 'RPI.csv'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 78, in firstload
    load_data_to_session("data_clean", get_cleaned_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 26, in get_cleaned_data
    return load_cleaned_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 491, in load_cleaned_data
    RPI_index = pd.read_csv("RPI.csv", header=None, skiprows=8, names=["Date", "RPI_Index"])
  File "H:\python310\lib\site-packages\pandas\io\parsers\readers.py", line 948, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "H:\python310\lib\site-packages\pandas\io\parsers\readers.py", line 611, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "H:\python310\lib\site-packages\pandas\io\parsers\readers.py", line 1448, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "H:\python310\lib\site-packages\pandas\io\parsers\readers.py", line 1705, in _make_engine
    self.handles = get_handle(
  File "H:\python310\lib\site-packages\pandas\io\common.py", line 863, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: 'RPI.csv'
2025/03/18 10:18 ERROR:Session state variables not initialized!
2025/03/18 10:18 ERROR:Error: originalfilepath is None!
2025/03/18 10:18 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 10:18 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 10:18 ERROR:Failed to load election dates from file.
2025/03/18 10:18 ERROR:Error in load_cleaned_data: Can only compare identically-labeled Series objects
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 500, in load_cleaned_data
    loadclean_df["Value"] * (RPI_Start / RPI_index[RPI_index["Date"] == loadclean_df["ReceivedDate"]]["RPI_Index"].values[0])
  File "H:\python310\lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
  File "H:\python310\lib\site-packages\pandas\core\arraylike.py", line 40, in __eq__
    return self._cmp_method(other, operator.eq)
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 5794, in _cmp_method
    raise ValueError("Can only compare identically-labeled Series objects")
ValueError: Can only compare identically-labeled Series objects
2025/03/18 10:18 CRITICAL:First load crashed: Can only compare identically-labeled Series objects
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 78, in firstload
    load_data_to_session("data_clean", get_cleaned_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 26, in get_cleaned_data
    return load_cleaned_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 500, in load_cleaned_data
    loadclean_df["Value"] * (RPI_Start / RPI_index[RPI_index["Date"] == loadclean_df["ReceivedDate"]]["RPI_Index"].values[0])
  File "H:\python310\lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
  File "H:\python310\lib\site-packages\pandas\core\arraylike.py", line 40, in __eq__
    return self._cmp_method(other, operator.eq)
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 5794, in _cmp_method
    raise ValueError("Can only compare identically-labeled Series objects")
ValueError: Can only compare identically-labeled Series objects
2025/03/18 10:20 ERROR:Session state variables not initialized!
2025/03/18 10:20 ERROR:Error: originalfilepath is None!
2025/03/18 10:20 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 10:20 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 10:20 ERROR:Failed to load election dates from file.
2025/03/18 10:20 ERROR:Error in load_cleaned_data: 'Date'
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\indexes\base.py", line 3790, in get_loc
    return self._engine.get_loc(casted_key)
  File "index.pyx", line 152, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 181, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 7080, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Date'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 493, in load_cleaned_data
    RPI_index["Date"] = RPI_index["Date"].apply(lambda x: str(x) + " Jan" if len(str(x)) == 4 else x)
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 3896, in __getitem__
    indexer = self.columns.get_loc(key)
  File "H:\python310\lib\site-packages\pandas\core\indexes\base.py", line 3797, in get_loc
    raise KeyError(key) from err
KeyError: 'Date'
2025/03/18 10:20 CRITICAL:First load crashed: 'Date'
Traceback (most recent call last):
  File "H:\python310\lib\site-packages\pandas\core\indexes\base.py", line 3790, in get_loc
    return self._engine.get_loc(casted_key)
  File "index.pyx", line 152, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 181, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 7080, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Date'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 78, in firstload
    load_data_to_session("data_clean", get_cleaned_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 26, in get_cleaned_data
    return load_cleaned_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 493, in load_cleaned_data
    RPI_index["Date"] = RPI_index["Date"].apply(lambda x: str(x) + " Jan" if len(str(x)) == 4 else x)
  File "H:\python310\lib\site-packages\pandas\core\frame.py", line 3896, in __getitem__
    indexer = self.columns.get_loc(key)
  File "H:\python310\lib\site-packages\pandas\core\indexes\base.py", line 3797, in get_loc
    raise KeyError(key) from err
KeyError: 'Date'
2025/03/18 10:21 ERROR:Error in initialise_data: unterminated string literal (detected at line 506) (clean_and_enhance.py, line 506)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 3, in <module>
    from data.clean_and_enhance import load_cleaned_data
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 506
    logger.debug(f"RPI Modified Value: {loadclean_df[['ReceivedDate',
                 ^
SyntaxError: unterminated string literal (detected at line 506)
2025/03/18 10:21 CRITICAL:First load crashed: unterminated string literal (detected at line 506) (clean_and_enhance.py, line 506)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 3, in <module>
    from data.clean_and_enhance import load_cleaned_data
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 506
    logger.debug(f"RPI Modified Value: {loadclean_df[['ReceivedDate',
                 ^
SyntaxError: unterminated string literal (detected at line 506)
2025/03/18 10:21 ERROR:Error in initialise_data: unterminated string literal (detected at line 506) (clean_and_enhance.py, line 506)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 3, in <module>
    from data.clean_and_enhance import load_cleaned_data
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 506
    logger.debug(f"RPI Modified Value: {loadclean_df[['ReceivedDate',
                 ^
SyntaxError: unterminated string literal (detected at line 506)
2025/03/18 10:21 CRITICAL:First load crashed: unterminated string literal (detected at line 506) (clean_and_enhance.py, line 506)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 3, in <module>
    from data.clean_and_enhance import load_cleaned_data
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 506
    logger.debug(f"RPI Modified Value: {loadclean_df[['ReceivedDate',
                 ^
SyntaxError: unterminated string literal (detected at line 506)
2025/03/18 10:22 ERROR:Session state variables not initialized!
2025/03/18 10:22 ERROR:Error: originalfilepath is None!
2025/03/18 10:22 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 10:22 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 10:22 ERROR:Failed to load election dates from file.
2025/03/18 10:22 ERROR:Error in load_cleaned_data: time data "1800" doesn't match format "%Y %b", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 495, in load_cleaned_data
    RPI_index["ReceivedDate"] = pd.to_datetime(RPI_index["ReceivedDate"], format="%Y %b")
  File "H:\python310\lib\site-packages\pandas\core\tools\datetimes.py", line 1112, in to_datetime
    values = convert_listlike(arg._values, format)
  File "H:\python310\lib\site-packages\pandas\core\tools\datetimes.py", line 488, in _convert_listlike_datetimes
    return _array_strptime_with_fallback(arg, name, utc, format, exact, errors)
  File "H:\python310\lib\site-packages\pandas\core\tools\datetimes.py", line 519, in _array_strptime_with_fallback
    result, timezones = array_strptime(arg, fmt, exact=exact, errors=errors, utc=utc)
  File "strptime.pyx", line 534, in pandas._libs.tslibs.strptime.array_strptime
  File "strptime.pyx", line 355, in pandas._libs.tslibs.strptime.array_strptime
ValueError: time data "1800" doesn't match format "%Y %b", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025/03/18 10:22 CRITICAL:First load crashed: time data "1800" doesn't match format "%Y %b", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 78, in firstload
    load_data_to_session("data_clean", get_cleaned_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 26, in get_cleaned_data
    return load_cleaned_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 495, in load_cleaned_data
    RPI_index["ReceivedDate"] = pd.to_datetime(RPI_index["ReceivedDate"], format="%Y %b")
  File "H:\python310\lib\site-packages\pandas\core\tools\datetimes.py", line 1112, in to_datetime
    values = convert_listlike(arg._values, format)
  File "H:\python310\lib\site-packages\pandas\core\tools\datetimes.py", line 488, in _convert_listlike_datetimes
    return _array_strptime_with_fallback(arg, name, utc, format, exact, errors)
  File "H:\python310\lib\site-packages\pandas\core\tools\datetimes.py", line 519, in _array_strptime_with_fallback
    result, timezones = array_strptime(arg, fmt, exact=exact, errors=errors, utc=utc)
  File "strptime.pyx", line 534, in pandas._libs.tslibs.strptime.array_strptime
  File "strptime.pyx", line 355, in pandas._libs.tslibs.strptime.array_strptime
ValueError: time data "1800" doesn't match format "%Y %b", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025/03/18 10:23 ERROR:Session state variables not initialized!
2025/03/18 10:23 ERROR:Error: originalfilepath is None!
2025/03/18 10:23 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 10:23 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 10:23 ERROR:Failed to load election dates from file.
2025/03/18 10:23 ERROR:Error in load_cleaned_data: Can only compare identically-labeled Series objects
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 501, in load_cleaned_data
    loadclean_df["Value"] * (RPI_Start / RPI_index[RPI_index["ReceivedDate"] == loadclean_df["ReceivedDate"]]["RPI_Index"].values[0])
  File "H:\python310\lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
  File "H:\python310\lib\site-packages\pandas\core\arraylike.py", line 40, in __eq__
    return self._cmp_method(other, operator.eq)
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 5794, in _cmp_method
    raise ValueError("Can only compare identically-labeled Series objects")
ValueError: Can only compare identically-labeled Series objects
2025/03/18 10:23 CRITICAL:First load crashed: Can only compare identically-labeled Series objects
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 50, in initialise_data
    firstload()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 78, in firstload
    load_data_to_session("data_clean", get_cleaned_data)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 66, in load_data_to_session
    st.session_state[key] = loader_function()
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 26, in get_cleaned_data
    return load_cleaned_data(
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\data\clean_and_enhance.py", line 501, in load_cleaned_data
    loadclean_df["Value"] * (RPI_Start / RPI_index[RPI_index["ReceivedDate"] == loadclean_df["ReceivedDate"]]["RPI_Index"].values[0])
  File "H:\python310\lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
  File "H:\python310\lib\site-packages\pandas\core\arraylike.py", line 40, in __eq__
    return self._cmp_method(other, operator.eq)
  File "H:\python310\lib\site-packages\pandas\core\series.py", line 5794, in _cmp_method
    raise ValueError("Can only compare identically-labeled Series objects")
ValueError: Can only compare identically-labeled Series objects
2025/03/18 10:29 ERROR:Session state variables not initialized!
2025/03/18 10:29 ERROR:Error: originalfilepath is None!
2025/03/18 10:29 ERROR:Failed to load data from output\cleaned_donations.csv
2025/03/18 10:29 ERROR:Timestamp key election_dates_last_modified not recognised.
2025/03/18 10:29 ERROR:Failed to load election dates from file.
2025/03/18 10:29 ERROR:Timestamp key load_donorlist_data_last_modified not recognised.
2025/03/18 10:42 ERROR:Error in initialise_data: cannot import name 'datapipeline_logger' from 'utils.logger' (H:\VScode\dashboard_demo\utils\logger.py)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 1, in <module>
    from utils.logger import datapipeline_logger as logger, log_function_call
ImportError: cannot import name 'datapipeline_logger' from 'utils.logger' (H:\VScode\dashboard_demo\utils\logger.py)
2025/03/18 10:42 CRITICAL:First load crashed: cannot import name 'datapipeline_logger' from 'utils.logger' (H:\VScode\dashboard_demo\utils\logger.py)
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 1, in <module>
    from utils.logger import datapipeline_logger as logger, log_function_call
ImportError: cannot import name 'datapipeline_logger' from 'utils.logger' (H:\VScode\dashboard_demo\utils\logger.py)
2025/03/18 10:42 ERROR:Error in initialise_data: No module named 'google.cloud'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 13, in <module>
    from google.cloud import api_keys_v2
ModuleNotFoundError: No module named 'google.cloud'
2025/03/18 10:42 CRITICAL:First load crashed: No module named 'google.cloud'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 13, in <module>
    from google.cloud import api_keys_v2
ModuleNotFoundError: No module named 'google.cloud'
2025/03/18 10:42 ERROR:Error in initialise_data: No module named 'google.cloud'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 13, in <module>
    from google.cloud import api_keys_v2
ModuleNotFoundError: No module named 'google.cloud'
2025/03/18 10:42 CRITICAL:First load crashed: No module named 'google.cloud'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 13, in <module>
    from google.cloud import api_keys_v2
ModuleNotFoundError: No module named 'google.cloud'
2025/03/18 10:44 ERROR:Error in initialise_data: module 'tqdm' has no attribute 'pandas'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pandas
AttributeError: module 'tqdm' has no attribute 'pandas'
2025/03/18 10:44 CRITICAL:First load crashed: module 'tqdm' has no attribute 'pandas'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pandas
AttributeError: module 'tqdm' has no attribute 'pandas'
2025/03/18 10:44 ERROR:Error in initialise_data: module 'tqdm' has no attribute 'pd'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pd
AttributeError: module 'tqdm' has no attribute 'pd'
2025/03/18 10:44 CRITICAL:First load crashed: module 'tqdm' has no attribute 'pd'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pd
AttributeError: module 'tqdm' has no attribute 'pd'
2025/03/18 10:46 ERROR:Error in initialise_data: module 'tqdm' has no attribute 'pandas'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pandas
AttributeError: module 'tqdm' has no attribute 'pandas'
2025/03/18 10:46 CRITICAL:First load crashed: module 'tqdm' has no attribute 'pandas'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pandas
AttributeError: module 'tqdm' has no attribute 'pandas'
2025/03/18 10:47 ERROR:Error in initialise_data: module 'tqdm' has no attribute 'pandas'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pandas()
AttributeError: module 'tqdm' has no attribute 'pandas'
2025/03/18 10:47 CRITICAL:First load crashed: module 'tqdm' has no attribute 'pandas'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pandas()
AttributeError: module 'tqdm' has no attribute 'pandas'
2025/03/18 10:47 ERROR:Error in initialise_data: module 'tqdm' has no attribute 'pandas'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pandas()
AttributeError: module 'tqdm' has no attribute 'pandas'
2025/03/18 10:47 CRITICAL:First load crashed: module 'tqdm' has no attribute 'pandas'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 22, in <module>
    tqdm.pandas()
AttributeError: module 'tqdm' has no attribute 'pandas'
2025/03/18 10:51 ERROR:Error in initialise_data: [E050] Can't find model 'en_core_web_sm'. It doesn't seem to be a Python package or a valid path to a data directory.
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 29, in <module>
    nlp = spacy.load("en_core_web_sm")
  File "H:\python310\lib\site-packages\spacy\__init__.py", line 51, in load
    return util.load_model(
  File "H:\python310\lib\site-packages\spacy\util.py", line 472, in load_model
    raise IOError(Errors.E050.format(name=name))
OSError: [E050] Can't find model 'en_core_web_sm'. It doesn't seem to be a Python package or a valid path to a data directory.
2025/03/18 10:51 CRITICAL:First load crashed: [E050] Can't find model 'en_core_web_sm'. It doesn't seem to be a Python package or a valid path to a data directory.
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 29, in <module>
    nlp = spacy.load("en_core_web_sm")
  File "H:\python310\lib\site-packages\spacy\__init__.py", line 51, in load
    return util.load_model(
  File "H:\python310\lib\site-packages\spacy\util.py", line 472, in load_model
    raise IOError(Errors.E050.format(name=name))
OSError: [E050] Can't find model 'en_core_web_sm'. It doesn't seem to be a Python package or a valid path to a data directory.
2025/03/18 10:54 ERROR:Error in initialise_data: 'Logger' object has no attribute '__name__'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 39, in wrapper
    logger.debug(f"Calling {func.__name__} with"
AttributeError: 'Logger' object has no attribute '__name__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 43, in <module>
    def checkdirectory():
  File "H:\VScode\dashboard_demo\utils\logger.py", line 47, in wrapper
    logger.error(f"Error in {func.__name__}:"
AttributeError: 'Logger' object has no attribute '__name__'
2025/03/18 10:54 CRITICAL:First load crashed: 'Logger' object has no attribute '__name__'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 39, in wrapper
    logger.debug(f"Calling {func.__name__} with"
AttributeError: 'Logger' object has no attribute '__name__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 43, in <module>
    def checkdirectory():
  File "H:\VScode\dashboard_demo\utils\logger.py", line 47, in wrapper
    logger.error(f"Error in {func.__name__}:"
AttributeError: 'Logger' object has no attribute '__name__'
2025/03/18 10:55 INFO:Logging is set up correctly! Current log level: DEBUG
2025/03/18 10:55 DEBUG:Calling get_git_version with args={args}, kwargs={kwargs}
2025/03/18 10:55 INFO:get_git_version executed successfully
2025/03/18 10:55 DEBUG:Calling get_git_version with args={args}, kwargs={kwargs}
2025/03/18 10:55 INFO:get_git_version executed successfully
2025/03/18 10:55 INFO:Streamlit App Starting...
2025/03/18 10:55 INFO:Streamlit App Starting...
2025/03/18 10:55 INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/03/18 10:55 INFO:Current Working Directory: H:\VScode\dashboard_demo
2025/03/18 10:55 INFO:running H:\VScode\dashboard_demo, H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py
2025/03/18 10:55 INFO:running H:\VScode\dashboard_demo, H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py
2025/03/18 10:55 INFO:Running App setup...
2025/03/18 10:55 INFO:Running App setup...
2025/03/18 10:55 DEBUG:Calling setup_package with args={args}, kwargs={kwargs}
2025/03/18 10:55 DEBUG:Calling setup_package with args={args}, kwargs={kwargs}
2025/03/18 10:55 INFO:Setting up the package
2025/03/18 10:55 INFO:Setting up the package
2025/03/18 10:55 INFO:Module directory: H:\VScode\dashboard_demo
2025/03/18 10:55 INFO:Module directory: H:\VScode\dashboard_demo
2025/03/18 10:55 DEBUG:Calling get_git_version with args={args}, kwargs={kwargs}
2025/03/18 10:55 DEBUG:Calling get_git_version with args={args}, kwargs={kwargs}
2025/03/18 10:55 INFO:get_git_version executed successfully
2025/03/18 10:55 INFO:get_git_version executed successfully
2025/03/18 10:55 INFO:Version: v39.181
2025/03/18 10:55 INFO:Version: v39.181
2025/03/18 10:55 DEBUG:Calling initialize_session_state with args={args}, kwargs={kwargs}
2025/03/18 10:55 DEBUG:Calling initialize_session_state with args={args}, kwargs={kwargs}
2025/03/18 10:55 INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/03/18 10:55 INFO:BASE_DIR: H:\VScode\dashboard_demo
2025/03/18 10:55 DEBUG:Initialised BASE_DIR with value: H:\VScode\dashboard_demo
2025/03/18 10:55 DEBUG:Initialised BASE_DIR with value: H:\VScode\dashboard_demo
2025/03/18 10:55 DEBUG:Initialised filenames with value: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.zip', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.zip', 'donor_map_fname': 'PoliticalDonorsDeduped.zip', 'politician_party_fname': 'ListOfPoliticalPeople_Final.zip', 'regentity_map_fname': 'PoliticalEntityDeDuped.zip', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json', 'ELECTION_DATES': 'elections.csv', 'LAST_MODIFIED_DATES': 'last_modified_dates.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.zip', 'cleaned_donations_fname': 'cleaned_donations.zip', 'cleaned_donorlist_fname': 'cleaned_donorlist.zip', 'cleaned_regentity_fname': 'cleaned_regentity.zip', 'party_summary_fname': 'party_summary.zip', 'imported_raw_fname': 'imported_raw.zip'}, 'source_dir': {'source_data_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/03/18 10:55 DEBUG:Initialised filenames with value: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.zip', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.zip', 'donor_map_fname': 'PoliticalDonorsDeduped.zip', 'politician_party_fname': 'ListOfPoliticalPeople_Final.zip', 'regentity_map_fname': 'PoliticalEntityDeDuped.zip', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json', 'ELECTION_DATES': 'elections.csv', 'LAST_MODIFIED_DATES': 'last_modified_dates.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.zip', 'cleaned_donations_fname': 'cleaned_donations.zip', 'cleaned_donorlist_fname': 'cleaned_donorlist.zip', 'cleaned_regentity_fname': 'cleaned_regentity.zip', 'party_summary_fname': 'party_summary.zip', 'imported_raw_fname': 'imported_raw.zip'}, 'source_dir': {'source_data_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/03/18 10:55 DEBUG:Initialised PLACEHOLDER_DATE with value: 1900-01-01 00:00:00
2025/03/18 10:55 DEBUG:Initialised PLACEHOLDER_DATE with value: 1900-01-01 00:00:00
2025/03/18 10:55 DEBUG:Initialised PLACEHOLDER_ID with value: 1000001
2025/03/18 10:55 DEBUG:Initialised PLACEHOLDER_ID with value: 1000001
2025/03/18 10:55 DEBUG:Initialised thresholds with value: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/03/18 10:55 DEBUG:Initialised thresholds with value: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/03/18 10:55 DEBUG:Initialised data_remappings with value: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/03/18 10:55 DEBUG:Initialised data_remappings with value: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/03/18 10:55 DEBUG:Initialised filter_def with value: {'Sponsorships_ftr': {'NatureOfDonation': 'Sponsorship', 'IsSponsorshipInt': 1}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregationInt': 1, 'NatureOfDonation': 'Aggregated Donation', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation'], 'DonorStatus': ['Impermissible Donor', 'Unidentified Donor', 'Unidentifiable Donor']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': [1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': [1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorStatus': 'Registered Political Party'}, 'CashDonations_ftr': {'DonationType': ['Cash', 'Aggregate Donation']}, 'PublicFundsDonations_ftr': {'DonationType': 'Public Funds'}, 'NonCashDonations_ftr': {'DonationType': ['Non Cash', 'Visit', 'Bequest', 'Sponsorship']}}
2025/03/18 10:55 DEBUG:Initialised filter_def with value: {'Sponsorships_ftr': {'NatureOfDonation': 'Sponsorship', 'IsSponsorshipInt': 1}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregationInt': 1, 'NatureOfDonation': 'Aggregated Donation', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation'], 'DonorStatus': ['Impermissible Donor', 'Unidentified Donor', 'Unidentifiable Donor']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': [1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': [1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorStatus': 'Registered Political Party'}, 'CashDonations_ftr': {'DonationType': ['Cash', 'Aggregate Donation']}, 'PublicFundsDonations_ftr': {'DonationType': 'Public Funds'}, 'NonCashDonations_ftr': {'DonationType': ['Non Cash', 'Visit', 'Bequest', 'Sponsorship']}}
2025/03/18 10:55 DEBUG:Initialised security with value: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/03/18 10:55 DEBUG:Initialised security with value: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/03/18 10:55 DEBUG:Initialised perc_target with value: 0.5
2025/03/18 10:55 DEBUG:Initialised perc_target with value: 0.5
2025/03/18 10:55 DEBUG:Initialised RERUN_MP_PARTY_MEMBERSHIP with value: False
2025/03/18 10:55 DEBUG:Initialised RERUN_MP_PARTY_MEMBERSHIP with value: False
2025/03/18 10:55 DEBUG:Initialised directories with value: {'BASE_DIR': WindowsPath('H:/VScode/dashboard_demo'), 'data_dir': 'data', 'output_dir': 'output', 'logs_dir': 'logs', 'reference_dir': 'reference_files', 'components_dir': 'components', 'app_pages_dir': 'app_pages', 'utils_dir': 'utils', 'source_dir': 'source', 'tests_dir': 'tests'}
2025/03/18 10:55 DEBUG:Initialised directories with value: {'BASE_DIR': WindowsPath('H:/VScode/dashboard_demo'), 'data_dir': 'data', 'output_dir': 'output', 'logs_dir': 'logs', 'reference_dir': 'reference_files', 'components_dir': 'components', 'app_pages_dir': 'app_pages', 'utils_dir': 'utils', 'source_dir': 'source', 'tests_dir': 'tests'}
2025/03/18 10:55 DEBUG:Initialised reference_dir with value: reference_files
2025/03/18 10:55 DEBUG:Initialised reference_dir with value: reference_files
2025/03/18 10:55 DEBUG:Initialised data_dir with value: data
2025/03/18 10:55 DEBUG:Initialised data_dir with value: data
2025/03/18 10:55 DEBUG:Initialised output_dir with value: output
2025/03/18 10:55 DEBUG:Initialised output_dir with value: output
2025/03/18 10:55 DEBUG:Initialised logs_dir with value: logs
2025/03/18 10:55 DEBUG:Initialised logs_dir with value: logs
2025/03/18 10:55 DEBUG:Initialised components_dir with value: components
2025/03/18 10:55 DEBUG:Initialised components_dir with value: components
2025/03/18 10:55 DEBUG:Initialised app_pages_dir with value: app_pages
2025/03/18 10:55 DEBUG:Initialised app_pages_dir with value: app_pages
2025/03/18 10:55 DEBUG:Initialised utils_dir with value: utils
2025/03/18 10:55 DEBUG:Initialised utils_dir with value: utils
2025/03/18 10:55 DEBUG:Initialised Donor_dedupe_cleaned_fname with value: reference_files\Donor_dedupe_cleaned_data.zip
2025/03/18 10:55 DEBUG:Initialised Donor_dedupe_cleaned_fname with value: reference_files\Donor_dedupe_cleaned_data.zip
2025/03/18 10:55 DEBUG:Initialised ListofPoliticalPeople_fname with value: reference_files\ListOfPoliticalPeople.csv
2025/03/18 10:55 DEBUG:Initialised ListofPoliticalPeople_fname with value: reference_files\ListOfPoliticalPeople.csv
2025/03/18 10:55 DEBUG:Initialised mppartymemb_fname with value: reference_files\mppartymemb_pypd.zip
2025/03/18 10:55 DEBUG:Initialised mppartymemb_fname with value: reference_files\mppartymemb_pypd.zip
2025/03/18 10:55 DEBUG:Initialised donor_map_fname with value: reference_files\PoliticalDonorsDeduped.zip
2025/03/18 10:55 DEBUG:Initialised donor_map_fname with value: reference_files\PoliticalDonorsDeduped.zip
2025/03/18 10:55 DEBUG:Initialised politician_party_fname with value: reference_files\ListOfPoliticalPeople_Final.zip
2025/03/18 10:55 DEBUG:Initialised politician_party_fname with value: reference_files\ListOfPoliticalPeople_Final.zip
2025/03/18 10:55 DEBUG:Initialised regentity_map_fname with value: reference_files\PoliticalEntityDeDuped.zip
2025/03/18 10:55 DEBUG:Initialised regentity_map_fname with value: reference_files\PoliticalEntityDeDuped.zip
2025/03/18 10:55 DEBUG:Initialised original_data_fname with value: reference_files\original_data.csv
2025/03/18 10:55 DEBUG:Initialised original_data_fname with value: reference_files\original_data.csv
2025/03/18 10:55 DEBUG:Initialised CREDENTIALS_FILE with value: reference_files\admin_credentials.json
2025/03/18 10:55 DEBUG:Initialised CREDENTIALS_FILE with value: reference_files\admin_credentials.json
2025/03/18 10:55 DEBUG:Initialised TEXT_FILE with value: reference_files\admin_text.json
2025/03/18 10:55 DEBUG:Initialised TEXT_FILE with value: reference_files\admin_text.json
2025/03/18 10:55 DEBUG:Initialised ELECTION_DATES with value: reference_files\elections.csv
2025/03/18 10:55 DEBUG:Initialised ELECTION_DATES with value: reference_files\elections.csv
2025/03/18 10:55 DEBUG:Initialised LAST_MODIFIED_DATES with value: reference_files\last_modified_dates.json
2025/03/18 10:55 DEBUG:Initialised LAST_MODIFIED_DATES with value: reference_files\last_modified_dates.json
2025/03/18 10:55 DEBUG:Initialised cleaned_data_fname with value: output\cleaned_data.zip
2025/03/18 10:55 DEBUG:Initialised cleaned_data_fname with value: output\cleaned_data.zip
2025/03/18 10:55 DEBUG:Initialised cleaned_donations_fname with value: output\cleaned_donations.zip
2025/03/18 10:55 DEBUG:Initialised cleaned_donations_fname with value: output\cleaned_donations.zip
2025/03/18 10:55 DEBUG:Initialised cleaned_donorlist_fname with value: output\cleaned_donorlist.zip
2025/03/18 10:55 DEBUG:Initialised cleaned_donorlist_fname with value: output\cleaned_donorlist.zip
2025/03/18 10:55 DEBUG:Initialised cleaned_regentity_fname with value: output\cleaned_regentity.zip
2025/03/18 10:55 DEBUG:Initialised cleaned_regentity_fname with value: output\cleaned_regentity.zip
2025/03/18 10:55 DEBUG:Initialised party_summary_fname with value: output\party_summary.zip
2025/03/18 10:55 DEBUG:Initialised party_summary_fname with value: output\party_summary.zip
2025/03/18 10:55 DEBUG:Initialised imported_raw_fname with value: output\imported_raw.zip
2025/03/18 10:55 DEBUG:Initialised imported_raw_fname with value: output\imported_raw.zip
2025/03/18 10:55 DEBUG:Initialised source_data_fname with value: source\Donations_accepted_by_political_parties.csv
2025/03/18 10:55 DEBUG:Initialised source_data_fname with value: source\Donations_accepted_by_political_parties.csv
2025/03/18 10:55 DEBUG:Initialised Cash_ftr with value: None
2025/03/18 10:55 DEBUG:Initialised Cash_ftr with value: None
2025/03/18 10:55 INFO:Session_state variables initialized
2025/03/18 10:55 INFO:Session_state variables initialized
2025/03/18 10:55 DEBUG:directories: {'BASE_DIR': WindowsPath('H:/VScode/dashboard_demo'), 'data_dir': 'data', 'output_dir': 'output', 'logs_dir': 'logs', 'reference_dir': 'reference_files', 'components_dir': 'components', 'app_pages_dir': 'app_pages', 'utils_dir': 'utils', 'source_dir': 'source', 'tests_dir': 'tests'}
2025/03/18 10:55 DEBUG:directories: {'BASE_DIR': WindowsPath('H:/VScode/dashboard_demo'), 'data_dir': 'data', 'output_dir': 'output', 'logs_dir': 'logs', 'reference_dir': 'reference_files', 'components_dir': 'components', 'app_pages_dir': 'app_pages', 'utils_dir': 'utils', 'source_dir': 'source', 'tests_dir': 'tests'}
2025/03/18 10:55 DEBUG:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/03/18 10:55 DEBUG:thresholds: {(0, 0): 'No Relevant Donations', (1, 1): 'Single Donation Entity', (2, 5): 'Very Small Entity', (6, 15): 'Small Entity', (16, 100): 'Small Medium Entity', (101, 200): 'Medium Entity', (201, 500): 'Medium Large Entity', (501, 1000): 'Large Entity'}
2025/03/18 10:55 DEBUG:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/03/18 10:55 DEBUG:PLACEHOLDER_DATE: 1900-01-01 00:00:00
2025/03/18 10:55 DEBUG:LAST_MODIFIED_DATES: reference_files\last_modified_dates.json
2025/03/18 10:55 DEBUG:LAST_MODIFIED_DATES: reference_files\last_modified_dates.json
2025/03/18 10:55 DEBUG:source_data_fname: source\Donations_accepted_by_political_parties.csv
2025/03/18 10:55 DEBUG:source_data_fname: source\Donations_accepted_by_political_parties.csv
2025/03/18 10:55 DEBUG:Cash_ftr: None
2025/03/18 10:55 DEBUG:Cash_ftr: None
2025/03/18 10:55 DEBUG:cleaned_donorlist_fname: output\cleaned_donorlist.zip
2025/03/18 10:55 DEBUG:cleaned_donorlist_fname: output\cleaned_donorlist.zip
2025/03/18 10:55 DEBUG:imported_raw_fname: output\imported_raw.zip
2025/03/18 10:55 DEBUG:imported_raw_fname: output\imported_raw.zip
2025/03/18 10:55 DEBUG:data_dir: data
2025/03/18 10:55 DEBUG:data_dir: data
2025/03/18 10:55 DEBUG:original_data_fname: reference_files\original_data.csv
2025/03/18 10:55 DEBUG:original_data_fname: reference_files\original_data.csv
2025/03/18 10:55 DEBUG:cleaned_donations_fname: output\cleaned_donations.zip
2025/03/18 10:55 DEBUG:cleaned_donations_fname: output\cleaned_donations.zip
2025/03/18 10:55 DEBUG:perc_target: 0.5
2025/03/18 10:55 DEBUG:perc_target: 0.5
2025/03/18 10:55 DEBUG:TEXT_FILE: reference_files\admin_text.json
2025/03/18 10:55 DEBUG:TEXT_FILE: reference_files\admin_text.json
2025/03/18 10:55 DEBUG:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/03/18 10:55 DEBUG:data_remappings: {'NatureOfDonation': {'IsBequest': 'Is A Bequest', 'IsAggregation': 'Aggregated Donation', 'IsSponsorship': 'Sponsorship', 'Donation to nan': 'Other', 'Other Payment': 'Other'}, 'PartyParents': {'Conservatives': 52, 'Labour': 53, 'Liberal Democrats': 90, 'Scottish National Party': 102, 'Green Party': 63, 'Plaid Cymru': 77, 'UKIP': 85, 'Unknown': 0}}
2025/03/18 10:55 DEBUG:app_pages_dir: app_pages
2025/03/18 10:55 DEBUG:app_pages_dir: app_pages
2025/03/18 10:55 DEBUG:ListofPoliticalPeople_fname: reference_files\ListOfPoliticalPeople.csv
2025/03/18 10:55 DEBUG:ListofPoliticalPeople_fname: reference_files\ListOfPoliticalPeople.csv
2025/03/18 10:55 DEBUG:output_dir: output
2025/03/18 10:55 DEBUG:output_dir: output
2025/03/18 10:55 DEBUG:components_dir: components
2025/03/18 10:55 DEBUG:components_dir: components
2025/03/18 10:55 DEBUG:mppartymemb_fname: reference_files\mppartymemb_pypd.zip
2025/03/18 10:55 DEBUG:mppartymemb_fname: reference_files\mppartymemb_pypd.zip
2025/03/18 10:55 DEBUG:cleaned_data_fname: output\cleaned_data.zip
2025/03/18 10:55 DEBUG:cleaned_data_fname: output\cleaned_data.zip
2025/03/18 10:55 DEBUG:regentity_map_fname: reference_files\PoliticalEntityDeDuped.zip
2025/03/18 10:55 DEBUG:regentity_map_fname: reference_files\PoliticalEntityDeDuped.zip
2025/03/18 10:55 DEBUG:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.zip', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.zip', 'donor_map_fname': 'PoliticalDonorsDeduped.zip', 'politician_party_fname': 'ListOfPoliticalPeople_Final.zip', 'regentity_map_fname': 'PoliticalEntityDeDuped.zip', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json', 'ELECTION_DATES': 'elections.csv', 'LAST_MODIFIED_DATES': 'last_modified_dates.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.zip', 'cleaned_donations_fname': 'cleaned_donations.zip', 'cleaned_donorlist_fname': 'cleaned_donorlist.zip', 'cleaned_regentity_fname': 'cleaned_regentity.zip', 'party_summary_fname': 'party_summary.zip', 'imported_raw_fname': 'imported_raw.zip'}, 'source_dir': {'source_data_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/03/18 10:55 DEBUG:filenames: {'reference_dir': {'Donor_dedupe_cleaned_fname': 'Donor_dedupe_cleaned_data.zip', 'ListofPoliticalPeople_fname': 'ListOfPoliticalPeople.csv', 'mppartymemb_fname': 'mppartymemb_pypd.zip', 'donor_map_fname': 'PoliticalDonorsDeduped.zip', 'politician_party_fname': 'ListOfPoliticalPeople_Final.zip', 'regentity_map_fname': 'PoliticalEntityDeDuped.zip', 'original_data_fname': 'original_data.csv', 'CREDENTIALS_FILE': 'admin_credentials.json', 'TEXT_FILE': 'admin_text.json', 'ELECTION_DATES': 'elections.csv', 'LAST_MODIFIED_DATES': 'last_modified_dates.json'}, 'output_dir': {'cleaned_data_fname': 'cleaned_data.zip', 'cleaned_donations_fname': 'cleaned_donations.zip', 'cleaned_donorlist_fname': 'cleaned_donorlist.zip', 'cleaned_regentity_fname': 'cleaned_regentity.zip', 'party_summary_fname': 'party_summary.zip', 'imported_raw_fname': 'imported_raw.zip'}, 'source_dir': {'source_data_fname': 'Donations_accepted_by_political_parties.csv'}}
2025/03/18 10:55 DEBUG:PLACEHOLDER_ID: 1000001
2025/03/18 10:55 DEBUG:PLACEHOLDER_ID: 1000001
2025/03/18 10:55 DEBUG:politician_party_fname: reference_files\ListOfPoliticalPeople_Final.zip
2025/03/18 10:55 DEBUG:politician_party_fname: reference_files\ListOfPoliticalPeople_Final.zip
2025/03/18 10:55 DEBUG:utils_dir: utils
2025/03/18 10:55 DEBUG:utils_dir: utils
2025/03/18 10:55 DEBUG:CREDENTIALS_FILE: reference_files\admin_credentials.json
2025/03/18 10:55 DEBUG:CREDENTIALS_FILE: reference_files\admin_credentials.json
2025/03/18 10:55 DEBUG:filter_def: {'Sponsorships_ftr': {'NatureOfDonation': 'Sponsorship', 'IsSponsorshipInt': 1}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregationInt': 1, 'NatureOfDonation': 'Aggregated Donation', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation'], 'DonorStatus': ['Impermissible Donor', 'Unidentified Donor', 'Unidentifiable Donor']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': [1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': [1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorStatus': 'Registered Political Party'}, 'CashDonations_ftr': {'DonationType': ['Cash', 'Aggregate Donation']}, 'PublicFundsDonations_ftr': {'DonationType': 'Public Funds'}, 'NonCashDonations_ftr': {'DonationType': ['Non Cash', 'Visit', 'Bequest', 'Sponsorship']}}
2025/03/18 10:55 DEBUG:filter_def: {'Sponsorships_ftr': {'NatureOfDonation': 'Sponsorship', 'IsSponsorshipInt': 1}, 'ReturnedDonations_ftr': {'DonationAction': ['Returned', 'Forfeited'], 'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonors_ftr': {'DubiousDonor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'DubiousDonations_ftr': {'DubiousData': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, 'AggregatedDonations_ftr': {'IsAggregationInt': 1, 'NatureOfDonation': 'Aggregated Donation', 'DonationType': 'Aggregated Donation'}, 'SafeDonors_ftr': {'DonorType': ['Trade Union', 'Registered Political Party', 'Friendly Society', 'Public Fund']}, 'DubiousDonationType_ftr': {'NatureOfDonation': ['Impermissible Donor', 'Unidentified Donor', 'Total value of donations not reported individually', 'Aggregated Donation'], 'DonorStatus': ['Impermissible Donor', 'Unidentified Donor', 'Unidentifiable Donor']}, 'BlankDate_ftr': {'ReceivedDate': ['PLACEHOLDER_DATE', None]}, 'BlankDonor_ftr': {'DonorId': [1000001]}, 'BlankRegEntity_ftr': {'RegulatedEntityId': [1000001]}, 'DonatedVisits_ftr': {'DonationType': 'Visit', 'NatureOfDonation': 'Visit'}, 'Bequests_ftr': {'IsBequestInt': 1, 'NatureOfDonation': 'Bequest', 'DonationType': 'Bequest'}, 'CorporateDonations_ftr': {'DonorStatus': ['Company', 'Partnership', 'Limited Liability Partnership']}, 'RegulatedEntity_ftr': {'RegulatedEntityType': ['Political Party', 'Regulated Donee', 'Permitted Participant', 'Third Party']}, 'PoliticalParty_ftr': {'DonorStatus': 'Registered Political Party'}, 'CashDonations_ftr': {'DonationType': ['Cash', 'Aggregate Donation']}, 'PublicFundsDonations_ftr': {'DonationType': 'Public Funds'}, 'NonCashDonations_ftr': {'DonationType': ['Non Cash', 'Visit', 'Bequest', 'Sponsorship']}}
2025/03/18 10:55 DEBUG:reference_dir: reference_files
2025/03/18 10:55 DEBUG:reference_dir: reference_files
2025/03/18 10:55 DEBUG:ELECTION_DATES: reference_files\elections.csv
2025/03/18 10:55 DEBUG:ELECTION_DATES: reference_files\elections.csv
2025/03/18 10:55 DEBUG:BASE_DIR: H:\VScode\dashboard_demo
2025/03/18 10:55 DEBUG:BASE_DIR: H:\VScode\dashboard_demo
2025/03/18 10:55 DEBUG:donor_map_fname: reference_files\PoliticalDonorsDeduped.zip
2025/03/18 10:55 DEBUG:donor_map_fname: reference_files\PoliticalDonorsDeduped.zip
2025/03/18 10:55 DEBUG:party_summary_fname: output\party_summary.zip
2025/03/18 10:55 DEBUG:party_summary_fname: output\party_summary.zip
2025/03/18 10:55 DEBUG:cleaned_regentity_fname: output\cleaned_regentity.zip
2025/03/18 10:55 DEBUG:cleaned_regentity_fname: output\cleaned_regentity.zip
2025/03/18 10:55 DEBUG:logs_dir: logs
2025/03/18 10:55 DEBUG:logs_dir: logs
2025/03/18 10:55 DEBUG:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/03/18 10:55 DEBUG:security: {'is_admin': False, 'is_authenticated': False, 'username': '', 'password': ''}
2025/03/18 10:55 DEBUG:Donor_dedupe_cleaned_fname: reference_files\Donor_dedupe_cleaned_data.zip
2025/03/18 10:55 DEBUG:Donor_dedupe_cleaned_fname: reference_files\Donor_dedupe_cleaned_data.zip
2025/03/18 10:55 DEBUG:RERUN_MP_PARTY_MEMBERSHIP: False
2025/03/18 10:55 DEBUG:RERUN_MP_PARTY_MEMBERSHIP: False
2025/03/18 10:55 INFO:Session state Setup complete
2025/03/18 10:55 INFO:Session state Setup complete
2025/03/18 10:55 INFO:initialize_session_state executed successfully
2025/03/18 10:55 INFO:initialize_session_state executed successfully
2025/03/18 10:55 INFO:Package setup complete
2025/03/18 10:55 INFO:Package setup complete
2025/03/18 10:55 INFO:setup_package executed successfully
2025/03/18 10:55 INFO:setup_package executed successfully
2025/03/18 10:55 INFO:Setup completed successfully.
2025/03/18 10:55 INFO:Setup completed successfully.
2025/03/18 10:55 DEBUG:Calling initialise_data with args={args}, kwargs={kwargs}
2025/03/18 10:55 DEBUG:Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025/03/18 10:55 DEBUG:Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025/03/18 10:55 ERROR:Error in initialise_data: 'Logger' object has no attribute '__name__'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 39, in wrapper
    logger.debug(f"Calling {func.__name__} with"
AttributeError: 'Logger' object has no attribute '__name__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 43, in <module>
    def checkdirectory():
  File "H:\VScode\dashboard_demo\utils\logger.py", line 47, in wrapper
    logger.error(f"Error in {func.__name__}:"
AttributeError: 'Logger' object has no attribute '__name__'
2025/03/18 10:55 CRITICAL:First load crashed: 'Logger' object has no attribute '__name__'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 39, in wrapper
    logger.debug(f"Calling {func.__name__} with"
AttributeError: 'Logger' object has no attribute '__name__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 43, in <module>
    def checkdirectory():
  File "H:\VScode\dashboard_demo\utils\logger.py", line 47, in wrapper
    logger.error(f"Error in {func.__name__}:"
AttributeError: 'Logger' object has no attribute '__name__'
2025/03/18 10:55 DEBUG:Calling initialise_data with args={args}, kwargs={kwargs}
2025/03/18 10:55 DEBUG:Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025/03/18 10:55 DEBUG:Converted retries value: 2 -> Retry(total=2, connect=None, read=None, redirect=None, status=None)
2025/03/18 10:55 ERROR:Error in initialise_data: 'Logger' object has no attribute '__name__'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 39, in wrapper
    logger.debug(f"Calling {func.__name__} with"
AttributeError: 'Logger' object has no attribute '__name__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 43, in <module>
    def checkdirectory():
  File "H:\VScode\dashboard_demo\utils\logger.py", line 47, in wrapper
    logger.error(f"Error in {func.__name__}:"
AttributeError: 'Logger' object has no attribute '__name__'
2025/03/18 10:55 CRITICAL:First load crashed: 'Logger' object has no attribute '__name__'
Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\utils\logger.py", line 39, in wrapper
    logger.debug(f"Calling {func.__name__} with"
AttributeError: 'Logger' object has no attribute '__name__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\VScode\dashboard_demo\PoliticalPartyAnalysisDashboard.py", line 54, in <module>
    initialise_data()  # Load the data
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 242, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "H:\python310\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 299, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "H:\VScode\dashboard_demo\utils\logger.py", line 41, in wrapper
    result = func(*args, **kwargs)
  File "H:\VScode\dashboard_demo\data\data_utils.py", line 47, in initialise_data
    from data.data_loader import firstload
  File "H:\VScode\dashboard_demo\data\data_loader.py", line 2, in <module>
    from data.datasetupandclean import load_raw_data
  File "H:\VScode\dashboard_demo\data\datasetupandclean.py", line 3, in <module>
    from utils.utils import save_dataframe_to_zip
  File "H:\VScode\dashboard_demo\utils\utils.py", line 43, in <module>
    def checkdirectory():
  File "H:\VScode\dashboard_demo\utils\logger.py", line 47, in wrapper
    logger.error(f"Error in {func.__name__}:"
AttributeError: 'Logger' object has no attribute '__name__'
